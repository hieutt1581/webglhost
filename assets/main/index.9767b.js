System.register("chunks:///_virtual/UIEggItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts"],(function(e){"use strict";var r,t,i,a,n,o,s,l,c,u,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.defineProperty,a=e.assertThisInitialized,n=e.initializerDefineProperty},function(e){o=e.cclegacy,s=e._decorator,l=e.Sprite,c=e.SpriteFrame,u=e.Component},function(e){p=e.ResourcesManager}],execute:function(){var g,y,f,m,b,h,d,v,I;o._RF.push({},"04822Juxu1DjJr4RlfsBcBa","UIEggItem",void 0);var F=s.ccclass,w=s.property;e("UIEggItem",(g=F("UIEggItem"),y=w(l),f=w(l),m=w([c]),g((d=r((h=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,i(a(r),"manager",void 0),i(a(r),"data",void 0),n(a(r),"view",d,a(r)),n(a(r),"rarityLabel",v,a(r)),n(a(r),"rarityLabelFrames",I,a(r)),r}t(r,e);var o=r.prototype;return o.refreshview=function(e,r){this.manager=e,this.data=r,this.rarityLabel.spriteFrame=this.rarityLabelFrames[r.rarity-1],p.Instance.GetNFTEgg(r.rarity,function(e){this.view.spriteFrame=e,console.log("callback",e.name)}.bind(this))},o.select=function(){this.manager.onSelectEgg(this.data._id,this.data)},r}(u)).prototype,"view",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(h.prototype,"rarityLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=r(h.prototype,"rarityLabelFrames",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=h))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/EggItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts"],(function(e){"use strict";var t,i,r,a,n,o,l,s,c,u,p,m,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,n=e.defineProperty},function(e){o=e.cclegacy,l=e._decorator,s=e.Label,c=e.Sprite,u=e.SpriteFrame,p=e.Node,m=e.Component},function(e){b=e.ResourcesManager}],execute:function(){var g,f,h,I,y,d,N,S,v,E,F,w,z,B,M;o._RF.push({},"04a06nppmpL6aHp8oDNMBw0","EggItem",void 0);var R=l.ccclass,_=l.property;e("EggItem",(g=R("EggItem"),f=_(s),h=_(s),I=_(c),y=_(c),d=_(u),N=_(p),g((E=t((v=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,r(a(t),"amount",E,a(t)),r(a(t),"ItemName",F,a(t)),r(a(t),"Icon",w,a(t)),r(a(t),"Base",z,a(t)),r(a(t),"baseSpriteFrame",B,a(t)),r(a(t),"selectBtn",M,a(t)),n(a(t),"callback",void 0),n(a(t),"data",void 0),n(a(t),"ItemNameString",["COMMON","RARE","EPIC","LEGENDARY","MYTHIC"]),t}i(t,e);var o=t.prototype;return o.Init=function(e,t){this.amount.string=t.toString(),this.Base.spriteFrame=this.baseSpriteFrame[e-1],this.ItemName.string=this.ItemNameString[e-1],b.Instance.GetNFTEgg(e,function(e){this.Icon.spriteFrame=e}.bind(this))},o.InitOnSelect=function(e,t){this.data=e,this.callback=t,this.Init(e.rarity,1)},o.select=function(){this.callback&&this.callback(this.data._id,this.data)},t}(m)).prototype,"amount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(v.prototype,"ItemName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(v.prototype,"Icon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(v.prototype,"Base",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(v.prototype,"baseSpriteFrame",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(v.prototype,"selectBtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=v))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIExpeditionPopup.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ConfigApi.ts","./Utility.ts","./PopUpBase.ts","./SpriteRatioHelper.ts","./UndeadAssetItem.ts","./ExpeditionHelper.ts","./ExpeditionItem.ts","./UImanager.ts","./UIPopupManager.ts","./ExpeditionServiceApi.ts","./ExpeditionConfig.ts"],(function(e){"use strict";var t,i,n,a,o,r,s,l,p,u,d,c,h,g,b,f,m,x,E,S,C,v,R,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.defineProperty,a=e.assertThisInitialized,o=e.initializerDefineProperty},function(e){r=e.cclegacy,s=e._decorator,l=e.Sprite,p=e.sp,u=e.Label,d=e.Node,c=e.Slider,h=e.UITransform},function(e){g=e.ConfigApi},function(e){b=e.Utility},function(e){f=e.PopUpBase},function(e){m=e.SpriteRatioHelper},function(e){x=e.UndeadAssetItem},function(e){E=e.ExpeditionHelper},function(e){S=e.ExpeditionCageState},function(e){C=e.UImanager},function(e){v=e.UIPopupManager},function(e){R=e.ExpeditionServiceApi},function(e){w=e.ExpeditionConfig}],execute:function(){var k,y,I,U,M,P,T,_,L,z,H,O,A,D,B,V,N,F,q,K,G,W,j,Y,Z,J,Q,X,$,ee,te,ie,ne,ae,oe,re,se;r._RF.push({},"05ef9TuxiZOS5HxYbcl1gm2","UIExpeditionPopup",void 0);var le=s.ccclass,pe=s.property;e("UIExpeditionPopup",(k=le("UIExpeditionPopup"),y=pe(m),I=pe(l),U=pe(p.Skeleton),M=pe(u),P=pe(u),T=pe(d),_=pe(d),L=pe(c),z=pe(u),H=pe(h),O=pe(u),A=pe(u),D=pe(u),B=pe(u),V=pe(l),N=pe(u),F=pe(x),k((G=t((K=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(a(t),"data",void 0),n(a(t),"cage_data",void 0),n(a(t),"curEstMask",0),n(a(t),"le2PVURate",void 0),n(a(t),"maxExpeditionHour",void 0),n(a(t),"estMarkCount",1),n(a(t),"partLength",0),o(a(t),"undeadView",G,a(t)),o(a(t),"seasonBg",W,a(t)),o(a(t),"undeadSpine",j,a(t)),o(a(t),"leRate",Y,a(t)),o(a(t),"leRate2",Z,a(t)),o(a(t),"departNode",J,a(t)),o(a(t),"expeditionNode",Q,a(t)),o(a(t),"timeSpentSlider",X,a(t)),o(a(t),"leSpent",$,a(t)),o(a(t),"parentChooseTime",ee,a(t)),o(a(t),"exBonus",te,a(t)),o(a(t),"leConvert2PVU",ie,a(t)),o(a(t),"timeLeft",ne,a(t)),o(a(t),"maxTime",ae,a(t)),o(a(t),"timeProgress",oe,a(t)),o(a(t),"debugExId",re,a(t)),o(a(t),"undeadAsset",se,a(t)),n(a(t),"availableCheckMart",0),t}i(t,e);var r=t.prototype;return r.Show=function(t){this.data=t.undead,this.cage_data=t,e.prototype.OnShow.call(this);var i=this.data.status;this.initUndead(this.data),this.requestLoadRate(this.data),i===S.OnExpedition?this.showExpeditionInfo(this.data):this.showDepart(this.data)},r.requestLoadRate=function(e){R.RequestGetMaxExTime(e._id,function(e){var t=E.CheckStatus(e);null!=t&&this.updateRate(t)}.bind(this))},r.updateRate=function(e){this.le2PVURate=e.data.rateLeToPvu,this.leRate.string="("+this.le2PVURate+" LE = 1PVU)",this.leRate2.string="("+this.le2PVURate+" LE = 1PVU)",this.availableCheckMart=e.data.available},r.updateLeSpent=function(){this.leSpent.string=(this.le2PVURate*this.curEstMask).toString()},r.initUndead=function(e){this.undeadAsset.Init(e)},r.showDepart=function(e){this.departNode.active=!0,this.expeditionNode.active=!1,this.curEstMask=0,this.timeSpentSlider.progress=0,this.leSpent.string="0",this.maxExpeditionHour=e.maxExpeditionHour,this.estMarkCount=this.maxExpeditionHour/w.EST_CHECK_MARK+1,this.partLength=this.parentChooseTime.width/(this.estMarkCount-1),console.log("part count",this.estMarkCount,"  length",this.partLength," width",this.parentChooseTime.width);for(var t=this.parentChooseTime.node.children,i=0;i<t.length;i++)i>=this.estMarkCount?t[i].active=!1:(t[i].active=!0,t[i].setPosition(i*this.partLength,0,0))},r.showExpeditionInfo=function(e){this.departNode.active=!1,this.expeditionNode.active=!0;var t=e.current_expedition;1==g.IS_PRO?this.debugExId.node.active=!1:(this.debugExId.node.active=!0,this.debugExId.string="ExId: "+t._id),this.exBonus.string=Math.floor(1e4*(e.exchangeRate-1))/100+"%",this.leConvert2PVU.string=t.leAmount;var i=E.GetTotalSecTimeLeft(t);this.timeLeft.string="Time left: "+b.ConvertSecondsToTime(i),this.maxTime.string=t.estCheckMark*w.EST_CHECK_MARK+" hrs";var n=t.startTime,a=t.estEndTime,o=Date.parse(n),r=Date.parse(a),s=b.GetTimeNow();this.timeProgress.fillRange=1-(r-s)/(r-o)},r.onProgresschanged=function(){var e=this.timeSpentSlider.progress/(1/(this.estMarkCount-1));(e=(e%1>.5?1:0)+parseInt(e.toString()))>this.estMarkCount&&(e=this.estMarkCount),e>this.availableCheckMart&&(e=this.availableCheckMart),this.OnChooseHoursClick(null,e)},r.OnChooseHoursClick=function(e,t){t>this.availableCheckMart||(this.curEstMask=t,this.timeSpentSlider.progress=t/(this.estMarkCount-1),this.updateLeSpent())},r.OnBtnDepartClick=function(){0!=this.curEstMask?(console.log("OnBtnDepartClick",this.curEstMask),R.RequestDepartUndead(this.data._id,this.curEstMask,this.OnDepartRespone.bind(this))):v.Instance.ShowToast("Error","Select Expedition time",0)},r.OnDepartRespone=function(t){console.log("OnDepartRespone",t);var i=E.CheckStatus(t);null!=i&&(e.prototype.OnHide.call(this),C.Instance._UIScreenFram.getExpedition().showExpedition(),C.Instance._UIScreenFram.TweenLE(i.data.leWallet,!1))},r.OnBtnRecallClick=function(){var e=this.data.current_expedition;R.RequestRecallUndead(e._id,this.onRecallRespone.bind(this))},r.onRecallRespone=function(t){console.log("onRecallRespone",t);var i=E.CheckStatus(t);null!=i&&(e.prototype.OnHide.call(this),C.Instance._UIScreenFram.getExpedition().delayShow(2),C.Instance._UIScreenFram.TweenLE(i.data.leWallet,!1))},r.OnBtnCloseClick=function(){e.prototype.OnHide.call(this)},t}(f)).prototype,"undeadView",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(K.prototype,"seasonBg",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(K.prototype,"undeadSpine",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(K.prototype,"leRate",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(K.prototype,"leRate2",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(K.prototype,"departNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(K.prototype,"expeditionNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(K.prototype,"timeSpentSlider",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(K.prototype,"leSpent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(K.prototype,"parentChooseTime",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(K.prototype,"exBonus",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(K.prototype,"leConvert2PVU",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(K.prototype,"timeLeft",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(K.prototype,"maxTime",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(K.prototype,"timeProgress",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(K.prototype,"debugExId",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(K.prototype,"undeadAsset",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=K))||q));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupChangeLog.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./ConfigApi.ts","./SoundController.ts","./UImanager.ts"],(function(e){"use strict";var t,n,o,i,r,a,p,s,l,c,u,g,f,h,d,C,b,I,v,y,U,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.defineProperty},function(e){a=e.cclegacy,p=e._decorator,s=e.Label,l=e.Node,c=e.Prefab,u=e.Widget,g=e.instantiate,f=e.Sprite,h=e.color,d=e.RichText,C=e.tween,b=e.Component},function(e){I=e.ResourcesManager},function(e){v=e.ConfigApi},function(e){y=e.SoundController,U=e.EnumSound},function(e){m=e.UImanager}],execute:function(){var S,P,w,L,W,z,_,D,F,R,E;a._RF.push({},"0875eNFEDZF6Kn/5U/WMNDz","UIPopupChangeLog",void 0);var M=p.ccclass,N=p.property;e("UIPopupChangeLog",(S=M("UIPopupChangeLog"),P=N(s),w=N(l),L=N(c),W=N(u),S((D=t((_=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),p=0;p<n;p++)a[p]=arguments[p];return t=e.call.apply(e,[this].concat(a))||this,o(i(t),"version",D,i(t)),o(i(t),"Content",F,i(t)),o(i(t),"prefab",R,i(t)),o(i(t),"popUpWidget",E,i(t)),r(i(t),"isInit",!1),t}n(t,e);var a=t.prototype;return a.onEnable=function(){if(!this.isInit){this.version.string="Ver "+v.VERSION;for(var e=I.Instance.ChangeLog.text.split("\n"),t=0;t<e.length;t++){var n=g(this.prefab);n.getComponent(f).color=t%2==0?h(244,223,167,255):h(233,209,153,255),n.getComponentInChildren(d).string="<color=#9C6D3E>"+e[t]+"</color>",n.setParent(this.Content)}this.isInit=!0}},a.Show=function(){this.node.active=!0,this.popUpWidget.top=-850,C(this.popUpWidget).to(.3,{top:215},{easing:"circOut"}).start()},a.Hide=function(){var e=this;y.Instance.PlaySound(U.GameUI_closepopup),C(this.popUpWidget).to(.3,{top:-850},{easing:"circOut"}).call((function(){e.node.active=!1})).start()},a.OnBtnClose=function(){m.Instance._UIScreenFram.ShowChangeLog(!1),m.Instance.FirstSeasonWaitChangelogShow()},t}(b)).prototype,"version",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(_.prototype,"Content",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(_.prototype,"prefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(_.prototype,"popUpWidget",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=_))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteRatioHelper.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var e,t,r,n,s,a,l,h,o,p,u,c;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,r=i.initializerDefineProperty,n=i.assertThisInitialized,s=i.createClass},function(i){a=i.cclegacy,l=i._decorator,h=i.Sprite,o=i.UITransform,p=i.CCBoolean,u=i.Size,c=i.Component}],execute:function(){var f,z,g,m,b,d,S,w,y,v,_,H,T;a._RF.push({},"09b693j4EtL/7rqY6fz+Sc/","SpriteRatioHelper",void 0);var C=l.ccclass,R=l.property;i("SpriteRatioHelper",(f=C("SpriteRatioHelper"),z=R(h),g=R(o),m=R(p),b=R(p),d=R(u),f((y=e((w=function(i){function e(){for(var e,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return e=i.call.apply(i,[this].concat(s))||this,r(n(e),"intenal_sprite",y,n(e)),r(n(e),"uiTransform",v,n(e)),r(n(e),"clampWidth",_,n(e)),r(n(e),"clampHeight",H,n(e)),r(n(e),"size",T,n(e)),e}return t(e,i),e.prototype.setSize=function(i,e){null==this.uiTransform&&(this.uiTransform=this.getComponent(o)),this.uiTransform&&this.uiTransform.setContentSize(i,e)},s(e,[{key:"sprite",get:function(){return null==this.intenal_sprite&&(this.intenal_sprite=this.getComponent(h),null==this.intenal_sprite&&console.error("Sprite null in SpriteRatioHelper")),this.intenal_sprite}},{key:"spriteFrame",set:function(i){this.sprite.spriteFrame=i;var e=i.originalSize;if(this.clampWidth&&this.clampHeight){var t=this.size.width*e.height/e.width;if(t>this.size.height){var r=this.size.height*e.width/e.height;this.setSize(r,this.size.height)}else this.setSize(this.size.width,t)}else if(this.clampWidth){var n=this.size.width*e.height/e.width;this.setSize(this.size.width,n)}else if(this.clampHeight){var s=this.size.height*e.width/e.height;this.setSize(s,this.size.height)}}}]),e}(c)).prototype,"intenal_sprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(w.prototype,"uiTransform",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(w.prototype,"clampWidth",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=e(w.prototype,"clampHeight",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=e(w.prototype,"size",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(100,100)}}),S=w))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/HeaderShowAnim.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var o,n,t,e,r,s,a,c,h;return{setters:[function(i){o=i.inheritsLoose,n=i.defineProperty,t=i.assertThisInitialized},function(i){e=i.cclegacy,r=i._decorator,s=i.UITransform,a=i.Vec3,c=i.tween,h=i.Component}],execute:function(){var u;e._RF.push({},"0fadf4Fk1FLL7EMkNPo0YVO","HeaderShowAnim",void 0);var l=r.ccclass;i("HeaderShowAnim",l("HeaderShowAnim")(u=function(i){function e(){for(var o,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return o=i.call.apply(i,[this].concat(r))||this,n(t(o),"uiTransform",void 0),n(t(o),"originalPos",void 0),o}o(e,i);var r=e.prototype;return r.onLoad=function(){this.uiTransform=this.node.getComponent(s),this.originalPos=new a(this.node.position)},r.onEnable=function(){this.node.setPosition(this.originalPos.x,this.originalPos.y+this.uiTransform.height,this.originalPos.z),c(this.node).to(.3,{position:this.originalPos},{easing:"circOut"}).start()},e}(h))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigApi.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var _,E;return{setters:[function(e){_=e.defineProperty},function(e){E=e.cclegacy}],execute:function(){E._RF.push({},"0fe15P7mPlN04i+0Awqnw05","ConfigApi",void 0);var t=e("ConfigApi",function(){function e(){}return e.MAX_TIME_PENDING_LV_UP=function(){return 60*(this.IS_PRO?2880:48)},e.TIME_DECREASE_FATIGUE=function(){return 60*(this.IS_PRO?60:5)},e}());_(t,"IS_PRO",!1),_(t,"LINK_API","https://backend-dev.plantvsundead.com/"),_(t,"AVAILABLE_TOOL","available-tools"),_(t,"SUNFLOWERS","sunflowers"),_(t,"MY_TOOLS","my-tools"),_(t,"FARMING_STATS","farming-stats"),_(t,"GET_PLANTS_FILTER_V2","get-plants-filter-v2"),_(t,"GET_LANDS_FILTER","get-lands-filter"),_(t,"FARM_STATUS","farm-status"),_(t,"FARMS_V2","v2/farms/"),_(t,"FARMS","farms/"),_(t,"CLAIM_DEFAULT_LAND","lands/claim-default"),_(t,"MY_LANDS","my-lands"),_(t,"ADD_PLANT","farm/add-plant"),_(t,"FREE_SLOTS","farms/free-slots"),_(t,"MY_DEFAULT_LAND","my-default-land"),_(t,"MY_PLANTS","my-plants"),_(t,"MY_MATERIALS","my-materials"),_(t,"MY_SUNFLOWERS","my-sunflowers"),_(t,"WEATHER_TODAY","weather-today"),_(t,"HARVEST","harvest"),_(t,"HARVEST_ALL","farms/harvest-all"),_(t,"APPLY_TOOL","farms/apply-tool"),_(t,"MY_MYSTERIOUS_POWDER","my-mysterious-powder"),_(t,"DEACTIVATE","deactivate/"),_(t,"DEACTIVATE_LAND","farm/removeLand"),_(t,"SWAP_SUNFLOWER","swap-sunflower"),_(t,"REMOVE_PLANT","farm/remove-plant"),_(t,"DAILY_QUEST","daily-quest"),_(t,"BUY_TOOLS","buy-tools"),_(t,"BUY_SUNFLOWERS","buy-sunflowers"),_(t,"REGISTER","captcha/register"),_(t,"VALIDATE","captcha/validate"),_(t,"LAND","land"),_(t,"FARM_OTHER","farms/other"),_(t,"WORLDTREE_DATAS","world-tree/datas"),_(t,"WORLDTREE_CLAIM_REWARD","world-tree/claim-reward"),_(t,"WORLDTREE_GIVEWATERS","world-tree/give-waters"),_(t,"WORLDTREE_CLAIM_YESTERDAY_REWARD","world-tree/claim-yesterday-reward"),_(t,"GET_TOKEN_FROM_RT","get-token-from-rt"),_(t,"V3_AUTH","v3/auth"),_(t,"LOGIN_META","v3/login"),_(t,"EX_EXPEDITION","cages"),_(t,"EX_CAGES","cages"),_(t,"EX_UNDEAD_EGG","undead-egg"),_(t,"EX_UNDEAD","undead"),_(t,"EX_FEED","feed"),_(t,"EX_ASSIGN_UNDEAD","/assign-undead"),_(t,"EX_UN_ASSIGN_UNDEAD","/un-assign-undead"),_(t,"EX_LE_PVU_RATE","get-rate-le-to-pvu"),_(t,"EX_EXPEDITIONS","expeditions"),_(t,"EX_GET_MAX_EX_TIME","/expedition-time"),_(t,"EX_RECALL","/recall"),_(t,"EX_CLAIM_ITEMS","/claim-items"),_(t,"EX_CLAIM_EGG","/collect-egg"),_(t,"EX_GET_REGEN_DATA","/no-times-regen-by-le"),_(t,"EX_REGEN","/regen"),_(t,"API_FARM_3","https://gather-dev.plantvsundead.com/"),_(t,"FARM_3_SOCKET","wss://gather-dev.plantvsundead.com"),_(t,"REPORT_BUG","bug-report/create"),_(t,"ENTER_GATHER","user/enter-gather"),_(t,"GET_WORLD_MAP","map/route"),_(t,"START_MINI_GAME","map/start-minigame"),_(t,"SKIP_CUR_MINI_GAME","map/skip-current-route"),_(t,"END_ROUTE","map/end-route"),_(t,"START_MYSTERY","map/start-mystery"),_(t,"START_TRESURE","map/start-treasure"),_(t,"LEVEL_UP_GATHER","user/level-up-gather-skill"),_(t,"STAMINA_PRICE","user/stamina-price"),_(t,"BUY_STAMINA","user/buy-stamina"),_(t,"FORCE_SKIP_CURRENT_ROUTE","map/force-skip-current-route"),_(t,"FISHING_GET_MAP","fishing/get-map"),_(t,"FISHING_SKIP_MAP","fishing/skip-map"),_(t,"FISHING_DROP","fishing/drop-fishing"),_(t,"FISHING_PULL","fishing/pull-fishing"),_(t,"FISHING_BEGIN_PULL","fishing/begin-pull-fishing"),_(t,"FISHING_FINISH","fishing/finish-map"),_(t,"FISHING_CATCH","fishing/catch-fish"),_(t,"MINING_GET_MAP","mining/get-map"),_(t,"MINING_SHOOT","mining/shoot"),_(t,"MINING_GET_REWARD","mining/reward"),_(t,"MINING_ADD_TRAVEL_BAG","mining/add-travel-bag"),_(t,"MINING_START","mining/start"),_(t,"MINING_SKIP","mining/skip-map"),_(t,"MINING_FINISH","mining/finish-map"),_(t,"CHOPPING_GET_MAP","chopping/get-map"),_(t,"CHOPPING_TREE","chopping/chopping-tree"),_(t,"CHOPPING_TREE_V2","chopping/chopping-tree-v2"),_(t,"CHOPPING_SKIP","chopping/skip-map"),_(t,"CHOPPING_FINISH","chopping/finish-map"),_(t,"CHOPPING_GET_REWARD","chopping/collect-reward"),_(t,"INVENTORY","inventory"),_(t,"TRAVEL_BAG","inventory/travel-bag"),_(t,"TRAVEL_BAG_ADD","inventory/add-item-travel-bag"),_(t,"TRAVEL_BAG_REMOVE_ITEM","inventory/remove-item-travel-bag"),_(t,"CLAIM_TRAVEL_BAG","inventory/claim-travel-bag"),_(t,"OPEN_TREASURE","treasure/open-treasure"),_(t,"LINK_BCSCAN","https://bscscan.com/address/"),_(t,"LIMIT_PAGE",10),_(t,"MAP",16),_(t,"VERSION","3.1.0"),E._RF.pop()}}}));

System.register("chunks:///_virtual/OneToMultiListener.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var t,e,n,i;return{setters:[function(r){t=r.defineProperty},function(r){e=r.cclegacy,n=r._decorator,i=r.error}],execute:function(){var o,a,s;e._RF.push({},"10a25g6TDNP2IICdF4Htopx","OneToMultiListener",void 0);var u=n.ccclass;r("OneToMultiListener",u("OneToMultiListener")((s=a=function(){function r(){}return r.on=function(r,t,e){var n={handler:t,target:e},i=this.handlers[r];i||(i=[],this.handlers[r]=i);for(var o=0;o<i.length;o++)if(!i[o])return i[o]=n,o;return i.push(n),i.length},r.off=function(r,t,e){var n=this.handlers[r];if(n)for(var i=0;i<n.length;i++){var o=n[i];if(o.handler===t&&(!e||e===o.target)){n.splice(i,1);break}}},r.dispatchEvent=function(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var i,o=this.handlers[r];for(i=1;i<arguments.length;i++);if(o)for(i=0;i<o.length;i++){var a=o[i];a.handler&&a.handler.apply(a.target,e)}},r.setSupportEventList=function(r){if(!(r instanceof Array))return i("supportEvent was not array"),!1;for(var t in this.supportEvent={},r){var e=r[t];this.supportEvent[e]=t}return!0},r}(),t(a,"handlers",void 0),t(a,"supportEvent",void 0),o=s))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupNewSeason.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UserModel.ts","./PopUpBase.ts"],(function(e){"use strict";var t,o,n,r,i,s,a,p,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.Sprite},function(e){p=e.ResourcesManager},function(e){c=e.UserModel},function(e){u=e.PopUpBase}],execute:function(){var l,f,h,S,y;i._RF.push({},"15828YiopFDmLXhYcCHyIUM","UIPopupNewSeason",void 0);var g=s.ccclass,d=s.property;e("UIPopupNewSeason",(l=g("UIPopupNewSeason"),f=d(a),l((y=t((S=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,n(r(t),"BgSprite",y,r(t)),t}o(t,e);var i=t.prototype;return i.Show=function(){var t=this;e.prototype.OnShow.call(this);p.Instance.LoadSeason(c.SeasonData.season+"_banner",(function(e){t.BgSprite.spriteFrame=e}))},i.OnBtnCloseClick=function(){e.prototype.OnHide.call(this)},t}(u)).prototype,"BgSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=S))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/CloudTween.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,n,r,i,a,l,u,s,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.UITransform,u=e.randomRange,s=e.tween,c=e.v3,p=e.Component}],execute:function(){var d,h,f,C,w,M,v;i._RF.push({},"16e7b5EE1RM0rhuGfkpgZmC","CloudTween",void 0);var g=a.ccclass,y=a.property;e("CloudTween",(d=g("CloudTween"),h=y(l),f=y(l),d((M=t((w=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(r(t),"MapBGClouds",M,r(t)),n(r(t),"MapBG",v,r(t)),t}o(t,e);var i=t.prototype;return i.start=function(){this.StartCloudMove()},i.StartCloudMove=function(){for(var e=0;e<this.MapBGClouds.length;e++)this.CloudTween(this.MapBGClouds[e],!0)},i.CloudTween=function(e,t){var o=this,n=this.MapBG.width/2,r=this.MapBG.height/2,i=-n-e.width,a=u(-r,r),l=t?u(i,n):n,p=u(100,400),d=Math.abs(i-l)/p;e.node.setPosition(l,a,0),s(e.node).to(d,{position:c(i,a,0)}).call((function(){o.CloudTween(e,!1)})).start()},t}(p)).prototype,"MapBGClouds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(w.prototype,"MapBG",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=w))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/ExpeditionItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UserModel.ts","./Utility.ts","./SpriteRatioHelper.ts","./ExpeditionHelper.ts","./UImanager.ts","./UIPopupManager.ts","./ExpeditionServiceApi.ts"],(function(e){"use strict";var t,i,n,a,o,r,l,s,d,u,c,f,p,h,g,m,b,v,y,w,S,E,x,I,U,L,T,C,P,A,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.defineProperty,a=e.assertThisInitialized,o=e.initializerDefineProperty},function(e){r=e.cclegacy,l=e._decorator,s=e.Node,d=e.Sprite,u=e.sp,c=e.Label,f=e.SpriteFrame,p=e.UITransform,h=e.Widget,g=e.Animation,m=e.Color,b=e.instantiate,v=e.tween,y=e.Vec3,w=e.math,S=e.Tween,E=e.randomRangeInt,x=e.Component},function(e){I=e.ResourcesManager},function(e){U=e.UserModel},function(e){L=e.Utility},function(e){T=e.SpriteRatioHelper},function(e){C=e.ExpeditionHelper},function(e){P=e.UImanager},function(e){A=e.UIPopupManager},function(e){B=e.ExpeditionServiceApi}],execute:function(){var _,z,O,k,F,M,D,N,R,H,W,G,V,j,q,Y,K,Z,J,Q,X,$,ee,te,ie,ne,ae,oe,re,le,se,de,ue,ce,fe,pe,he,ge,me,be,ve,ye,we,Se,Ee,xe,Ie,Ue,Le,Te,Ce,Pe,Ae,Be,_e,ze,Oe,ke,Fe,Me,De,Ne,Re,He,We,Ge,Ve;e({ExpeditionBGColor:void 0,ExpeditionCageState:void 0,UndeadAnimName:void 0}),r._RF.push({},"1aa8acOEp9HdrKFvluxh5dZ","ExpeditionItem",void 0);var je,qe,Ye,Ke=l.ccclass,Ze=l.property,Je=1e3;!function(e){e[e.Empty=0]="Empty",e[e.Ready=1]="Ready",e[e.OnExpedition=2]="OnExpedition",e[e.OnCompleteExpedition=3]="OnCompleteExpedition",e[e.OnTired=4]="OnTired",e[e.OnDead=5]="OnDead",e[e.HasEgg=6]="HasEgg"}(je||(je=e("ExpeditionCageState",{}))),function(e){e.Empty="#4C5461",e.Normal="#1A1D28",e.Feeding="#5D688C"}(qe||(qe=e("ExpeditionBGColor",{}))),function(e){e.Idle="Idle",e.Sleep="Sleep",e.Fall_Asleep="Fall_Asleep",e.Tired="Tired",e.Move="Move",e.Wake_Up="Wake_Up",e.Happy="Happy"}(Ye||(Ye=e("UndeadAnimName",{})));e("ExpeditionItem",(_=Ke("ExpeditionItem"),z=Ze([s]),O=Ze(s),k=Ze(s),F=Ze(s),M=Ze(d),D=Ze(d),N=Ze(T),R=Ze(u.Skeleton),H=Ze(d),W=Ze(c),G=Ze(c),V=Ze(c),j=Ze(c),q=Ze(s),Y=Ze(s),K=Ze(c),Z=Ze(d),J=Ze(f),Q=Ze(f),X=Ze(c),$=Ze(p),ee=Ze(p),te=Ze(h),ie=Ze(d),ne=Ze(c),ae=Ze(g),oe=Ze(s),re=Ze([s]),le=Ze(s),se=Ze([f]),de=Ze(d),ue=Ze([s]),_((pe=t((fe=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(a(t),"undeadPosY",{oxxfome:0,nasherr:-50,slugma:0,valefang:0,tbluyr:-30,torramn:0,tyrannux:-10,emprezza:-10}),n(a(t),"manager",void 0),n(a(t),"data",void 0),n(a(t),"id",void 0),n(a(t),"haveAnim",!1),o(a(t),"states",pe,a(t)),o(a(t),"noneEmptyState",he,a(t)),o(a(t),"nodeBtnNurture",ge,a(t)),o(a(t),"glowObj",me,a(t)),o(a(t),"backgroundBox",be,a(t)),o(a(t),"undeadView",ve,a(t)),o(a(t),"undeadView2",ye,a(t)),o(a(t),"undeadSpine",we,a(t)),o(a(t),"affectionProgress",Se,a(t)),o(a(t),"affectionLevel",Ee,a(t)),o(a(t),"affectionLevel2",xe,a(t)),o(a(t),"affectionLevelProgress",Ie,a(t)),o(a(t),"affectionLevelUpTimeLeft",Ue,a(t)),o(a(t),"affectionLevelNormal",Le,a(t)),o(a(t),"affectionLevelMax",Te,a(t)),o(a(t),"timeLeft",Ce,a(t)),o(a(t),"fatigueProgress",Pe,a(t)),o(a(t),"fatigueProgressReady",Ae,a(t)),o(a(t),"fatigueProgresstired",Be,a(t)),o(a(t),"fatiguePercent",_e,a(t)),o(a(t),"fatigueTiredMask",ze,a(t)),o(a(t),"fatigueParentMask",Oe,a(t)),o(a(t),"fatigueMaskWidget",ke,a(t)),o(a(t),"bgSeason",Fe,a(t)),o(a(t),"cageIdLabel",Me,a(t)),o(a(t),"animCleanBarn",De,a(t)),o(a(t),"parentCleanBarnEff",Ne,a(t)),n(a(t),"cacheAnimObjectActive",void 0),o(a(t),"feedEff",Re,a(t)),o(a(t),"undeadShadow",He,a(t)),o(a(t),"season_bg",We,a(t)),o(a(t),"seasonBgSprite",Ge,a(t)),o(a(t),"feedUndeadBtn",Ve,a(t)),n(a(t),"readyTimeOut",void 0),t}i(t,e);var r=t.prototype;return r.start=function(){this.SelectThis(!1),this.schedule(this.updateSec,15),this.undeadSpine.setCompleteListener(this.animCompleted.bind(this)),this.initCache()},r.initCache=function(){if(null==this.cacheAnimObjectActive){this.cacheAnimObjectActive=[];for(var e=0;e<this.parentCleanBarnEff.children.length;e++)this.cacheAnimObjectActive.push(this.parentCleanBarnEff.children[e].active)}},r.onDestroy=function(){null!=this.readyTimeOut&&clearTimeout(this.readyTimeOut)},r.refreshView=function(e,t){if(this.manager=e,this.data=t,this.id=t._id,this.cageIdLabel.string=this.id,this.parentCleanBarnEff.active=!1,this.affectionLevel.node.parent.active=!0,this.fatigueProgress.node.parent.active=!0,this.undeadSpine.node.active=!0,null==this.cacheAnimObjectActive)this.initCache();else for(var i=0;i<this.parentCleanBarnEff.children.length;i++)this.parentCleanBarnEff.children[i].active=this.cacheAnimObjectActive[i];if(null==t.undead)t.hasEgg&&1==t.hasEgg?this.activeIndex(je.HasEgg):this.emptyState();else{this.cageIdLabel.string=t.undead.tokenId+" : "+this.cageIdLabel.string,this.loadUndeadData(t.undead);var n=t.undead.status,a=t.undead,o=C.GetCurUndeadFatigue(a)/a.maxFatigue,r=Date.parse(a.expiryDate);L.GetTimeNow()>r?this.activeIndex(je.OnDead):n===je.OnExpedition?this.expeditionState(t.undead):o<.5?this.tiredState():this.readyState()}},r.updateSec=function(){if(null!=this.data&&null!=this.data.undead){var e=this.data.undead;if(this.updateFatigue(e),1==this.states[je.OnExpedition].active){var t=e.current_expedition,i=C.GetTotalSecTimeLeft(t);i+=60,this.timeLeft.string=L.ConvertSecondsToTime(i),i<=0&&this.activeIndex(je.OnCompleteExpedition)}e.affectionExp>=Je&&this.countdownLevelUp(e)<=0&&this.manager.showExpedition()}},r.countdownLevelUp=function(e){if(e.affectionExp>=Je)for(var t=e.affectionLevel,i=0;i<e.timeToUpLv.length;i++)if(e.timeToUpLv[i].level===t+1){var n=Date.parse(e.timeToUpLv[i].date),a=L.GetTimeNow(),o=Math.floor((n-a)/1e3);return this.affectionLevelUpTimeLeft.string=L.ConvertSecondsToTime(o)+" left",o}return 999},r.SelectThis=function(e){null!=this.data&&null!=this.data.undead&&(this.backgroundBox.color=new m(e?qe.Feeding:qe.Normal))},r.doAnimFeed=function(e,t,i,n){for(var a=null,o=0;o<this.feedEff.length;o++)if(this.feedEff[o].name===t){a=this.feedEff[o];break}if(null==a)return console.log("prefab null",t),void this.loadUndeadData(e);var r=b(a);r.setParent(this.manager.node),r.setWorldPosition(i.worldPosition),L.PlayParticle(r);var l=i.worldPosition,s=this.undeadSpine.node.worldPosition,d=l.clone();v({a:0}).to(.4,{a:100},{progress:function(e,t,i,n){return d=y.lerp(d,l,s,n),r.setWorldPosition(d),e+(t-e)*n},easing:"linear"}).call(function(){this.loadUndeadData(e),n&&n()}.bind(this)).start(),setTimeout((function(){r&&r.destroy()}),3e3)},r.updateFatigue=function(e){var t=C.GetCurUndeadFatigue(e);this.nodeBtnNurture.active=t<e.maxFatigue;var i=t/e.maxFatigue;if(this.fatigueProgress.spriteFrame=i>=.5?this.fatigueProgressReady:this.fatigueProgresstired,console.log("fatigueProgress",i),this.fatigueProgress.fillRange=i,this.fatiguePercent.string=parseInt((100*i).toString())+"%",i<.5){var n=this.fatigueTiredMask.contentSize.clone();n.height=w.absMax(this.fatigueParentMask.height*(1-i),20),this.fatigueTiredMask.setContentSize(n),this.fatigueMaskWidget.updateAlignment()}},r.loadUndeadData=function(e){null!=this.readyTimeOut&&clearTimeout(this.readyTimeOut),this.data.undead=e;var t=e.code.toLowerCase(),i=I.Instance.GetUndeadSkeleton(t);this.haveAnim=!0,this.undeadSpine.node.active=!0,this.undeadView.node.active=!1,this.undeadSpine.node.setPosition(0,this.undeadPosY[t],0),this.undeadShadow.setPosition(0,this.undeadPosY[t]-10,0),S.stopAllByTarget(this.undeadShadow);var n=new y(.95,.95,1),a=new y(1,1,1);v(this.undeadShadow).to(.5,{scale:n}).delay(.05).to(.5,{scale:a}).union().repeatForever().start(),this.undeadSpine.skeletonData=i,this.undeadSpine.setBonesToSetupPose(),this.updateFatigue(e),this.affectionProgress.fillRange=e.affectionExp/Je,this.affectionLevel.string="LV."+e.affectionLevel,this.affectionLevel2.string="LV."+e.affectionLevel;var o=e.affectionLevel>=e.maxAffectionLevel;this.affectionLevelMax.active=o,this.affectionLevelNormal.active=!o;for(var r=0;r<this.feedUndeadBtn.length;r++)this.feedUndeadBtn[r].active=!o;this.affectionLevelProgress.string=e.affectionExp+"/"+Je,e.affectionExp>=Je?this.countdownLevelUp(e):this.affectionLevelUpTimeLeft.node.active=!1;for(var l=U.getUndeadSeasonBg(e.tokenId),s=0,d=0;d<this.season_bg.length;d++)if(l==this.season_bg[d].name){s=d;break}this.seasonBgSprite.spriteFrame=this.season_bg[s]},r.emptyState=function(){this.activeIndex(je.Empty),this.backgroundBox.color=new m(qe.Empty)},r.readyState=function(){this.activeIndex(je.Ready),this.scheduleOnce(function(){this.setAnim(Ye.Idle,!0),this.undeadSpine.node.updateWorldTransform()}.bind(this),1),this.refreshAnim()},r.animCompleted=function(e){switch(e.animation.name){case Ye.Fall_Asleep:this.setAnim(Ye.Sleep,!0);break;case Ye.Happy:case Ye.Wake_Up:this.setAnim(Ye.Idle,!0),this.refreshAnim()}},r.gotoSleep=function(){this.undeadSpine.setAnimation(0,Ye.Fall_Asleep,!1)},r.tiredState=function(){this.activeIndex(je.OnTired),this.setAnim(Ye.Tired,!0)},r.setAnim=function(e,t){this.undeadSpine.setAnimation(0,e,t)},r.refreshAnim=function(){0!=this.states[je.Ready].active&&(null!=this.readyTimeOut&&clearTimeout(this.readyTimeOut),this.readyTimeOut=setTimeout(this.gotoSleep.bind(this),E(25e3,35e3)))},r.expeditionState=function(e){this.activeIndex(je.OnExpedition),this.setAnim(Ye.Move,!0);var t=e.current_expedition;this.cageIdLabel.string=this.cageIdLabel.string+"\nexId: "+t._id;var i=C.GetTotalSecTimeLeft(t);this.timeLeft.string=L.ConvertSecondsToTime(i),i<=0&&this.activeIndex(je.OnCompleteExpedition)},r.activeIndex=function(e){for(var t=0;t<this.states.length;t++)this.states[t].active=t==e;e==je.HasEgg||e==je.Empty?this.noneEmptyState.active=!1:this.noneEmptyState.active=!0},r.isCompleteExpedition=function(){return!(null==this.states||this.states.length<=0)&&this.states[je.OnCompleteExpedition].active},r.onBtnDepart=function(){A.Instance._UIExpeditionPopup.Show(this.data)},r.onBtnAdd=function(){P.Instance.ShowChoseExpedition(this.id)},r.onBtnFinish=function(){A.Instance._UIFinishExpeditionPopup.Show(this.data.undead)},r.onBtnFeed=function(){this.manager.FeedBtnClickExpedition(this)},r.onBtnRecall=function(){A.Instance._UIExpeditionPopup.Show(this.data)},r.onBtnNurture=function(){A.Instance._UIPopupNurtureUndead.Show(this.data.undead)},r.onBtnInfo=function(){A.Instance._UIPopupUndeadInfo.Show(this.data.undead)},r.onBtnView=function(){A.Instance._UIExpeditionPopup.Show(this.data)},r.deleteUndead=function(){A.Instance.ShowUINotifyConfirm("Remove Undead","By acknowledging this action, you're fully\nawared that this Undead will be deleted\n forever. This action can't be undone\n\n",this.requestDeleteUndead.bind(this),!0,!1,0,!0)},r.requestDeleteUndead=function(){B.RequestUnAssignUndead(this.data._id,function(e){var t=C.CheckStatus(e);null!=t&&this.updateCageAfterClean(t)}.bind(this))},r.updateCageAfterClean=function(e){var t=e.data.hasEgg;this.parentCleanBarnEff.active=!0;var i=L.GetTimeNow();this.animCleanBarn.once(g.EventType.FINISHED,function(){console.log("anim play complete",L.GetTimeNow()-i),this.refreshView(this.manager,e.data)}.bind(this),this),t?this.animCleanBarn.play("Fx_Ui_Expedition_Clear_WithNewEgg"):this.animCleanBarn.play("Fx_Ui_Expedition_Clear_NoEgg")},r.cleanBarn=function(){this.requestDeleteUndead()},r.onBtnOpenEgg=function(){B.RequestClaimEgg(this.data._id,function(e){var t=C.CheckStatus(e);null!=t&&A.Instance._UIPopupOpenEgg.OpenEggBag(t,function(){this.manager.showExpedition()}.bind(this))}.bind(this))},r.OnBtnSelectClick=function(){if(this.manager.SelectExpedition(this),1==this.undeadSpine.node.active){var e=this.undeadSpine.animation;e==Ye.Idle?this.setAnim(Ye.Happy,!1):e!=Ye.Sleep&&e!=Ye.Fall_Asleep||this.setAnim(Ye.Wake_Up,!1)}},t}(x)).prototype,"states",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=t(fe.prototype,"noneEmptyState",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=t(fe.prototype,"nodeBtnNurture",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=t(fe.prototype,"glowObj",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=t(fe.prototype,"backgroundBox",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=t(fe.prototype,"undeadView",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=t(fe.prototype,"undeadView2",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=t(fe.prototype,"undeadSpine",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=t(fe.prototype,"affectionProgress",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=t(fe.prototype,"affectionLevel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=t(fe.prototype,"affectionLevel2",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=t(fe.prototype,"affectionLevelProgress",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=t(fe.prototype,"affectionLevelUpTimeLeft",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=t(fe.prototype,"affectionLevelNormal",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=t(fe.prototype,"affectionLevelMax",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=t(fe.prototype,"timeLeft",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=t(fe.prototype,"fatigueProgress",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=t(fe.prototype,"fatigueProgressReady",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=t(fe.prototype,"fatigueProgresstired",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=t(fe.prototype,"fatiguePercent",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=t(fe.prototype,"fatigueTiredMask",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=t(fe.prototype,"fatigueParentMask",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=t(fe.prototype,"fatigueMaskWidget",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=t(fe.prototype,"bgSeason",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=t(fe.prototype,"cageIdLabel",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=t(fe.prototype,"animCleanBarn",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=t(fe.prototype,"parentCleanBarnEff",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=t(fe.prototype,"feedEff",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),He=t(fe.prototype,"undeadShadow",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=t(fe.prototype,"season_bg",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ge=t(fe.prototype,"seasonBgSprite",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=t(fe.prototype,"feedUndeadBtn",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=fe))||ce));r._RF.pop()}}}));

System.register("chunks:///_virtual/MaterialDropMining.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./Utility.ts","./GatheringServicesApi.ts","./PrefabController.ts","./UIPopupManager.ts"],(function(e){"use strict";var t,i,n,o,r,a,s,l,c,u,h,p,d,f,m,w,y,T,g,v,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.defineProperty},function(e){a=e.cclegacy,s=e._decorator,l=e.Sprite,c=e.MotionStreak,u=e.Node,h=e.randomRangeInt,p=e.color,d=e.tween,f=e.v3,m=e.Component},function(e){w=e.ResourcesManager},function(e){y=e.Utility},function(e){T=e.GatheringServicesApi},function(e){g=e.PrefabController,v=e.PrefabEnum},function(e){S=e.UIPopupManager}],execute:function(){var C,I,b,k,D,B,M,P,R,K,E,G,O;a._RF.push({},"1e5da2WqnxEoKRO0fjhywIo","MaterialDropMining",void 0);var _=s.ccclass,A=s.property,z=["It takes talent to fish up this trash. Congrats!","Why am I seeing myself in you, dear Trash?","Who would put this in here?!","Nevermind... I'm saving the Earth anyway.","What did you expect? A shiny diamond?","Not again... Just my luck, lol.","This is a werd fish... Huh?"];e("MaterialDropMining",(C=_("MaterialDropMining"),I=A(l),b=A(c),k=A(u),D=A(u),B=A(u),C((R=t((P=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(o(t),"IconSprite",R,o(t)),n(o(t),"motionStreak",K,o(t)),n(o(t),"Rare",E,o(t)),n(o(t),"Epic",G,o(t)),n(o(t),"Key",O,o(t)),r(o(t),"showItemTime",void 0),r(o(t),"indicatorDestroyTime",void 0),r(o(t),"isColect",!1),r(o(t),"releaseCB",(function(e){})),r(o(t),"guid",void 0),r(o(t),"rewardname",void 0),r(o(t),"timeOut",0),r(o(t),"BlinkDuration",200),r(o(t),"onGetKey",(function(){})),r(o(t),"CurrentTween",void 0),r(o(t),"onTweenToBag",(function(){})),r(o(t),"type",void 0),r(o(t),"onColect",(function(e){})),t}i(t,e);var a=t.prototype;return a.Init=function(e,t,i,n,o,r,a,s,l){var c=this;void 0===o&&(o=function(e){}),void 0===r&&(r=function(){}),void 0===a&&(a=function(){}),void 0===l&&(l=function(e){}),null!=this.CurrentTween&&this.CurrentTween.stop(),this.motionStreak.enabled=!1,y.StopParticle(this.Rare),y.StopParticle(this.Epic),y.StopParticle(this.Key),this.type=s,this.guid=e,this.releaseCB=o,this.onGetKey=r,this.onTweenToBag=a,this.onColect=l,this.showItemTime=1e3*i+this.BlinkDuration,this.indicatorDestroyTime=1e3*n,this.isColect=!1,this.rewardname=t,this.node.active=!1,this.IconSprite.node.active=!0,this.node.setScale(.2,.2,1);w.Instance.LoadMaterialSprite(this.rewardname,function(e){c.IconSprite.spriteFrame=e,c.node.active=!0,d(c.node).to(.25,{scale:f(1,1,1)}).call(function(){"KEY"==this.rewardname&&(this.Key.active=!0,y.PlayParticle(this.Key))}.bind(c)).start()}.bind(this)),this.Blink()},a.Blink=function(){var e=this;!function t(){e.showItemTime-=e.BlinkDuration,e.showItemTime<0?e.Release():(e.showItemTime<=e.indicatorDestroyTime&&(e.IconSprite.node.active=!e.IconSprite.node.active),e.timeOut=setTimeout(t,e.BlinkDuration))}()},a.onLoad=function(){var e=this;this.node.on(u.EventType.TOUCH_START,(function(t){e.OnClick()}),this)},a.OnClick=function(){var e=this;if(!this.isColect)if(this.isColect=!0,clearTimeout(this.timeOut),this.IconSprite.node.active=!0,1==this.type)T.MINING_ADD_TRAVEL_BAG(this.rewardname,this.guid,(function(t){null!=T.CheckStatus(JSON.parse(t))?(e.onColect(e.rewardname),"KEY"==e.rewardname?(e.onGetKey(),e.TweenScaleDown()):e.onTweenToBag()):(e.isColect=!1,e.Blink())}),(function(t){e.isColect=!1,e.Blink()}));else if(2==this.type)if("TRASH"==this.rewardname){this.TweenScaleDown();var t=z[h(0,z.length)];S.Instance.ShowToast("Information",t,2)}else"KEY"==this.rewardname?(this.onGetKey(),this.TweenScaleDown()):T.Fishing_Catch(this.rewardname,this.guid,(function(t){null!=T.CheckStatus(JSON.parse(t))?"KEY"==e.rewardname?(e.onGetKey(),e.TweenScaleDown()):e.onTweenToBag():(e.isColect=!1,e.Blink())}),(function(t){e.isColect=!1,e.Blink()}))},a.Release=function(){clearTimeout(this.timeOut),this.releaseCB(this),g.Instance.ReturnPrefab(v.MaterialDropMining,this.node)},a.TweenToBag=function(e,t){var i=this;this.motionStreak.enabled=!0;var n=w.Instance.GetMaterialData(this.rewardname).rarity;0==n?this.motionStreak.color=p(75,255,75,150):1==n?(y.PlayParticle(this.Rare),this.motionStreak.color=p(75,241,255,150)):(y.PlayParticle(this.Epic),this.motionStreak.color=p(255,75,75,150)),null!=this.CurrentTween&&this.CurrentTween.stop(),this.CurrentTween=d(this.node).to(.8,{worldPosition:e},{easing:"cubicIn"}).call((function(){i.Release(),t()})),this.CurrentTween.start()},a.TweenScaleDown=function(){var e=this;null!=this.CurrentTween&&this.CurrentTween.stop(),this.CurrentTween=d(this.node).to(.2,{scale:f(0,0,1)},{easing:"cubicIn"}).call((function(){e.Release()})),this.CurrentTween.start()},t}(m)).prototype,"IconSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(P.prototype,"motionStreak",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(P.prototype,"Rare",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(P.prototype,"Epic",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(P.prototype,"Key",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=P))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShopToolsPurchase.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./ConfigApi.ts","./Utility.ts","./PopUpBase.ts","./UImanager.ts","./UIPopupManager.ts","./ResHttp.ts"],(function(t){"use strict";var n,e,i,o,s,a,r,u,c,l,h,p,m,S,d,f,g,b;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.defineProperty},function(t){a=t.cclegacy,r=t._decorator,u=t.Sprite,c=t.Label,l=t.EditBox,h=t.Button},function(t){p=t.ResourcesManager},function(t){m=t.ConfigApi},function(t){S=t.Utility},function(t){d=t.PopUpBase},function(t){f=t.UImanager},function(t){g=t.UIPopupManager},function(t){b=t.ResHttp}],execute:function(){var I,y,B,P,C,L,O,v,A,U,w,x,E,T,R;a._RF.push({},"1fe03CyXSZCbKFDIJb/BXg8","ShopToolsPurchase",void 0);var _=r.ccclass,M=r.property;t("ShopToolsPurchase",(I=_("ShopToolsPurchase"),y=M(u),B=M(c),P=M(l),C=M(c),L=M(h),O=M(h),I((U=n((A=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(o(n),"icon",U,o(n)),i(o(n),"nameLable",w,o(n)),i(o(n),"amount",x,o(n)),i(o(n),"cost",E,o(n)),i(o(n),"btnSub",T,o(n)),i(o(n),"btnAdd",R,o(n)),s(o(n),"LECost",0),s(o(n),"maxAmount",10),s(o(n),"data",void 0),s(o(n),"typeShop",void 0),n}e(n,t);var a=n.prototype;return a.Show=function(n,e,i,o){t.prototype.OnShow.call(this),this.typeShop=i,this.data=n,this.icon.spriteFrame=e,0==this.typeShop?this.icon.node.setScale(1.2,1.2,1):this.icon.node.setScale(.45,.45,1),this.nameLable.string=n.name.toUpperCase(),this.LECost=n.price,this.maxAmount=Math.floor(o/this.LECost),this.maxAmount<1&&(this.maxAmount=1),this.amount.string="1",this.OnEditBox()},a.OnBtnCloseClick=function(){t.prototype.OnHide.call(this)},a.OnBtnBuyClick=function(){var t=this,n=parseInt(this.amount.string)*this.LECost;if(0==this.typeShop){var e={amount:this.amount.string,toolId:this.data.id};b.PostRequest(m.LINK_API+m.BUY_TOOLS,e,(function(e){var i=JSON.parse(e);0==i.status?(g.Instance.ShowToast("Success","Purchase done!",1),f.Instance._UIScreenShopTools.RequestLoadFarmsStats(n)):g.Instance.ShowToast("Purchase Failed",p.Instance.GetErrorMessage(i.status),0),t.OnBtnCloseClick()}),(function(t){}))}else{var i=this.data.id;e={amount:this.amount.string,sunflowerId:i.toString()};b.PostRequest(m.LINK_API+m.BUY_SUNFLOWERS,e,(function(e){var o=JSON.parse(e);if(0==o.status){o.data.type;g.Instance.ShowToast("Success","Purchase done",1),f.Instance._UIScreenShopTools.RequestLoadFarmsStats(n)}else{var s=p.Instance.GetErrorMessage(o.status);s=(s=s.replace("#ID#",1==i?"Sapling":"Mama")).replace("#NUM#",1==i?"25":"2"),g.Instance.ShowToast("Purchase Failed",s,0)}t.OnBtnCloseClick()}),(function(t){}))}},a.OnBtnSub=function(){this.amount.string=(parseInt(this.amount.string)-1).toString(),this.OnEditBox()},a.OnBtnAdd=function(){this.amount.string=(parseInt(this.amount.string)+1).toString(),this.OnEditBox()},a.OnEditBox=function(){var t=this.amount.string,n=0;""==t?(n=1,this.amount.string="1"):((n=parseInt(t))<=0&&(n=1),n>this.maxAmount&&(n=this.maxAmount)),this.btnSub.interactable=n>1,this.btnAdd.interactable=n<this.maxAmount,this.amount.string=n.toString(),this.cost.string=S.numberWithCommas(n*this.LECost)},n}(d)).prototype,"icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=n(A.prototype,"nameLable",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(A.prototype,"amount",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=n(A.prototype,"cost",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(A.prototype,"btnSub",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(A.prototype,"btnAdd",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=A))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/FishObjectShadow.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,o,r,s,c,l,a,p,h,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,c=e.sp,l=e.Node,a=e.ParticleSystem,p=e.Vec3,h=e.Color,u=e.randomRange,d=e.Component}],execute:function(){var y,b,f,w,g,F,m,v,O;r._RF.push({},"2605dpZkV9JDKqGp9qu9ZNJ","FishObjectShadow",void 0);var S=s.ccclass,j=s.property;e("FishObjectShadow",(y=S("FishObjectShadow"),b=j(c.Skeleton),f=j(l),w=j(a),y((m=t((F=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(o(t),"spine",m,o(t)),n(o(t),"nodeFish",v,o(t)),n(o(t),"particle",O,o(t)),t}return i(t,e),t.prototype.start=function(){console.log("vao day cai coi"),this.scheduleOnce(function(){this.particle.node.scale=new p(1,1,1),this.particle.stop(),this.particle.play()}.bind(this),.2),this.spine.color=new h(255,255,255,0),this.nodeFish.scale=new p(.25,.25,.25),this.scheduleOnce((function(){this.particle.node.scale=new p(1,1,1),this.particle.stop(),this.particle.play()}),5),this.scheduleOnce(function(){this.particle.node.scale=new p(1,1,1),this.particle.stop(),this.particle.play(),this.node.destroy()}.bind(this),u(6,9))},t}(d)).prototype,"spine",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(F.prototype,"nodeFish",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(F.prototype,"particle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=F))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIScreenAssets.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./EggItem.ts","./ConfigApi.ts","./FarmingServicesApi.ts","./UndeadAssetItem.ts","./TreasureAssetsItem.ts","./TreasureAssetsOpen.ts","./TreasureAssetsOpenFX.ts","./Filter.ts","./FarmPage.ts","./LandItem.ts","./PlantISunflowertem.ts","./PlantItem.ts","./UIItemMaterial.ts","./UImanager.ts","./UIPopupManager.ts","./ResHttp.ts","./ExpeditionServiceApi.ts"],(function(t){"use strict";var e,a,n,r,i,s,o,l,u,h,f,c,g,m,I,d,p,A,P,b,y,v,L,T,S,E,M,C,w,R,U,_,F,N,q;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.defineProperty,s=t.createClass},function(t){o=t.cclegacy,l=t._decorator,u=t.Node,h=t.Label,f=t.ScrollView,c=t.Toggle,g=t.UITransform,m=t.Prefab,I=t.instantiate,d=t.tween,p=t.Component},function(t){A=t.ResourcesManager},function(t){P=t.EggItem},function(t){b=t.ConfigApi},function(t){y=t.FarmingServicesApi},function(t){v=t.UndeadAssetItem},function(t){L=t.TreasureAssetsItem},function(t){T=t.TreasureAssetsOpen},function(t){S=t.TreasureAssetsOpenFX},function(t){E=t.Filter},function(t){M=t.FarmPage},function(t){C=t.LandItem},function(t){w=t.PlantISunflowertem},function(t){R=t.PlantItem},function(t){U=t.UIItemMaterial},function(t){_=t.UImanager},function(t){F=t.UIPopupManager},function(t){N=t.ResHttp},function(t){q=t.ExpeditionServiceApi}],execute:function(){var D,G,O,z,K,k,H,J,B,x,X,W,Y,j,V,Q,Z,$,tt,et,at,nt,rt,it,st,ot,lt,ut,ht,ft,ct,gt,mt,It,dt,pt,At,Pt,bt,yt,vt,Lt,Tt,St,Et,Mt,Ct,wt,Rt;o._RF.push({},"26706ArmW5FLpHpT0waD8wf","UIScreenAssets",void 0);var Ut=l.ccclass,_t=l.property;t("UIScreenAssets",(D=Ut("UIScreenAssets"),G=_t(u),O=_t(M),z=_t(u),K=_t(u),k=_t(h),H=_t(h),J=_t(f),B=_t(c),x=_t(u),X=_t(E),W=_t(f),Y=_t(g),j=_t(m),V=_t(u),Q=_t(T),Z=_t(L),$=_t(S),tt=_t(h),et=_t(m),at=_t(m),nt=_t(m),rt=_t(m),it=_t(m),D((lt=e((ot=function(t){function e(){for(var e,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,n(r(e),"ContentParent",lt,r(e)),n(r(e),"farmPage",ut,r(e)),n(r(e),"NoAsset",ht,r(e)),n(r(e),"btnFilter",ft,r(e)),n(r(e),"EggAmountLabel",ct,r(e)),n(r(e),"btnFilterLabel",gt,r(e)),n(r(e),"Content",mt,r(e)),n(r(e),"Toggles",It,r(e)),n(r(e),"TogglesCheck",dt,r(e)),n(r(e),"filterPlant",pt,r(e)),n(r(e),"material",At,r(e)),n(r(e),"materialParent",Pt,r(e)),n(r(e),"materialPrefab",bt,r(e)),n(r(e),"Treasure",yt,r(e)),n(r(e),"treasureAssetsOpen",vt,r(e)),n(r(e),"treasureAssetsItems",Lt,r(e)),n(r(e),"treasureAssetsOpenFX",Tt,r(e)),n(r(e),"TreasureKeyLabel",St,r(e)),i(r(e),"_TreasureKey",0),n(r(e),"landItemAPrefab",Et,r(e)),n(r(e),"PlantItemPrefab",Mt,r(e)),n(r(e),"PlantISunflowertemPrefab",Ct,r(e)),n(r(e),"EggItemPrefab",wt,r(e)),n(r(e),"UndeadAssetItemPrefab",Rt,r(e)),i(r(e),"PlantItemArray",[]),i(r(e),"PlantISunflowertemArray",[]),i(r(e),"landItemArray",[]),i(r(e),"uiItemMaterial",[]),i(r(e),"eggItems",[]),i(r(e),"UndeadAssetItems",[]),i(r(e),"currentUndeadData",""),i(r(e),"isFirstToggles",!0),i(r(e),"typeCurrent",1),e}a(e,t);var o=e.prototype;return o.Show=function(){var t=this;if(0==this.landItemArray.length)for(var e=0;e<b.LIMIT_PAGE;e++){var a=I(this.landItemAPrefab);a.setParent(this.ContentParent),a.setScale(1,1,1),a.active=!1;var n=a.getComponent(C);this.landItemArray.push(n)}this.typeCurrent=1,this.isFirstToggles=!0,this.Toggles[0].isChecked=!0,this.TogglesCheck.setPosition(this.Toggles[0].node.position),this.isFirstToggles=!1,this.DisableItem(),this.farmPage.toPage(0);this.filterPlant.Init((function(){t.OnFilterPlantSave()}),2);y.RequestMyDefaultLand((function(e){var a=JSON.parse(e);if(0==a.status){if(0==a.data.hasDefaultLand)return t.NoAsset.active=!1,t.farmPage.node.active=!1,t.Content.node.active=!0,t.Content.stopAutoScroll(),t.Content.scrollToLeft(),t.DisableAllContent(),void t.landItemArray[0].InitDefault()}else F.Instance.ShowToast("Error",A.Instance.GetErrorMessage(a.status),0);t.RequestLoadApply()}),(function(t){}))},o.ChangeTap=function(t){if(!this.isFirstToggles){var e=parseInt(t.name);e!=this.typeCurrent&&(d(this.TogglesCheck).to(.2,{position:t.node.position},{easing:"quadOut"}).start(),this.typeCurrent=e,this.DisableItem(),this.farmPage.toPage(0),this.RequestLoadApply())}this.isFirstToggles=!1},o.DisableItem=function(){this.Content.node.active=!1,this.material.node.active=!1,this.Treasure.active=!1,this.NoAsset.active=!0,this.btnFilter.active=!1,this.EggAmountLabel.node.parent.active=!1,this.currentUndeadData=""},o.RequestLoadApply=function(){1==this.typeCurrent?this.RequestMyLands():2==this.typeCurrent||3==this.typeCurrent?this.RequestLoadMyPlants():4==this.typeCurrent?this.RequestLoadSunflower():5==this.typeCurrent?this.RequestLoadMaterials():6==this.typeCurrent?this.RequestLoadEgg():7==this.typeCurrent?this.RequestLoadUndead():8==this.typeCurrent&&this.RequestLoadTreasure()},o.RequestLoadUndead=function(){""==this.currentUndeadData?q.RequestLoadUndeadAll(this.LoadMyUndead.bind(this)):this.LoadMyUndead(this.currentUndeadData)},o.LoadMyUndead=function(t){var e=this;this.Content.stopAutoScroll(),this.Content.scrollToLeft();var a=JSON.parse(t);if(0==a.status){this.currentUndeadData=t;var n=a.data.length;this.NoAsset.active=n<=0,this.EggAmountLabel.node.parent.active=!0,this.EggAmountLabel.string=n.toString()+" Undeads",this.Content.node.active=!this.NoAsset.active;var r=function(){e.RequestLoadApply()};if(n>0?this.farmPage.Init(r,n,b.LIMIT_PAGE):this.farmPage.Init(r,1,b.LIMIT_PAGE),0==this.UndeadAssetItems.length)for(var i=0;i<b.LIMIT_PAGE;i++){var s=I(this.UndeadAssetItemPrefab);s.setParent(this.ContentParent);var o=s.getComponent(v);this.UndeadAssetItems.push(o)}this.DisableAllContent();for(var l=this.farmPage.currentPage,u=0,h=l*b.LIMIT_PAGE;h<(l+1)*b.LIMIT_PAGE;h++)h<n&&this.UndeadAssetItems[u].Init(a.data[h]),u++}else F.Instance.ShowToast("Error",A.Instance.GetErrorMessage(a.status),0)},o.RequestLoadTreasure=function(){var t=this;this.Treasure.active=!0,this.NoAsset.active=!1;var e={offset:(this.farmPage.currentPage*b.LIMIT_PAGE).toString(),limit:b.LIMIT_PAGE.toString()};y.RequestLoadMaterials(e,(function(e){t.LoadMyTreasure(e)}),(function(t){}))},o.LoadMyTreasure=function(t){this.farmPage.Init((function(){}),1,b.LIMIT_PAGE);var e=JSON.parse(t);if(0==e.status){if(null!=e.data&&null!=e.data.items){this.NoAsset.active=!1;for(var a=0,n=0,r=0,i=0,s=e.data.items.length,o=0;o<s;o++){var l=e.data.items[o],u=l.name;"EPIC_CHEST_KEY"==u?a+=l.amount:"BURRIED_TREASURE"==u?n+=l.amount:"HIDDEN_TREASURE"==u?r+=l.amount:"SUNKEN_TREASURE"==u&&(i+=l.amount)}this.TreasureKey=a,this.treasureAssetsItems[0].Init(r,this.ShowTreasureAssetsOpen.bind(this),"HIDDEN_TREASURE",this.TreasureKey),this.treasureAssetsItems[1].Init(i,this.ShowTreasureAssetsOpen.bind(this),"SUNKEN_TREASURE",this.TreasureKey),this.treasureAssetsItems[2].Init(n,this.ShowTreasureAssetsOpen.bind(this),"BURRIED_TREASURE",this.TreasureKey)}}else F.Instance.ShowToast("Error",A.Instance.GetErrorMessage(e.status),0)},o.RequestLoadEgg=function(){q.RequestLoadExEgg(this.LoadMyEggs.bind(this))},o.GetEggItem=function(t){var e;t<this.eggItems.length?e=this.eggItems[t]:(e=I(this.EggItemPrefab).getComponent(P),this.eggItems.push(e));return e.node.active=!0,e.node.setParent(this.ContentParent),e},o.LoadMyEggs=function(t){var e=this;this.Content.stopAutoScroll(),this.Content.scrollToLeft();var a=JSON.parse(t);if(0==a.status){var n=a.data.length;this.NoAsset.active=n<=0,this.EggAmountLabel.node.parent.active=!0,this.EggAmountLabel.string=n.toString()+" Eggs",this.Content.node.active=!this.NoAsset.active;this.farmPage.Init((function(){e.RequestLoadApply()}),1,b.LIMIT_PAGE),this.DisableAllContent();for(var r=new Map,i=0;i<n;i++){var s=a.data[i].rarity,o=0;r.has(s)&&(o=r.get(s)),o++,r.set(s,o)}var l=0;r.forEach((function(t,a){e.GetEggItem(l).Init(a,t),l++}),this)}else F.Instance.ShowToast("Error",A.Instance.GetErrorMessage(a.status),0)},o.RequestLoadMaterials=function(){var t=this,e={offset:(this.farmPage.currentPage*b.LIMIT_PAGE).toString(),limit:b.LIMIT_PAGE.toString()};y.RequestLoadMaterials(e,(function(e){t.LoadMyMaterials(e)}),(function(t){}))},o.LoadMyMaterials=function(t){this.DisableAlluiItemMaterial(),this.material.stopAutoScroll(),this.material.scrollToLeft();var e=JSON.parse(t);if(0==e.status){if(null!=e.data&&null!=e.data.items){this.NoAsset.active=!1,this.material.node.active=!0,this.farmPage.node.active=!1,this.DisableAllContent();for(var a=0,n=e.data.items.length,r=0;r<n;r++){var i=e.data.items[r],s=i.name;if(s.includes("Sunflower")||"Scarecrow"==s||"Water"==s||"Small Pot"==s||"BURRIED_TREASURE"==s||"HIDDEN_TREASURE"==s||"SUNKEN_TREASURE"==s||"EPIC_CHEST_KEY"==s);else if(null!=i.amount&&i.amount>0){var o=this.GetuiItemMaterial(a);a++,o.Init(i)}}this.materialParent.width=120+392*Math.ceil(a/2)}}else F.Instance.ShowToast("Error",A.Instance.GetErrorMessage(e.status),0)},o.DisableAlluiItemMaterial=function(){for(var t=0;t<this.uiItemMaterial.length;t++)this.uiItemMaterial[t].node.active=!1},o.GetuiItemMaterial=function(t){var e;t<this.uiItemMaterial.length?e=this.uiItemMaterial[t]:(e=I(this.materialPrefab).getComponent(U),this.uiItemMaterial.push(e));return e.node.active=!0,e.node.setParent(this.materialParent.node),e.node.setSiblingIndex(0),e},o.RequestMyLands=function(){var t=this;y.RequestMyLands(this.farmPage.currentPage,(function(e){var a=JSON.parse(e);t.LoadMyLand(a)}),(function(t){}))},o.LoadMyLand=function(t){var e=this;if(this.Content.stopAutoScroll(),this.Content.scrollToLeft(),0==t.status)if(null!=t.total&&t.total>0&&this.farmPage.currentPage>0&&0==t.data.length)this.farmPage.ChangePage(-1),this.RequestMyLands();else{this.NoAsset.active=t.data.length<=0,this.Content.node.active=!this.NoAsset.active;var a=function(){e.RequestLoadApply()};null!=t.total&&t.total>0?this.farmPage.Init(a,t.total,b.LIMIT_PAGE):this.farmPage.Init(a,1,b.LIMIT_PAGE),this.DisableAllContent();for(var n=0;n<this.landItemArray.length;n++)if(n<t.data.length){var r=t.data[n];this.landItemArray[n].Init(r)}else this.landItemArray[n].node.active=!1}else F.Instance.ShowToast("Error",A.Instance.GetErrorMessage(t.status),0)},o.RequestLoadMyPlants=function(){var t=this,e={offset:(this.farmPage.currentPage*b.LIMIT_PAGE).toString(),limit:b.LIMIT_PAGE.toString(),type:(this.typeCurrent-1).toString()};y.RequestMyPlants(e,(function(e){var a=JSON.parse(e);t.LoadMyPlants(a)}),(function(t){}))},o.LoadMyPlants=function(t){var e=this;if(this.btnFilter.active=!0,this.Content.stopAutoScroll(),this.Content.scrollToLeft(),0==t.status)if(null!=t.total&&t.total>0&&this.farmPage.currentPage>0&&0==t.data.length)this.farmPage.ChangePage(-1),this.RequestLoadMyPlants();else{this.NoAsset.active=t.data.length<=0,this.Content.node.active=!this.NoAsset.active;var a=function(){e.RequestLoadApply()};if(null!=t.total&&t.total>0?(this.farmPage.node.active=!0,this.farmPage.Init(a,t.total,b.LIMIT_PAGE)):(this.farmPage.Init(a,1,b.LIMIT_PAGE),this.farmPage.node.active=!1),this.DisableAllContent(),2==this.typeCurrent||3==this.typeCurrent){if(0==this.PlantItemArray.length)for(var n=0;n<b.LIMIT_PAGE;n++){var r=I(this.PlantItemPrefab);r.setParent(this.ContentParent),r.setScale(1,1,1),r.active=!1;var i=r.getComponent(R);this.PlantItemArray.push(i)}for(var s=0;s<this.PlantItemArray.length;s++)s<t.data.length?this.PlantItemArray[s].Init(t.data[s],null,!1,!0):this.PlantItemArray[s].node.active=!1}else if(4==this.typeCurrent){if(0==this.PlantISunflowertemArray.length)for(var o=0;o<8;o++){var l=I(this.PlantISunflowertemPrefab);l.setParent(this.ContentParent),l.setScale(1,1,1),l.active=!1;var u=l.getComponent(w);this.PlantISunflowertemArray.push(u)}for(var h=0;h<this.PlantISunflowertemArray.length;h++)h<t.data.length?this.PlantISunflowertemArray[h].Init(t.data[h],null):this.PlantISunflowertemArray[h].node.active=!1}}else F.Instance.ShowToast("Error",A.Instance.GetErrorMessage(t.status),0)},o.RequestLoadSunflower=function(){var t=this,e={offset:(this.farmPage.currentPage*b.LIMIT_PAGE).toString(),limit:b.LIMIT_PAGE.toString()};N.GetRequest(b.LINK_API+b.MY_SUNFLOWERS,e,(function(e){var a=JSON.parse(e);t.LoadMyPlants(a)}),(function(t){}))},o.DisableAllContent=function(){for(var t=0;t<this.PlantISunflowertemArray.length;t++)this.PlantISunflowertemArray[t].node.active=!1;for(var e=0;e<this.PlantItemArray.length;e++)this.PlantItemArray[e].node.active=!1;for(var a=0;a<this.landItemArray.length;a++)this.landItemArray[a].node.active=!1;for(var n=0;n<this.uiItemMaterial.length;n++)this.uiItemMaterial[n].node.active=!1;for(var r=0;r<this.eggItems.length;r++)this.eggItems[r].node.active=!1;for(var i=0;i<this.UndeadAssetItems.length;i++)this.UndeadAssetItems[i].node.active=!1},o.OnFilterPlantSave=function(){this.filterPlant.totalFilter>0?this.btnFilterLabel.string="Filter "+this.filterPlant.totalFilter:this.btnFilterLabel.string="Filter",this.farmPage.toPage(0),this.RequestLoadApply()},o.OnBtnBackClick=function(){_.Instance.ShowScreenFarm()},o.OnBtnFilterClick=function(){this.filterPlant.Show(1==this.typeCurrent)},o.ShowTreasureAssetsOpen=function(t,e,a,n){this.treasureAssetsOpen.Show(t,e,a,function(t,a){this.TreasureKey-=t,n(t);for(var r=0;r<this.treasureAssetsItems.length;r++)this.treasureAssetsItems[r].SetCurrentKey(this.TreasureKey);this.treasureAssetsOpenFX.Show(a,e)}.bind(this))},s(e,[{key:"TreasureKey",get:function(){return this._TreasureKey},set:function(t){this._TreasureKey=t,this.TreasureKeyLabel.string=this._TreasureKey.toString()}}]),e}(p)).prototype,"ContentParent",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=e(ot.prototype,"farmPage",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=e(ot.prototype,"NoAsset",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=e(ot.prototype,"btnFilter",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=e(ot.prototype,"EggAmountLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=e(ot.prototype,"btnFilterLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=e(ot.prototype,"Content",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=e(ot.prototype,"Toggles",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dt=e(ot.prototype,"TogglesCheck",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=e(ot.prototype,"filterPlant",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=e(ot.prototype,"material",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=e(ot.prototype,"materialParent",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=e(ot.prototype,"materialPrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=e(ot.prototype,"Treasure",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=e(ot.prototype,"treasureAssetsOpen",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=e(ot.prototype,"treasureAssetsItems",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Tt=e(ot.prototype,"treasureAssetsOpenFX",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=e(ot.prototype,"TreasureKeyLabel",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=e(ot.prototype,"landItemAPrefab",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=e(ot.prototype,"PlantItemPrefab",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=e(ot.prototype,"PlantISunflowertemPrefab",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=e(ot.prototype,"EggItemPrefab",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=e(ot.prototype,"UndeadAssetItemPrefab",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=ot))||st));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIFinishExpeditionPopup.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utility.ts","./PopUpBase.ts","./ExpeditionHelper.ts","./UImanager.ts","./UIExRewardItem.ts","./ExpeditionServiceApi.ts"],(function(e){"use strict";var t,i,n,r,a,o,l,s,c,p,u,h,d,m,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.defineProperty,r=e.assertThisInitialized,a=e.initializerDefineProperty},function(e){o=e.cclegacy,l=e._decorator,s=e.Node,c=e.Label},function(e){p=e.Utility},function(e){u=e.PopUpBase},function(e){h=e.ExpeditionHelper},function(e){d=e.UImanager},function(e){m=e.UIExRewardItem},function(e){b=e.ExpeditionServiceApi}],execute:function(){var v,C,f,w,g,I,y,U,E,S,x,W,z,P,_,F,O,R,T;o._RF.push({},"268eaHwWnhG8ZSbqlhBO9Cn","UIFinishExpeditionPopup",void 0);var D=l.ccclass,H=l.property;e("UIFinishExpeditionPopup",(v=D("UIFinishExpeditionPopup"),C=H(s),f=H(s),w=H(s),g=H(s),I=H(s),y=H(c),U=H(c),E=H(s),v((W=t((x=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(r(t),"rewardUI",[]),n(r(t),"leWallet",-1),a(r(t),"btnClaim",W,r(t)),a(r(t),"btnError",z,r(t)),a(r(t),"rewardContent",P,r(t)),a(r(t),"noContent",_,r(t)),a(r(t),"errorContent",F,r(t)),a(r(t),"pvuClaim",O,r(t)),a(r(t),"timeSpent",R,r(t)),a(r(t),"notifyClaimOnWeb",T,r(t)),t}i(t,e);var o=t.prototype;return o.Show=function(t){this.leWallet=-1,this.rewardContent.active=!1,this.noContent.active=!0,this.errorContent.active=!1,this.btnError.active=!1,this.btnClaim.active=!1,null!=this.rewardUI&&0!=this.rewardUI.length||(this.rewardUI=this.rewardContent.getComponentsInChildren(m)),b.RequestClaimExpedition(t.current_expedition._id,this.onClaimRespone.bind(this)),this.btnClaim.active=!0,e.prototype.OnShow.call(this)},o.onClaimRespone=function(e){var t=h.CheckStatus(e);if(null==t)return this.errorContent.active=!0,this.btnError.active=!0,void(this.btnClaim.active=!1);this.pvuClaim.string=t.data.pvuAmount+"";var i=Date.parse(t.data.startTime),n=Date.parse(t.data.estEndTime),r=Math.floor((n-i)/1e3);if(console.log("totalSecond",r,i,n,n-i),this.timeSpent.string=p.ConvertSecondsToTime(r),this.btnClaim.active=!0,0==(null!=t.data.claimedItems&&t.data.claimedItems.length>0))this.noContent.active=!0,this.notifyClaimOnWeb.active=!1;else{var a=!1;this.noContent.active=!1,this.rewardContent.active=!0;for(var o=t.data.claimedItems,l=0,s=0;s<this.rewardUI.length;s++)if(s>=o.length)this.rewardUI[s].node.active=!1,console.log("nope");else{if(null==o[s]||"nothing"==o[s].name){console.log("got not thing"),this.rewardUI[s].node.active=!1;continue}l++,this.rewardUI[s].init(o[s])&&(a=!0)}this.noContent.active=0==l,this.rewardContent.active=l>0,this.notifyClaimOnWeb.active=a}null!=t.data.leWallet&&(this.leWallet=t.data.leWallet)},o.hide=function(){d.Instance._UIScreenFram.getExpedition().delayShow(2),this.leWallet>=0&&d.Instance._UIScreenFram.TweenLE(this.leWallet,!1),e.prototype.OnHide.call(this)},t}(u)).prototype,"btnClaim",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(x.prototype,"btnError",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(x.prototype,"rewardContent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(x.prototype,"noContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(x.prototype,"errorContent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(x.prototype,"pvuClaim",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(x.prototype,"timeSpent",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(x.prototype,"notifyClaimOnWeb",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=x))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/UImanager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./ConfigApi.ts","./UserModel.ts","./FarmingServicesApi.ts","./Utility.ts","./GatheringServicesApi.ts","./UIScreenChooseExpedition.ts","./PopupConvertSapling.ts","./UIPopupBuyStamina.ts","./LoginManager.ts","./UIPopupNewSeason.ts","./UIScreenAssets.ts","./UIScreenChoseLand.ts","./UIScreenChosePlant.ts","./UIScreenFram.ts","./UIScreenShopTools.ts","./UIScreenWeather.ts","./UIPopupManager.ts"],(function(e){"use strict";var t,n,a,o,i,s,r,c,h,S,u,p,l,d,g,m,I,U,f,C,v,_,P,T,w,F,y,L,A,W;return{setters:[function(e){t=e.defineProperty,n=e.applyDecoratedDescriptor,a=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,c=e.Sprite,h=e.Node,S=e.sys,u=e.Component},function(e){p=e.ResourcesManager},function(e){l=e.ConfigApi},function(e){d=e.UserModel,g=e.UserGatherData},function(e){m=e.FarmingServicesApi},function(e){I=e.Utility},function(e){U=e.GatheringServicesApi},function(e){f=e.UIScreenChooseExpedition},function(e){C=e.PopupConvertSapling},function(e){v=e.UIPopupBuyStamina},function(e){_=e.LoginManager},function(e){P=e.UIPopupNewSeason},function(e){T=e.UIScreenAssets},function(e){w=e.UIScreenChoseLand},function(e){F=e.UIScreenChosePlant},function(e){y=e.UIScreenFram},function(e){L=e.UIScreenShopTools},function(e){A=e.UIScreenWeather},function(e){W=e.UIPopupManager}],execute:function(){var N,D,M,E,R,G,b,B,x,O,q;s._RF.push({},"2759cPvKbxAda71zLio5/+8","UImanager",void 0);var z=r.ccclass,J=r.property;e("UImanager",(N=z("UImanager"),D=J({type:c}),M=J({type:h}),E=J({type:h}),N((q=O=function(e){function n(){for(var n,a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return n=e.call.apply(e,[this].concat(s))||this,o(i(n),"BgSprite",b,i(n)),o(i(n),"SeasonParticle",B,i(n)),o(i(n),"UINodeArray",x,i(n)),t(i(n),"_UIScreenFram",void 0),t(i(n),"_LoginManager",void 0),t(i(n),"_UIScreenChoseExpedition",void 0),t(i(n),"_UIScreenChoseLand",void 0),t(i(n),"_UIScreenChosePlant",void 0),t(i(n),"_UIScreenWeather",void 0),t(i(n),"_UIPopupNewSeason",void 0),t(i(n),"_UIScreenShopTools",void 0),t(i(n),"_UIScreenAssets",void 0),t(i(n),"_PopupConvertSapling",void 0),t(i(n),"_UIPopupBuyStamina",void 0),t(i(n),"FirstSeasonWaitChangelog",!1),t(i(n),"FirstSeasonWaitChangelogReady",!1),t(i(n),"updateTimelAtTimmer",void 0),t(i(n),"isUpdateTimelAt",void 0),n}a(n,e);var s=n.prototype;return s.onLoad=function(){n.Instance=this,this._LoginManager=this.getComponentInChildren(_),this._UIScreenFram=this.getComponentInChildren(y),this._UIScreenChoseLand=this.getComponentInChildren(w),this._UIScreenChosePlant=this.getComponentInChildren(F),this._UIScreenWeather=this.getComponentInChildren(A),this._UIPopupNewSeason=this.getComponentInChildren(P),this._UIScreenShopTools=this.getComponentInChildren(L),this._UIScreenAssets=this.getComponentInChildren(T),this._PopupConvertSapling=this.getComponentInChildren(C),this._UIPopupBuyStamina=this.getComponentInChildren(v),this._UIScreenChoseExpedition=this.getComponentInChildren(f),d.LoadUserLocalData()},s.start=function(){d.userLocalData.change_log_version!=l.VERSION&&(this.FirstSeasonWaitChangelog=!0,d.userLocalData.change_log_version=l.VERSION,d.SaveUserLocalData(),this._UIScreenFram.ShowChangeLog(!0)),this._LoginManager.node.active=!0},s.ShowScreenFarm=function(){this.CloseAllScene(),this._UIScreenFram.node.active=!0,this._UIScreenFram.ShowScreenFarm()},s.ShowGathering=function(){this.GetWorldMap()},s.GetWorldMap=function(){var e=this,t=!1;U.GetWorldMap((function(a){var o=JSON.parse(a);0==o.status?(t=!0,d.curWorldMapData=o.data,n&&(e.StopUpdateTime(),W.Instance.LoadScene("1.Gathering"))):W.Instance.ShowToast("Error",p.Instance.GetErrorMessage(o.status),0)}),(function(e){}));var n=!1;U.ENTER_GATHER((function(a){var o=JSON.parse(a);0==o.status?(n=!0,d.userGatherData=new g(o.data),t&&(e.StopUpdateTime(),W.Instance.LoadScene("1.Gathering"))):W.Instance.ShowToast("Error",p.Instance.GetErrorMessage(o.status),0)}),(function(e){}))},s.DoneStartGameLoading=function(){this._LoginManager.node.active=!1},s.CloseAllScene=function(){for(var e=0;e<this.UINodeArray.length;e++)this.UINodeArray[e].active=!1},s.ShowChoseExpedition=function(e){this.CloseAllScene(),this._UIScreenChoseExpedition.node.active=!0,this._UIScreenChoseExpedition.Show(e)},s.ShowChoseLand=function(){this.CloseAllScene(),this._UIScreenChoseLand.node.active=!0,this._UIScreenChoseLand.Show()},s.ShowBuyStamina=function(e){this._UIPopupBuyStamina.Show(e)},s.ShowAddPlant=function(e,t,n){this.CloseAllScene(),this._UIScreenChosePlant.node.active=!0,this._UIScreenChosePlant.Show(e,t,n)},s.ShowWeather=function(){this._UIScreenWeather.node.active?this._UIScreenWeather.Hide():this._UIScreenWeather.Show()},s.ShowToolShop=function(e){this.CloseAllScene(),this._UIScreenShopTools.node.active=!0,this._UIScreenShopTools.Show(e)},s.ShowScreenAsset=function(){this.CloseAllScene(),this._UIScreenAssets.node.active=!0,this._UIScreenAssets.Show()},s.OnLoginSuccess=function(){this.RequestFarmStatus(),this.RequestWeather(!0)},s.RequestFarmStatus=function(){var e=this;m.RequestFarmStatus((function(t){e.LoadFarmStatus(t)}),(function(e){}))},s.RequestWeather=function(e){var t=this;m.RequestWeather((function(n){t.LoadSeason(n,e)}),(function(e){t._LoginManager.LoginFail()}))},s.LoadFarmStatus=function(e){var t=JSON.parse(e);0==t.status&&(d.serverTime=Date.parse(t.data.currentTime),I.CheckUpgradeVersion(t.data.version)&&W.Instance.ShowUINotifyConfirm("UPDATE","Please update new version!",(function(){S.openURL("https://plantvsundead.com/")}),!1,!0,0,!1))},s.LoadSeason=function(e,t){var n=this,a=JSON.parse(e);if(0==a.status){d.SeasonData=JSON.parse(JSON.stringify(a.data)),d.seasonEndTimeNum=Date.parse(d.SeasonData.seasonEndTime),d.seasonStartTimeNum=Date.parse(d.SeasonData.seasonStartTime);for(var o=0;o<this.SeasonParticle.length;o++)this.SeasonParticle[o].active=!1;switch(d.SeasonData.season){case"spring":I.PlayParticle(this.SeasonParticle[0]);break;case"summer":I.PlayParticle(this.SeasonParticle[1]);break;case"autumn":I.PlayParticle(this.SeasonParticle[2]);break;default:I.PlayParticle(this.SeasonParticle[3])}p.Instance.LoadSeasonBg(d.SeasonData.season,(function(e){n.DoneStartGameLoading(),n.BgSprite.spriteFrame=e})),this._UIScreenWeather.node.active&&this._UIScreenWeather.Show(),this.CorouUpdateTime(),t?(this._UIScreenFram.node.active=!0,this._UIScreenFram.ShowScreenFarm()):this._UIScreenFram.node.active&&this._UIScreenFram.ShowScreenFarm(),d.isShowPopupSeasonFirstTime||(this.FirstSeasonWaitChangelog?this.FirstSeasonWaitChangelogReady=!0:this._UIPopupNewSeason.Show(),d.isShowPopupSeasonFirstTime=!0)}else this._LoginManager.LoginFail()},s.FirstSeasonWaitChangelogShow=function(){this.FirstSeasonWaitChangelog&&this.FirstSeasonWaitChangelogReady&&this._UIPopupNewSeason.Show(),this.FirstSeasonWaitChangelogReady=!1,this.FirstSeasonWaitChangelog=!1},s.StopUpdateTime=function(){clearTimeout(this.updateTimelAtTimmer),this.isUpdateTimelAt=!1},s.CorouUpdateTime=function(){var e=this;this.isUpdateTimelAt=!0,this.updateTimelAtTimmer=setTimeout((function t(){e.UpdateTimeSeason(),e.isUpdateTimelAt&&(e.updateTimelAtTimmer=setTimeout(t,3e4))}),3e4)},s.UpdateTimeSeason=function(){d.seasonEndTimeNum-I.GetTimeNow()<=0&&(this.StopUpdateTime(),this.RequestWeather(!1))},s.ShowPopupConvertSapling=function(e,t,n,a){this._PopupConvertSapling.Show(e,t,n,a)},n}(u),t(O,"Instance",void 0),b=n((G=q).prototype,"BgSprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(G.prototype,"SeasonParticle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(G.prototype,"UINodeArray",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=G))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIExRewardItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts"],(function(e){"use strict";var t,n,a,i,r,o,l,c,s,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Sprite,c=e.Label,s=e.Node,u=e.Component},function(e){p=e.ResourcesManager}],execute:function(){var m,g,d,y,v,b,f,h,I;r._RF.push({},"2b36cr+gM9Mo6gxQ4EGtrzc","UIExRewardItem",void 0);var x=o.ccclass,M=o.property;e("UIExRewardItem",(m=x("UIExRewardItem"),g=M(l),d=M(c),y=M(s),m((f=t((b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(i(t),"imgMaterial",f,i(t)),a(i(t),"txtAmount",h,i(t)),a(i(t),"claimOnWeb",I,i(t)),t}return n(t,e),t.prototype.init=function(e){var t=this;if(console.log("init reward",e),null!=e&&"nothing"!=e.name){this.node.active=!0,null==e.quantity||0==e.quantity?this.txtAmount.node.active=!1:(this.txtAmount.node.active=!0,this.txtAmount.string=e.quantity+"");var n=e.name,a=function(e){t.imgMaterial.spriteFrame=e};"MAMA"===n||"SAPLING"===n?1==e.value.plantType?p.Instance.LoadPlant("sapling_"+e.value.seasonType,a):p.Instance.LoadPlant("mama_"+e.value.seasonType,a):p.Instance.LoadMaterialSprite(n,a);var i=n.endsWith("UNDEAD_EGG");return this.claimOnWeb.active=i,i}console.log("return")},t}(u)).prototype,"imgMaterial",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=t(b.prototype,"txtAmount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(b.prototype,"claimOnWeb",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=b))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIUndeadItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts"],(function(e){"use strict";var t,n,i,r,a,o,c,s,d,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.defineProperty,r=e.assertThisInitialized,a=e.initializerDefineProperty},function(e){o=e.cclegacy,c=e._decorator,s=e.Sprite,d=e.Component},function(e){l=e.ResourcesManager}],execute:function(){var u,p,f,h,v;o._RF.push({},"2c4d8cRPl5I3qYTDcFOSi4U","UIUndeadItem",void 0);var m=c.ccclass,I=c.property;e("UIUndeadItem",(u=m("UIUndeadItem"),p=I(s),u((v=t((h=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(r(t),"manager",void 0),i(r(t),"data",void 0),a(r(t),"view",v,r(t)),t}n(t,e);var o=t.prototype;return o.refreshview=function(e,t){this.manager=e,this.data=t,l.Instance.GetUndead(t.code.toLowerCase(),t.affectionLevel,function(e){this.view.spriteFrame=e}.bind(this))},o.select=function(){this.manager.onSelectUndead(this.data._id)},t}(d)).prototype,"view",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupBuyStamina.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UserModel.ts","./GatheringServicesApi.ts","./PopUpBase.ts","./UIPopupManager.ts"],(function(t){"use strict";var e,n,s,a,i,o,r,c,u,l,p,S,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,s=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.defineProperty},function(t){o=t.cclegacy,r=t._decorator,c=t.Label},function(t){u=t.ResourcesManager},function(t){l=t.UserModel},function(t){p=t.GatheringServicesApi},function(t){S=t.PopUpBase},function(t){f=t.UIPopupManager}],execute:function(){var h,y,d,m,g,v,I;o._RF.push({},"2c6e0J5vUZFjpYf1h416swR","UIPopupBuyStamina",void 0);var P=r.ccclass,U=r.property;t("UIPopupBuyStamina",(h=P("UIPopupBuyStamina"),y=U(c),d=U(c),h((v=e((g=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,s(a(e),"TextCost",v,a(e)),s(a(e),"TestNext",I,a(e)),i(a(e),"OnBuySuccess",void 0),e}n(e,t);var o=e.prototype;return o.Show=function(e){t.prototype.OnShow.call(this),this.OnBuySuccess=e;var n=l.userStanimaInfo,s=n.count;s>3&&(s=3),this.TextCost.string="To restore 50% max Stamina, you will need "+n.staminaPrices[s.toString()]+" LE.",++s>3&&(s=3),this.TestNext.string="You have restored Stamina "+n.count+" times today. Next time cost will be "+n.staminaPrices[s.toString()]+" LE."},o.OnClose=function(){t.prototype.OnHide.call(this)},o.OnOk=function(){var t=this;p.BUY_STAMINA(function(e){var n=JSON.parse(e);0==n.status?(f.Instance.ShowToast("Success","Stamina recovery success!",1),l.userStanimaInfo.count=n.data.count+1,t.OnBuySuccess(n.data.currentStamina,n.data.leWallet)):f.Instance.ShowToast("Error",u.Instance.GetErrorMessage(n.status),0),t.OnClose()}.bind(this),function(e){t.OnClose()}.bind(this))},e}(S)).prototype,"TextCost",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(g.prototype,"TestNext",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmPage.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,a,n,r,o,l,s,u,c,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.defineProperty},function(t){o=t.cclegacy,l=t._decorator,s=t.EditBox,u=t.Label,c=t.Button,g=t.Component}],execute:function(){var h,P,b,p,m,f,N,d,B,T,y;o._RF.push({},"2cc9etTJuVGDIiUQWoQI3XA","FarmPage",void 0);var A=l.ccclass,L=l.property;t("FarmPage",(h=A("FarmPage"),P=L(s),b=L(u),p=L(c),m=L(c),h((d=e((N=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,a(n(e),"NumLabel",d,n(e)),a(n(e),"NumTotalLabel",B,n(e)),a(n(e),"BtnBack",T,n(e)),a(n(e),"BtnNext",y,n(e)),r(n(e),"currentPage",0),r(n(e),"totalPage",1),r(n(e),"goToPageAction",void 0),e}i(e,t);var o=e.prototype;return o.Init=function(t,e,i){this.goToPageAction=t,this.totalPage=Math.ceil(e/i),this.NumTotalLabel.string="/ "+this.AddZeroToNumber(this.totalPage),this.toPage(this.currentPage),this.node.active=this.totalPage>1},o.OnButtonBackClick=function(){this.ChangePage(-1)},o.OnButtonNextClick=function(){this.ChangePage(1)},o.OnNumInputDone=function(){var t=this.NumLabel.string;if(""==t)this.NumLabel.string=this.AddZeroToNumber(this.currentPage+1);else{var e=parseInt(t);e<=0&&(e=1),e>this.totalPage&&(e=this.totalPage),this.currentPage!=e-1&&(this.currentPage=e-1,null!=this.goToPageAction&&this.goToPageAction()),this.toPage(this.currentPage),this.NumLabel.string=this.AddZeroToNumber(e)}},o.ChangePage=function(t){0!=t&&(this.currentPage+t>0||this.currentPage+1+t<this.totalPage)&&(this.currentPage+=t,null!=this.goToPageAction&&this.goToPageAction(),this.toPage(this.currentPage))},o.toPage=function(t){this.currentPage=t,this.NumLabel.string=this.AddZeroToNumber(this.currentPage+1),this.BtnBack.interactable=this.currentPage>0,this.BtnNext.interactable=this.currentPage+1<this.totalPage},o.DisableControll=function(){this.BtnBack.interactable=!1,this.BtnNext.interactable=!1},o.AddZeroToNumber=function(t){return t<10?"0"+t.toString():t.toString()},e}(g)).prototype,"NumLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(N.prototype,"NumTotalLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(N.prototype,"BtnBack",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(N.prototype,"BtnNext",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=N))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/FishingMap.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./SoundController.ts","./UIPopupManager.ts","./FishingManager.ts","./FishShadow.ts"],(function(i){"use strict";var t,o,e,n,r,T,a,c,m,d,w,u,p,g,_,s,S,M,v,h,f,L;return{setters:[function(i){t=i.applyDecoratedDescriptor,o=i.inheritsLoose,e=i.initializerDefineProperty,n=i.assertThisInitialized,r=i.defineProperty},function(i){T=i.cclegacy,a=i._decorator,c=i.CCInteger,m=i.CCFloat,d=i.CCString,w=i.Node,u=i.UITransform,p=i.sp,g=i.randomRangeInt,_=i.instantiate,s=i.Vec3,S=i.Component},function(i){M=i.SoundController,v=i.EnumSound},function(i){h=i.UIPopupManager},function(i){f=i.FishingState},function(i){L=i.FishShadow}],execute:function(){var R,B,l,b,F,y,P,C,E,I,k,D,O,j,A,z,x,U,N,H,G;T._RF.push({},"2d7d4ByHUFKeoyEjoMSUYAh","FishingMap",void 0);var K=a.ccclass,V=a.property,Y=["Left","Right","Bot","Top"];i("FishingMap",(R=K("FishingMap"),B=V(c),l=V(c),b=V(m),F=V(d),y=V(w),P=V(u),C=V(w),E=V(p.Skeleton),I=V(p.Skeleton),R((O=t((D=function(i){function t(){for(var t,o=arguments.length,T=new Array(o),a=0;a<o;a++)T[a]=arguments[a];return t=i.call.apply(i,[this].concat(T))||this,e(n(t),"numObject",O,n(t)),e(n(t),"numFish",j,n(t)),e(n(t),"delaySpawnFish",A,n(t)),e(n(t),"idMap",z,n(t)),e(n(t),"contentFish",x,n(t)),e(n(t),"contentObjects",U,n(t)),e(n(t),"targetFish",N,n(t)),e(n(t),"character",H,n(t)),e(n(t),"effDrop",G,n(t)),r(n(t),"manager",void 0),r(n(t),"posList",{}),r(n(t),"dirCache",[]),r(n(t),"timeoutEat",void 0),r(n(t),"arrEat",[!1,!1,!0]),r(n(t),"arrEatCache",[]),t}o(t,i);var T=t.prototype;return T.Init=function(i){this.dirCache=Object.assign([],Y),this.manager=i,this.character.setCompleteListener(this.onCompleteCharacter.bind(this)),this.PlayCharacterIdle(),this.autoSpawnObjects(),this.autoSpawnFish()},T.autoSpawnObjects=function(){this.spawnObjects(),this.schedule(this.spawnObjects,5)},T.spawnObjects=function(){for(var i=0,t=this.manager.prefabObjectShadow,o=0;o<t.length;o++)this.scheduleOnce((function(){var o=g(-this.contentObjects.width/2,this.contentObjects.width/2),e=g(-this.contentObjects.height/2,this.contentObjects.height/2),n=_(t[i]);n.setParent(this.contentObjects.node),n.setPosition(o,e,0),i++,M.Instance.PlaySound(v.UI_Fishing_Bubble)}),g(0,3))},T.autoSpawnFish=function(){for(var i=0,t=this.getPath(),o=0;o<t.length;o++)this.scheduleOnce((function(){var o=this.manager.prefabFish,e=_(o);e.setParent(this.contentFish);var n=e.getComponent(L);if(n){var r=t[i];n.randomFish(),n.setPath(r),i++}}),g(0,3))},T.spawnFish=function(){for(var i=this.getPathListL1(),t=10;t<12;t++){var o=this.manager.prefabFish,e=_(o);e.setParent(this.contentFish),e.setPosition(s.ZERO);var n=e.getComponent(L);if(!n)return;n.randomFish(),n.setPath(i[t])}},T.shuffle=function(i){if(!Array.isArray(i))return[];for(var t,o,e=i.length;0!==e;)o=Math.floor(Math.random()*e),t=i[e-=1],i[e]=i[o],i[o]=t;return i},T.getPath=function(){var i=[],t=g(2,4);switch(this.idMap){case"S1":i=this.getPathListS1();break;case"S2":i=this.getPathListS2();break;case"M1":i=this.getPathListM1(),t=g(3,6);break;case"M2":i=this.getPathListM2(),t=g(3,6);break;case"L1":i=this.getPathListL1(),t=g(4,8);break;case"L2":i=this.getPathListL2(),t=g(4,8)}for(var o=[],e=[],n=0;n<i.length;n++)o.push(n);o=(o=this.shuffle(o)).slice(i.length-t-1);for(var r=0;r<o.length;r++){var T=i[o[r]];e.push(T)}return e},T.getPathListS1=function(){return[[{direction:"Swim_Top",positionTarget:new s(240,-60,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(60,50,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(-250,-130,0),directionTurn:"Turn_TopLeft",timeMove:3,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-110,-240,0),directionTurn:"Turn_LeftBot",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(80,-350,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(550,-100,0),directionTurn:"Turn_BotRight",timeMove:4,rotation:0},{direction:"Swim_Top",positionTarget:new s(450,0,0),directionTurn:"Turn_RightTop",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(250,-70,0),directionTurn:"Turn_RightTop",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(240,-60,0),directionTurn:"Turn_LeftTop",timeMove:2,rotation:0}],[{direction:"Swim_Left",positionTarget:new s(610,-390,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(450,-480,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(260,-380,0),directionTurn:"Turn_LeftTop",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(45,-490,0),directionTurn:"Turn_TopLeft",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-130,-400,0),directionTurn:"Turn_LeftTop",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(220,-200,0),directionTurn:"Turn_TopRight",timeMove:3.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(460,-320,0),directionTurn:"Turn_RightBot",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(600,-400,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(610,-390,0),directionTurn:"Turn_BotLeft",timeMove:1,rotation:0}],[{direction:"Swim_Right",positionTarget:new s(-145,-485,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(90,-350,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(290,-430,0),directionTurn:"Turn_RightBot",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(650,-230,0),directionTurn:"Turn_BotRight",timeMove:3,rotation:0},{direction:"Swim_Top",positionTarget:new s(350,-65,0),directionTurn:"Turn_RightTop",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-290,-410,0),directionTurn:"Turn_TopLeft",timeMove:5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-145,-485,0),directionTurn:"Turn_LeftBot",timeMove:1.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-145,-485,0),directionTurn:"Turn_BotRight",timeMove:1,rotation:0}],[{direction:"Swim_Left",positionTarget:new s(610,-260,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(370,-360,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(-205,-50,0),directionTurn:"Turn_LeftTop",timeMove:5,rotation:0},{direction:"Swim_Right",positionTarget:new s(10,60,0),directionTurn:"Turn_TopRight",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(400,-150,0),directionTurn:"Turn_RightBot",timeMove:3.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(715,5,0),directionTurn:"Turn_BotRight",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(770,-5,0),directionTurn:"Turn_RightBot",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(605,-120,0),directionTurn:"Turn_BotLeft",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(680,-210,0),directionTurn:"Turn_LeftBot",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(610,-260,0),directionTurn:"Turn_BotLeft",timeMove:1.5,rotation:0}],[{direction:"Swim_Right",positionTarget:new s(-230,-540,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(30,-360,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(530,-80,0),directionTurn:"",timeMove:4.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(460,0,0),directionTurn:"Turn_RightTop",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(130,-160,0),directionTurn:"Turn_TopLeft",timeMove:3.5,rotation:-10},{direction:"Swim_Left",positionTarget:new s(-130,-330,0),directionTurn:"",timeMove:2.5,rotation:5},{direction:"Swim_Bot",positionTarget:new s(-95,-390,0),directionTurn:"Turn_LeftBot",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(-300,-520,0),directionTurn:"Turn_BotLeft",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-290,-550,0),directionTurn:"Turn_LeftBot",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(-230,-540,0),directionTurn:"Turn_BotRight",timeMove:1.5,rotation:0}],[{direction:"Swim_Bot",positionTarget:new s(-310,-250,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-200,-310,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-110,-250,0),directionTurn:"Turn_BotRight",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(-250,-150,0),directionTurn:"Turn_RightTop",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-30,-30,0),directionTurn:"Turn_TopRight",timeMove:3,rotation:0},{direction:"Swim_Bot",positionTarget:new s(200,-170,0),directionTurn:"Turn_RightBot",timeMove:3.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(130,-260,0),directionTurn:"Turn_BotLeft",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-50,-165,0),directionTurn:"Turn_LeftTop",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(-300,-240,0),directionTurn:"Turn_TopLeft",timeMove:2.5,rotation:-10},{direction:"Swim_Bot",positionTarget:new s(-310,-250,0),directionTurn:"Turn_LeftBot",timeMove:1,rotation:0}]]},T.getPathListS2=function(){return[[{direction:"Swim_Right",positionTarget:new s(-420,-30,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(-190,100,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(-320,180,0),directionTurn:"Turn_RightTop",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-430,115,0),directionTurn:"Turn_TopLeft",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-60,-150,0),directionTurn:"Turn_LeftBot",timeMove:3,rotation:0},{direction:"Swim_Right",positionTarget:new s(240,5,0),directionTurn:"Turn_BotRight",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(120,100,0),directionTurn:"TurnRightTop",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-300,-140,0),directionTurn:"Turn_TopLeft",timeMove:3,rotation:0},{direction:"Swim_Top",positionTarget:new s(-430,-40,0),directionTurn:"Turn_LeftTop",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(-420,-30,0),directionTurn:"Turn_TopRight",timeMove:1,rotation:0}],[{direction:"Swim_Bot",positionTarget:new s(-140,220,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Bot",positionTarget:new s(6,120,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(220,230,0),directionTurn:"Turn_BotRight",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(415,105,0),directionTurn:"Turn_RightBot",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(260,-10,0),directionTurn:"Turn_BotLeft",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(470,-180,0),directionTurn:"Turn_LeftBot",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(325,-270,0),directionTurn:"Turn_BotLeft",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-55,-30,0),directionTurn:"Turn_LeftTop",timeMove:3,rotation:0},{direction:"Swim_Top",positionTarget:new s(-410,105,0),directionTurn:"",timeMove:2.5,rotation:10},{direction:"Swim_Top",positionTarget:new s(-410,105,0),directionTurn:"",timeMove:2.5,rotation:10},{direction:"Swim_Right",positionTarget:new s(-140,220,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-140,220,0),directionTurn:"Turn_RightBot",timeMove:1,rotation:0}],[{direction:"Swim_Left",positionTarget:new s(230,220,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(70,120,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(204,10,0),directionTurn:"Turn_LeftBot",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(350,-105,0),directionTurn:"",timeMove:1.5,rotation:10},{direction:"Swim_Left",positionTarget:new s(240,-200,0),directionTurn:"Turn_BotLeft",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(140,-130,0),directionTurn:"Turn_LeftTop",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(15,-220,0),directionTurn:"Turn_TopLeft",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(-310,-10,0),directionTurn:"Turn_LeftTop",timeMove:3,rotation:0},{direction:"Swim_Right",positionTarget:new s(140,260,0),directionTurn:"Turn_TopRight",timeMove:4,rotation:0},{direction:"Swim_Bot",positionTarget:new s(230,220,0),directionTurn:"Turn_RightBot",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(230,220,0),directionTurn:"Turn_BotLeft",timeMove:1,rotation:0}],[{direction:"Swim_Left",positionTarget:new s(-50,-80,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(-170,-160,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-430,-20,0),directionTurn:"Turn_LeftTop",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-590,-110,0),directionTurn:"Turn_TopLeft",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-440,-200,0),directionTurn:"Turn_LeftBot",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(160,160,0),directionTurn:"Turn_BotRight",timeMove:5.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(340,30,0),directionTurn:"Turn_RightBot",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(140,-100,0),directionTurn:"Turn_BotLeft",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(30,-20,0),directionTurn:"Turn_LeftTop",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-50,-80,0),directionTurn:"Turn_TopLeft",timeMove:1,rotation:0}],[{direction:"Swim_Left",positionTarget:new s(415,-170,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(320,-230,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(90,-85,0),directionTurn:"Turn_LeftTop",timeMove:1.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(250,20,0),directionTurn:"Turn_TopRight",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(-120,250,0),directionTurn:"Turn_RightTop",timeMove:4,rotation:0},{direction:"Swim_Left",positionTarget:new s(-310,190,0),directionTurn:"Turn_TopLeft",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-10,10,0),directionTurn:"Turn_LeftBot",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(380,-200,0),directionTurn:"",timeMove:3,rotation:0},{direction:"Swim_Left",positionTarget:new s(380,-200,0),directionTurn:"Turn_BotLeft",timeMove:1,rotation:0}],[{direction:"Swim_Top",positionTarget:new s(400,20,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Top",positionTarget:new s(135,190,0),directionTurn:"",timeMove:3,rotation:0},{direction:"Swim_Right",positionTarget:new s(205,260,0),directionTurn:"Turn_TopRight",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(370,170,0),directionTurn:"Turn_RightBot",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(100,-10,0),directionTurn:"Turn_BotLeft",timeMove:3,rotation:0},{direction:"Swim_Bot",positionTarget:new s(325,-145,0),directionTurn:"Turn_LeftBot",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(485,-30,0),directionTurn:"Turn_BotRight",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(400,20,0),directionTurn:"Turn_RightTop",timeMove:1,rotation:0}]]},T.getPathListM1=function(){return[[{direction:"Swim_Bot",positionTarget:new s(280,540,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(740,290,0),directionTurn:"",timeMove:3,rotation:0},{direction:"Swim_Right",positionTarget:new s(900,400,0),directionTurn:"Turn_BotRight",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(640,550,0),directionTurn:"Turn_RightTop",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(315,380,0),directionTurn:"Turn_TopLeft",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(170,470,0),directionTurn:"Turn_LeftTop",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(280,540,0),directionTurn:"Turn_TopRight",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(280,540,0),directionTurn:"Turn_RightBot",timeMove:.5,rotation:0}],[{direction:"Swim_Right",positionTarget:new s(305,-350,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(810,-105,0),directionTurn:"",timeMove:4,rotation:0},{direction:"Swim_Top",positionTarget:new s(590,90,0),directionTurn:"Turn_RightTop",timeMove:2,rotation:10},{direction:"Swim_Left",positionTarget:new s(-100,-40,0),directionTurn:"Turn_TopLeft",timeMove:3,rotation:-10},{direction:"Swim_Top",positionTarget:new s(-470,180,0),directionTurn:"Turn_LeftTop",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-530,140,0),directionTurn:"Turn_TopLeft",timeMove:1,rotation:0},{direction:"Swim_Bot",positionTarget:new s(0,-190,0),directionTurn:"Turn_LeftBot",timeMove:3,rotation:0},{direction:"Swim_Bot",positionTarget:new s(305,-350,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(305,-350,0),directionTurn:"Turn_BotRight",timeMove:1,rotation:0}],[{direction:"Swim_Top",positionTarget:new s(910,-50,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Top",positionTarget:new s(680,130,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(900,250,0),directionTurn:"Turn_TopRight",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(575,500,0),directionTurn:"Turn_RightTop",timeMove:2,rotation:-10},{direction:"Swim_Left",positionTarget:new s(-108,-60,0),directionTurn:"Turn_TopLeft",timeMove:4.5,rotation:10},{direction:"Swim_Bot",positionTarget:new s(310,-340,0),directionTurn:"Turn_LeftBot",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(660,-180,0),directionTurn:"Turn_BotRight",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(910,-50,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(910,-50,0),directionTurn:"Turn_RightTop",timeMove:1,rotation:0}],[{direction:"Swim_Top",positionTarget:new s(260,-115,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Top",positionTarget:new s(-400,330,0),directionTurn:"",timeMove:4.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-65,500,0),directionTurn:"Turn_TopRight",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(330,190,0),directionTurn:"Turn_RightBot",timeMove:3.5,rotation:-10},{direction:"Swim_Bot",positionTarget:new s(850,-8,0),directionTurn:"",timeMove:3,rotation:10},{direction:"Swim_Left",positionTarget:new s(630,-230,0),directionTurn:"Turn_BotLeft",timeMove:2,rotation:8},{direction:"Swim_Left",positionTarget:new s(400,-290,0),directionTurn:"",timeMove:2,rotation:-10},{direction:"Swim_Top",positionTarget:new s(260,-115,0),directionTurn:"Turn_LeftTop",timeMove:1.5,rotation:0}],[{direction:"Swim_Right",positionTarget:new s(-500,-120,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(230,170,0),directionTurn:"",timeMove:4,rotation:-5},{direction:"Swim_Top",positionTarget:new s(-5,458,0),directionTurn:"Turn_RightTop",timeMove:2,rotation:-10},{direction:"Swim_Left",positionTarget:new s(-370,350,0),directionTurn:"Turn_TopLeft",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(-688,30,0),directionTurn:"",timeMove:3,rotation:10},{direction:"Swim_Bot",positionTarget:new s(-500,-120,0),directionTurn:"Turn_LeftBot",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-500,-120,0),directionTurn:"Turn_BotRight",timeMove:1,rotation:0}],[{direction:"Swim_Top",positionTarget:new s(900,250,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Top",positionTarget:new s(710,370,0),directionTurn:"",timeMove:1.5,rotation:5},{direction:"Swim_Top",positionTarget:new s(340,550,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(15,360,0),directionTurn:"Turn_TopLeft",timeMove:2.5,rotation:8},{direction:"Swim_Left",positionTarget:new s(-530,120,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-150,-100,0),directionTurn:"Turn_LeftBot",timeMove:3,rotation:0},{direction:"Swim_Right",positionTarget:new s(88,50,0),directionTurn:"Turn_BotRight",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(360,-60,0),directionTurn:"Turn_RightBot",timeMove:2.5,rotation:5},{direction:"Swim_Bot",positionTarget:new s(620,-160,0),directionTurn:"",timeMove:2.5,rotation:5},{direction:"Swim_Right",positionTarget:new s(840,-10,0),directionTurn:"Turn_BotRight",timeMove:2,rotation:10},{direction:"Swim_Top",positionTarget:new s(700,130,0),directionTurn:"Turn_RightTop",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(900,250,0),directionTurn:"Turn_TopRight",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(900,250,0),directionTurn:"Turn_RightTop",timeMove:1,rotation:0}],[{direction:"Swim_Top",positionTarget:new s(100,-230,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Top",positionTarget:new s(-260,-10,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(-460,-115,0),directionTurn:"Turn_TopLeft",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-715,40,0),directionTurn:"Turn_LeftTop",timeMove:1.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-430,185,0),directionTurn:"Turn_TopRight",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(-220,300,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(250,25,0),directionTurn:"Turn_RightBot",timeMove:3.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(850,345,0),directionTurn:"Turn_BotRight",timeMove:5,rotation:0},{direction:"Swim_Top",positionTarget:new s(660,520,0),directionTurn:"Turn_RightTop",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(330,360,0),directionTurn:"Turn_TopLeft",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(710,80,0),directionTurn:"Turn_LeftBot",timeMove:3,rotation:0},{direction:"Swim_Left",positionTarget:new s(100,-230,0),directionTurn:"Turn_BotLeft",timeMove:3.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(100,-230,0),directionTurn:"Turn_LeftTop",timeMove:1,rotation:0}],[{direction:"Swim_Left",positionTarget:new s(220,440,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(10,320,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-225,430,0),directionTurn:"Turn_LeftTop",timeMove:1.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-42,520,0),directionTurn:"Turn_TopRight",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(540,190,0),directionTurn:"Turn_RightBot",timeMove:3,rotation:0},{direction:"Swim_Left",positionTarget:new s(275,0,0),directionTurn:"Turn_BotLeft",timeMove:2,rotation:15},{direction:"Swim_Top",positionTarget:new s(-150,230,0),directionTurn:"Turn_LeftTop",timeMove:3,rotation:0},{direction:"Swim_Left",positionTarget:new s(-320,120,0),directionTurn:"Turn_TopLeft",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-130,0,0),directionTurn:"Turn_LeftBot",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(350,350,0),directionTurn:"",timeMove:4,rotation:0},{direction:"Swim_Top",positionTarget:new s(220,440,0),directionTurn:"Turn_RightTop",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(220,440,0),directionTurn:"Turn_TopLeft",timeMove:1,rotation:0}],[{direction:"Swim_Top",positionTarget:new s(830,-330,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Top",positionTarget:new s(380,-60,0),directionTurn:"",timeMove:3,rotation:0},{direction:"Swim_Right",positionTarget:new s(630,150,0),directionTurn:"Turn_TopRight",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(90,530,0),directionTurn:"Turn_RightTop",timeMove:4.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-480,252,0),directionTurn:"Turn_TopLeft",timeMove:3.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-280,60,0),directionTurn:"Turn_LeftBot",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(20,-150,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(190,-40,0),directionTurn:"Turn_BotRight",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(720,-430,0),directionTurn:"Turn_RightBot",timeMove:3.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(830,-330,0),directionTurn:"Turn_BotRight",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(830,-330,0),directionTurn:"Turn_RightTop",timeMove:1,rotation:0}]]},T.getPathListM2=function(){return[[{direction:"Swim_Right",positionTarget:new s(-50,-350,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(402,-110,0),directionTurn:"",timeMove:3,rotation:0},{direction:"Swim_Top",positionTarget:new s(30,195,0),directionTurn:"Turn_RightTop",timeMove:3,rotation:0},{direction:"Swim_Right",positionTarget:new s(240,360,0),directionTurn:"Turn_TopRight",timeMove:2.5,rotation:10},{direction:"Swim_Bot",positionTarget:new s(480,260,0),directionTurn:"Turn_RightBot",timeMove:2.5,rotation:5},{direction:"Swim_Bot",positionTarget:new s(850,50,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(70,-420,0),directionTurn:"Turn_BotLeft",timeMove:5.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-50,-350,0),directionTurn:"Turn_LeftTop",timeMove:1.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-50,-350,0),directionTurn:"Turn_TopRight",timeMove:1,rotation:0}],[{direction:"Swim_Bot",positionTarget:new s(-710,250,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-542,150,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(90,490,0),directionTurn:"Turn_BotRight",timeMove:3.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(392,395,0),directionTurn:"Turn_LeftBot",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(184,215,0),directionTurn:"Turn_BotLeft",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(-280,-150,0),directionTurn:"",timeMove:3,rotation:10},{direction:"Swim_Top",positionTarget:new s(-580,40,0),directionTurn:"Turn_LeftTop",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(-840,185,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(-710,250,0),directionTurn:"Turn_TopRight",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-710,250,0),directionTurn:"Turn_RightBot",timeMove:2,rotation:0}],[{direction:"Swim_Left",positionTarget:new s(660,320,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(450,190,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(700,0,0),directionTurn:"Turn_LeftBot",timeMove:2,rotation:10},{direction:"Swim_Left",positionTarget:new s(380,-210,0),directionTurn:"Turn_BotLeft",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-340,220,0),directionTurn:"Turn_LeftTop",timeMove:5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-15,400,0),directionTurn:"Turn_TopRight",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(230,550,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(660,320,0),directionTurn:"Turn_RightBot",timeMove:3,rotation:0},{direction:"Swim_Left",positionTarget:new s(660,320,0),directionTurn:"Turn_BotLeft",timeMove:1,rotation:0}],[{direction:"Swim_Bot",positionTarget:new s(-580,-110,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-370,-230,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(80,35,0),directionTurn:"Turn_BotRight",timeMove:3,rotation:0},{direction:"Swim_Right",positionTarget:new s(580,350,0),directionTurn:"",timeMove:3.5,rotation:10},{direction:"Swim_Top",positionTarget:new s(350,500,0),directionTurn:"Turn_RightTop",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(10,260,0),directionTurn:"Turn_TopLeft",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-290,90,0),directionTurn:"",timeMove:3,rotation:0},{direction:"Swim_Left",positionTarget:new s(-580,-110,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-580,-110,0),directionTurn:"Turn_LeftBot",timeMove:1,rotation:0}],[{direction:"Swim_Left",positionTarget:new s(1370,-25,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(1250,-100,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(500,330,0),directionTurn:"Turn_LeftTop",timeMove:3.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-320,-200,0),directionTurn:"Turn_TopLeft",timeMove:5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(0,-380,0),directionTurn:"Turn_LeftBot",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(460,-90,0),directionTurn:"Turn_BotRight",timeMove:3,rotation:0},{direction:"Swim_Right",positionTarget:new s(820,125,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(1e3,20,0),directionTurn:"Turn_RightBot",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(1140,100,0),directionTurn:"Turn_BotRight",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(1370,-25,0),directionTurn:"Turn_RightBot",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(1370,-25,0),directionTurn:"Turn_BotLeft",timeMove:1.5,rotation:0}],[{direction:"Swim_Left",positionTarget:new s(720,150,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(505,8,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(100,235,0),directionTurn:"Turn_LeftTop",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-200,30,0),directionTurn:"Turn_TopLeft",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(-460,190,0),directionTurn:"Turn_LeftTop",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(50,480,0),directionTurn:"Turn_TopRight",timeMove:3,rotation:0},{direction:"Swim_Bot",positionTarget:new s(720,150,0),directionTurn:"Turn_RightBot",timeMove:3.5,rotation:10},{direction:"Swim_Left",positionTarget:new s(720,150,0),directionTurn:"Turn_BotLeft",timeMove:1,rotation:0}],[{direction:"Swim_Right",positionTarget:new s(280,-225,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(680,20,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(920,-90,0),directionTurn:"Turn_RightBot",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(1040,0,0),directionTurn:"Turn_BotRight",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(490,310,0),directionTurn:"Turn_RightTop",timeMove:3.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(280,180,0),directionTurn:"Turn_TopLeft",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(-30,380,0),directionTurn:"Turn_LeftTop",timeMove:3,rotation:0},{direction:"Swim_Left",positionTarget:new s(-500,160,0),directionTurn:"Turn_TopLeft",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(270,-230,0),directionTurn:"Turn_LeftBot",timeMove:4.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(280,-225,0),directionTurn:"Turn_BotRight",timeMove:1,rotation:0}],[{direction:"Swim_Top",positionTarget:new s(460,-20,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Top",positionTarget:new s(68,220,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(325,385,0),directionTurn:"Turn_TopRight",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(905,90,0),directionTurn:"Turn_RightBot",timeMove:3,rotation:0},{direction:"Swim_Left",positionTarget:new s(300,-350,0),directionTurn:"Turn_BotLeft",timeMove:5.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(500,-470,0),directionTurn:"Turn_LeftBot",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(360,-560,0),directionTurn:"Turn_BotLeft",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(0,-350,0),directionTurn:"Turn_LeftTop",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(275,-170,0),directionTurn:"Turn_TopRight",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(460,-20,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(460,-20,0),directionTurn:"Turn_RightTop",timeMove:1,rotation:0}],[{direction:"Swim_Right",positionTarget:new s(-595,102,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(-260,310,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-25,215,0),directionTurn:"Turn_RightBot",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-200,35,0),directionTurn:"Turn_BotLeft",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(212,-209,0),directionTurn:"Turn_LeftBot",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(600,-15,0),directionTurn:"Turn_BotRight",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(315,240,0),directionTurn:"Turn_RightTop",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-285,-120,0),directionTurn:"Turn_TopLeft",timeMove:2.5,rotation:5},{direction:"Swim_Top",positionTarget:new s(-682,-45,0),directionTurn:"Turn_LeftTop",timeMove:2,rotation:10},{direction:"Swim_Right",positionTarget:new s(-595,102,0),directionTurn:"Turn_TopRight",timeMove:2.5,rotation:10},{direction:"Swim_Right",positionTarget:new s(-260,310,0),directionTurn:"",timeMove:2,rotation:0}]]},T.getPathListL1=function(){return[[{direction:"Swim_Bot",positionTarget:new s(-1050,140,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-850,0,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-500,238,0),directionTurn:"Turn_BotRight",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-185,105,0),directionTurn:"Turn_RightBot",timeMove:1.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(285,345,0),directionTurn:"Turn_BotRight",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-60,600,0),directionTurn:"Turn_RightTop",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-375,445,0),directionTurn:"Turn_TopLeft",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(-810,250,0),directionTurn:"",timeMove:2.5,rotation:-5},{direction:"Swim_Left",positionTarget:new s(-1050,140,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-1050,140,0),directionTurn:"Turn_LeftBot",timeMove:1,rotation:0}],[{direction:"Swim_Bot",positionTarget:new s(800,750,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Bot",positionTarget:new s(940,670,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(500,400,0),directionTurn:"Turn_BotLeft",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(800,165,0),directionTurn:"Turn_LeftBot",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(580,20,0),directionTurn:"Turn_BotLeft",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(190,-180,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(-300,140,0),directionTurn:"Turn_LeftTop",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(135,380,0),directionTurn:"Turn_TopRight",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(800,750,0),directionTurn:"",timeMove:3,rotation:0},{direction:"Swim_Bot",positionTarget:new s(800,750,0),directionTurn:"Turn_RightBot",timeMove:1,rotation:0}],[{direction:"Swim_Top",positionTarget:new s(1120,460,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Top",positionTarget:new s(950,550,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(600,320,0),directionTurn:"Turn_BotLeft",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(840,160,0),directionTurn:"Turn_LeftBot",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(620,0,0),directionTurn:"Turn_BotLeft",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(740,-100,0),directionTurn:"Turn_LeftBot",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(440,-290,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(-200,100,0),directionTurn:"Turn_LeftTop",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(720,780,0),directionTurn:"Turn_TopRight",timeMove:3.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(940,350,0),directionTurn:"Turn_RightBot",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(1120,460,0),directionTurn:"Turn_BotRight",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(1120,460,0),directionTurn:"Turn_RightTop",timeMove:1.5,rotation:0}],[{direction:"Swim_Right",positionTarget:new s(-980,315,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(-820,405,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-360,150,0),directionTurn:"Turn_RightBot",timeMove:3,rotation:0},{direction:"Swim_Left",positionTarget:new s(-425,60,0),directionTurn:"Turn_BotLeft",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-170,-125,0),directionTurn:"Turn_LeftBot",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-655,-455,0),directionTurn:"Turn_BotLeft",timeMove:3.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-985,-275,0),directionTurn:"Turn_LeftTop",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-510,40,0),directionTurn:"Turn_TopRight",timeMove:3.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-980,315,0),directionTurn:"Turn_RightTop",timeMove:3,rotation:0},{direction:"Swim_Right",positionTarget:new s(-980,315,0),directionTurn:"Turn_TopRight",timeMove:1,rotation:0}],[{direction:"Swim_Bot",positionTarget:new s(-25,-145,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Bot",positionTarget:new s(145,-240,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(750,100,0),directionTurn:"Turn_BotRight",timeMove:3,rotation:0},{direction:"Swim_Top",positionTarget:new s(320,380,0),directionTurn:"Turn_RightTop",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-215,90,0),directionTurn:"Turn_TopLeft",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(188,-125,0),directionTurn:"Turn_LeftBot",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(605,90,0),directionTurn:"Turn_BotRight",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(175,400,0),directionTurn:"Turn_RightTop",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-350,100,0),directionTurn:"Turn_TopLeft",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-25,-145,0),directionTurn:"Turn_LeftBot",timeMove:2.5,rotation:0}],[{direction:"Swim_Top",positionTarget:new s(990,160,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Top",positionTarget:new s(850,280,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(1040,400,0),directionTurn:"Turn_TopRight",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(900,540,0),directionTurn:"Turn_RightTop",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(450,230,0),directionTurn:"Turn_TopLeft",timeMove:3.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(620,90,0),directionTurn:"Turn_LeftBot",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(340,-60,0),directionTurn:"Turn_BotLeft",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(490,-170,0),directionTurn:"Turn_LeftBot",timeMove:1.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(990,160,0),directionTurn:"Turn_BotRight",timeMove:3.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(990,160,0),directionTurn:"Turn_RightTop",timeMove:1,rotation:0}],[{direction:"Swim_Left",positionTarget:new s(920,360,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(690,90,0),directionTurn:"",timeMove:2.5,rotation:15},{direction:"Swim_Top",positionTarget:new s(130,340,0),directionTurn:"Turn_LeftTop",timeMove:3,rotation:0},{direction:"Swim_Top",positionTarget:new s(-320,590,0),directionTurn:"",timeMove:2.5,rotation:-10},{direction:"Swim_Left",positionTarget:new s(-770,390,0),directionTurn:"Turn_TopLeft",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-480,180,0),directionTurn:"Turn_LeftBot",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(250,580,0),directionTurn:"Turn_BotRight",timeMove:5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(920,360,0),directionTurn:"Turn_RightBot",timeMove:3,rotation:5},{direction:"Swim_Left",positionTarget:new s(920,360,0),directionTurn:"Turn_BotLeft",timeMove:1,rotation:0}],[{direction:"Swim_Right",positionTarget:new s(-1100,90,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(-870,210,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-450,0,0),directionTurn:"Turn_RightBot",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(-270,140,0),directionTurn:"Turn_BotRight",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(40,-40,0),directionTurn:"Turn_RightBot",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-400,-315,0),directionTurn:"Turn_BotLeft",timeMove:3.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-900,-60,0),directionTurn:"Turn_LeftTop",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-1100,90,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(-1100,90,0),directionTurn:"Turn_BotRight",timeMove:1,rotation:0}],[{direction:"Swim_Right",positionTarget:new s(510,175,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(815,360,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(610,530,0),directionTurn:"Turn_RightTop",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(315,370,0),directionTurn:"Turn_TopLeft",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(-120,120,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-510,340,0),directionTurn:"Turn_LeftTop",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-190,550,0),directionTurn:"Turn_TopRight",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(160,360,0),directionTurn:"Turn_RightBot",timeMove:3,rotation:0},{direction:"Swim_Bot",positionTarget:new s(510,175,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(510,175,0),directionTurn:"Turn_BotRight",timeMove:1,rotation:0}],[{direction:"Swim_Left",positionTarget:new s(70,-60,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(-115,-190,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-355,-50,0),directionTurn:"Turn_LeftTop",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(-630,-220,0),directionTurn:"Turn_TopLeft",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-970,-65,0),directionTurn:"Turn_LeftTop",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-80,530,0),directionTurn:"Turn_TopRight",timeMove:6.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(340,335,0),directionTurn:"Turn_RightBot",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(790,65,0),directionTurn:"",timeMove:3,rotation:0},{direction:"Swim_Left",positionTarget:new s(320,-190,0),directionTurn:"Turn_BotLeft",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(70,-60,0),directionTurn:"Turn_LeftTop",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(70,-60,0),directionTurn:"Turn_TopLeft",timeMove:1,rotation:0}],[{direction:"Swim_Right",positionTarget:new s(330,-510,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(670,-135,0),directionTurn:"",timeMove:2.5,rotation:10},{direction:"Swim_Top",positionTarget:new s(480,0,0),directionTurn:"Turn_RightTop",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(50,-260,0),directionTurn:"Turn_TopLeft",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-600,90,0),directionTurn:"Turn_LeftTop",timeMove:3,rotation:0},{direction:"Swim_Left",positionTarget:new s(-930,-135,0),directionTurn:"Turn_TopLeft",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-730,-250,0),directionTurn:"Turn_LeftBot",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-400,-450,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-130,-270,0),directionTurn:"Turn_BotRight",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(330,-510,0),directionTurn:"Turn_RightBot",timeMove:3,rotation:0},{direction:"Swim_Right",positionTarget:new s(330,-510,0),directionTurn:"Turn_BotRight",timeMove:1,rotation:0}],[{direction:"Swim_Left",positionTarget:new s(-760,400,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(-985,300,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-530,30,0),directionTurn:"Turn_LeftBot",timeMove:3,rotation:0},{direction:"Swim_Right",positionTarget:new s(200,460,0),directionTurn:"Turn_BotRight",timeMove:4,rotation:0},{direction:"Swim_Bot",positionTarget:new s(620,240,0),directionTurn:"Turn_RightBot",timeMove:3,rotation:0},{direction:"Swim_Bot",positionTarget:new s(910,85,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(430,-230,0),directionTurn:"Turn_BotLeft",timeMove:3,rotation:0},{direction:"Swim_Top",positionTarget:new s(-160,80,0),directionTurn:"Turn_LeftTop",timeMove:3,rotation:0},{direction:"Swim_Top",positionTarget:new s(-760,400,0),directionTurn:"",timeMove:3,rotation:0},{direction:"Swim_Left",positionTarget:new s(-760,400,0),directionTurn:"Turn_TopLeft",timeMove:1,rotation:0}]]},T.getPathListL2=function(){return[[{direction:"Swim_Bot",positionTarget:new s(-540,750,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-355,630,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(-45,800,0),directionTurn:"Turn_BotRight",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(450,550,0),directionTurn:"Turn_RightBot",timeMove:3,rotation:0},{direction:"Swim_Left",positionTarget:new s(-80,220,0),directionTurn:"Turn_BotLeft",timeMove:4.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-700,40,0),directionTurn:"",timeMove:2.5,rotation:-10},{direction:"Swim_Top",positionTarget:new s(-1140,380,0),directionTurn:"Turn_LeftTop",timeMove:3.5,rotation:-10},{direction:"Swim_Right",positionTarget:new s(-780,590,0),directionTurn:"Turn_TopRight",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-540,750,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-540,750,0),directionTurn:"Turn_RightBot",timeMove:1,rotation:0}],[{direction:"Swim_Bot",positionTarget:new s(100,760,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Bot",positionTarget:new s(400,550,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(740,475,0),directionTurn:"",timeMove:2,rotation:10},{direction:"Swim_Bot",positionTarget:new s(905,320,0),directionTurn:"",timeMove:1.5,rotation:-10},{direction:"Swim_Bot",positionTarget:new s(1350,90,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(1520,190,0),directionTurn:"Turn_BotRight",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(1350,270,0),directionTurn:"Turn_RightTop",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(950,90,0),directionTurn:"Turn_TopLeft",timeMove:3,rotation:0},{direction:"Swim_Top",positionTarget:new s(-55,650,0),directionTurn:"Turn_LeftTop",timeMove:6.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(100,760,0),directionTurn:"Turn_TopRight",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(100,760,0),directionTurn:"Turn_RightBot",timeMove:1.5,rotation:0}],[{direction:"Swim_Top",positionTarget:new s(780,540,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(445,395,0),directionTurn:"Turn_TopLeft",timeMove:3,rotation:10},{direction:"Swim_Left",positionTarget:new s(-190,240,0),directionTurn:"",timeMove:3,rotation:-15},{direction:"Swim_Left",positionTarget:new s(-740,-5,0),directionTurn:"",timeMove:3.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-635,-200,0),directionTurn:"Turn_LeftBot",timeMove:2,rotation:-10},{direction:"Swim_Right",positionTarget:new s(-270,-55,0),directionTurn:"Turn_BotRight",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(280,220,0),directionTurn:"",timeMove:4,rotation:0},{direction:"Swim_Right",positionTarget:new s(780,540,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(780,540,0),directionTurn:"Turn_RightTop",timeMove:2,rotation:0}],[{direction:"Swim_Right",positionTarget:new s(680,120,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(1e3,300,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(1220,160,0),directionTurn:"Turn_RightBot",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(1050,30,0),directionTurn:"Turn_BotLeft",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(1180,-60,0),directionTurn:"Turn_LeftBot",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(1085,-140,0),directionTurn:"Turn_BotLeft",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(390,330,0),directionTurn:"Turn_LeftTop",timeMove:4.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(315,310,0),directionTurn:"Turn_TopLeft",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(590,90,0),directionTurn:"Turn_LeftBot",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(680,120,0),directionTurn:"Turn_BotRight",timeMove:1.5,rotation:0}],[{direction:"Swim_Right",positionTarget:new s(-380,-630,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(-160,-500,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-605,-230,0),directionTurn:"Turn_RightTop",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-360,-80,0),directionTurn:"Turn_TopRight",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-740,180,0),directionTurn:"Turn_RightTop",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-1380,-170,0),directionTurn:"Turn_TopLeft",timeMove:3.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-450,-660,0),directionTurn:"Turn_LeftBot",timeMove:5.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-380,-630,0),directionTurn:"Turn_BotRight",timeMove:1,rotation:0}],[{direction:"Swim_Right",positionTarget:new s(-975,-60,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(-700,130,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-1070,370,0),directionTurn:"Turn_RightTop",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(-730,570,0),directionTurn:"Turn_TopRight",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-850,710,0),directionTurn:"Turn_RightTop",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-1180,540,0),directionTurn:"Turn_TopLeft",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-1490,255,0),directionTurn:"",timeMove:2,rotation:15},{direction:"Swim_Bot",positionTarget:new s(-1290,100,0),directionTurn:"Turn_LeftBot",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-1015,-70,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-975,-60,0),directionTurn:"Turn_BotRight",timeMove:1,rotation:0}],[{direction:"Swim_Bot",positionTarget:new s(-1380,450,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-1050,260,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-610,505,0),directionTurn:"Turn_BotRight",timeMove:3,rotation:0},{direction:"Swim_Right",positionTarget:new s(-175,735,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(305,450,0),directionTurn:"Turn_RightBot",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-70,230,0),directionTurn:"Turn_BotLeft",timeMove:3,rotation:0},{direction:"Swim_Left",positionTarget:new s(-660,-145,0),directionTurn:"",timeMove:3,rotation:10},{direction:"Swim_Left",positionTarget:new s(-1115,-305,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(-1630,-15,0),directionTurn:"Turn_LeftTop",timeMove:3,rotation:0},{direction:"Swim_Right",positionTarget:new s(-1e3,350,0),directionTurn:"Turn_TopRight",timeMove:3,rotation:0},{direction:"Swim_Top",positionTarget:new s(-1250,530,0),directionTurn:"Turn_RightTop",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-1400,450,0),directionTurn:"Turn_TopLeft",timeMove:1.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-1385,450,0),directionTurn:"Turn_LeftBot",timeMove:.5,rotation:0}],[{direction:"Swim_Bot",positionTarget:new s(-1630,20,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-1130,-270,0),directionTurn:"",timeMove:3,rotation:0},{direction:"Swim_Right",positionTarget:new s(-780,-80,0),directionTurn:"Turn_BotRight",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(-360,200,0),directionTurn:"",timeMove:3,rotation:0},{direction:"Swim_Top",positionTarget:new s(-760,480,0),directionTurn:"Turn_RightTop",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-180,760,0),directionTurn:"Turn_TopRight",timeMove:3.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(480,380,0),directionTurn:"Turn_RightBot",timeMove:4,rotation:0},{direction:"Swim_Left",positionTarget:new s(-125,35,0),directionTurn:"Turn_BotLeft",timeMove:3,rotation:0},{direction:"Swim_Top",positionTarget:new s(-530,275,0),directionTurn:"Turn_LeftTop",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(-1060,0,0),directionTurn:"Turn_TopLeft",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-1380,170,0),directionTurn:"Turn_LeftTop",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-1640,35,0),directionTurn:"Turn_TopLeft",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-1630,20,0),directionTurn:"Turn_LeftBot",timeMove:1,rotation:0}],[{direction:"Swim_Top",positionTarget:new s(130,-180,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Top",positionTarget:new s(-170,-7,0),directionTurn:"",timeMove:1.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(130,180,0),directionTurn:"Turn_TopRight",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(30,280,0),directionTurn:"Turn_RightTop",timeMove:1.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(320,470,0),directionTurn:"Turn_TopRight",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-135,780,0),directionTurn:"Turn_RightTop",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-660,500,0),directionTurn:"Turn_TopLeft",timeMove:3,rotation:0},{direction:"Swim_Left",positionTarget:new s(-830,330,0),directionTurn:"",timeMove:1.5,rotation:10},{direction:"Swim_Bot",positionTarget:new s(-450,90,0),directionTurn:"Turn_LeftBot",timeMove:2.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(50,-150,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(55,-140,0),directionTurn:"Turn_BotRight",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(130,-180,0),directionTurn:"Turn_RightTop",timeMove:1,rotation:0}],[{direction:"Swim_Left",positionTarget:new s(-530,300,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Left",positionTarget:new s(-830,110,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(-1305,430,0),directionTurn:"Turn_LeftTop",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-900,650,0),directionTurn:"Turn_TopRight",timeMove:3,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-680,520,0),directionTurn:"Turn_RightBot",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-70,790,0),directionTurn:"Turn_BotRight",timeMove:3,rotation:0},{direction:"Swim_Bot",positionTarget:new s(500,440,0),directionTurn:"Turn_RightBot",timeMove:3.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(15,150,0),directionTurn:"Turn_BotLeft",timeMove:2.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-185,280,0),directionTurn:"Turn_LeftTop",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(-340,230,0),directionTurn:"Turn_TopLeft",timeMove:1.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-512,310,0),directionTurn:"Turn_LeftTop",timeMove:2,rotation:0},{direction:"Swim_Left",positionTarget:new s(-530,300,0),directionTurn:"Turn_TopLeft",timeMove:1.5,rotation:0}],[{direction:"Swim_Right",positionTarget:new s(70,600,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Right",positionTarget:new s(345,760,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Bot",positionTarget:new s(575,640,0),directionTurn:"Turn_RightBot",timeMove:1.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(110,345,0),directionTurn:"Turn_BotLeft",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-580,10,0),directionTurn:"",timeMove:3.5,rotation:0},{direction:"Swim_Top",positionTarget:new s(-900,190,0),directionTurn:"Turn_LeftTop",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(-1320,435,0),directionTurn:"",timeMove:2.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-780,740,0),directionTurn:"Turn_TopRight",timeMove:3.5,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-610,660,0),directionTurn:"Turn_RightBot",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(-330,820,0),directionTurn:"Turn_BotRight",timeMove:3,rotation:0},{direction:"Swim_Bot",positionTarget:new s(55,600,0),directionTurn:"Turn_RightBot",timeMove:3,rotation:0},{direction:"Swim_Right",positionTarget:new s(70,600,0),directionTurn:"Turn_BotRight",timeMove:1,rotation:0}],[{direction:"Swim_Top",positionTarget:new s(-300,-420,0),directionTurn:"",timeMove:1,rotation:0},{direction:"Swim_Top",positionTarget:new s(-630,-220,0),directionTurn:"",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(-275,-15,0),directionTurn:"Turn_TopRight",timeMove:2,rotation:0},{direction:"Swim_Right",positionTarget:new s(80,50,0),directionTurn:"",timeMove:2,rotation:-10},{direction:"Swim_Top",positionTarget:new s(0,245,0),directionTurn:"Turn_RightTop",timeMove:2,rotation:-10},{direction:"Swim_Left",positionTarget:new s(-560,-40,0),directionTurn:"Turn_TopLeft",timeMove:3,rotation:0},{direction:"Swim_Top",positionTarget:new s(-920,180,0),directionTurn:"Turn_LeftTop",timeMove:2.5,rotation:0},{direction:"Swim_Left",positionTarget:new s(-1460,-140,0),directionTurn:"Turn_TopLeft",timeMove:3,rotation:0},{direction:"Swim_Bot",positionTarget:new s(-430,-630,0),directionTurn:"Turn_LeftBot",timeMove:5.5,rotation:0},{direction:"Swim_Right",positionTarget:new s(-160,-500,0),directionTurn:"Turn_BotRight",timeMove:2,rotation:0},{direction:"Swim_Top",positionTarget:new s(-300,-420,0),directionTurn:"Turn_RightTop",timeMove:1,rotation:0}]]},T.onDestroy=function(){this.StopCharacterBait()},T.OnBtnClick=function(){0!=this.manager.isCanClick&&(this.manager.state==f.Idle?this.manager.GetDrop():this.manager.state==f.Drop?0==this.manager.isEatReal?this.DropFail():this.DropReal():(this.manager.state,f.Pull))},T.ResetDrop=function(){this.effDrop.node.active=!1,this.effDrop.animation="",this.effDrop.loop=!1,this.StopCharacterBait()},T.StopCharacterBait=function(){null!=this.timeoutEat&&(clearTimeout(this.timeoutEat),this.timeoutEat=null),this.unschedule(this.DropFail)},T.PlayCharacterBait=function(){var i=this;this.timeoutEat=setTimeout((function(){i.PlayEat()}),1e3*g(2,5))},T.PlayEat=function(){var i=this,t=g(0,this.arrEatCache.length);i.manager.isEatReal=i.arrEatCache[t],i.arrEatCache.splice(t,1),i.manager.isEatReal?i.PlayEatRealBait():i.PlayEatFakeBait()},T.DropFail=function(){console.log("DropFail"),this.manager.ResetDrop(),h.Instance.ShowToast("Error","Oops. The fish has got away...",0,!1),this.character.setMix("Idle_Sleep","Angry",.35),this.character.setMix("Eat_Real","Angry",.35),this.character.setMix("Eat_Fake","Angry",.35),this.character.setAnimation(0,"Angry",!1),this.manager.isCanClick=!1,this.scheduleOnce(function(){this.manager.isCanClick=!0}.bind(this),2)},T.DropReal=function(){console.log("DropReal"),this.manager.ResetDrop(),this.character.setMix("Idle_Sleep","Idle_Fishing",.35),this.character.setMix("Eat_Real","Idle_Fishing",.35),this.character.setMix("Eat_Fake","Idle_Fishing",.35),this.character.setAnimation(0,"Idle_Fishing",!0),this.manager.GetBeginPull()},T.PlayEatRealBait=function(){M.Instance.PlaySound(v.UI_Fishing_CaDopNuoc),this.character.setMix("Idle_Sleep","Eat_Real",.5),this.character.setAnimation(0,"Eat_Real",!1),this.effDrop.node.active=!0,this.effDrop.setAnimation(0,"Shockwave",!0),this.scheduleOnce(this.DropFail,1)},T.PlayEatFakeBait=function(){this.character.setMix("Idle_Sleep","Eat_Fake",.25),this.character.setAnimation(0,"Eat_Fake",!1)},T.onCompleteCharacter=function(i){switch(this.character.animation){case"Happy":break;case"Angry":this.manager.ResetDrop(),this.PlayCharacterIdle();break;case"Idle_Sleep":case"Eat_Real":break;case"Eat_Fake":0==this.manager.isEatReal&&this.manager.state==f.Drop&&(this.StopCharacterBait(),this.PlayCharacterBait(),this.character.clearTrack(0),this.character.setToSetupPose(),this.character.setAnimation(0,"Idle_Sleep",!0));break;case"Start_Fishing":this.manager.isCanClick=!0,this.arrEatCache=Object.assign([],this.arrEat),this.StopCharacterBait(),this.PlayCharacterBait(),this.character.clearTrack(0),this.character.setToSetupPose(),this.character.setAnimation(0,"Idle_Sleep",!0)}},T.PlayCharacterIdle=function(){this.character.clearTrack(0),this.character.setToSetupPose(),this.character.setMix("No_Idle","No_Idle_Sleep",1),this.character.setAnimation(0,"No_Idle",!0),this.character.addAnimation(0,"No_Idle_Sleep",!0,10)},t}(S)).prototype,"numObject",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),j=t(D.prototype,"numFish",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),A=t(D.prototype,"delaySpawnFish",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=t(D.prototype,"idMap",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"S1"}}),x=t(D.prototype,"contentFish",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(D.prototype,"contentObjects",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(D.prototype,"targetFish",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(D.prototype,"character",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(D.prototype,"effDrop",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=D))||k));T._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcesManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,a,i,o,s,u,l,d,f,c,h,p;return{setters:[function(e){t=e.defineProperty,n=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.assertThisInitialized,i=e.initializerDefineProperty},function(e){o=e.cclegacy,s=e._decorator,u=e.SpriteFrame,l=e.JsonAsset,d=e.TextAsset,f=e.sp,c=e.game,h=e.resources,p=e.Component}],execute:function(){var m,g,_,y,b,v,w,x,B,I,S,R,F,L,A,G,M,z,T,C,D,N,P;o._RF.push({},"2e611/b+YZFRo0vE+CEapry","ResourcesManager",void 0);var j=s.ccclass,k=s.property;e("ResourcesManager",(m=j("ResourcesManager"),g=k(u),_=k(u),y=k(l),b=k(l),v=k(u),w=k(d),x=k(l),B=k(u),I=k([f.SkeletonData]),m((P=N=function(e){function n(){for(var n,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o))||this,t(a(n),"plant_art",[]),t(a(n),"mother_tree_art",[]),t(a(n),"type_art",[]),t(a(n),"seasonBG",[]),t(a(n),"seasonNewBtn",[]),t(a(n),"season",[]),t(a(n),"weather",[]),t(a(n),"materials",[]),t(a(n),"nft_egg",new Map),t(a(n),"nft_undead",new Map),i(a(n),"land_art",F,a(n)),i(a(n),"crow_art",L,a(n)),i(a(n),"errorCodeMerged",A,a(n)),i(a(n),"materialsRawData",G,a(n)),i(a(n),"seasonTextSprite",M,a(n)),i(a(n),"ChangeLog",z,a(n)),i(a(n),"GatheringLevelConfig",T,a(n)),i(a(n),"RarityArt",C,a(n)),i(a(n),"undeadAnim",D,a(n)),t(a(n),"undead_anim_path",{oxxfome:"Sheep_Baby",nasherr:"Bat_Baby",slugma:"Snail_Baby",valefang:"Wolf_Baby",tbluyr:"Fairy_Baby",torramn:"Turtle_Baby",tyrannux:"Dragon_Baby",emprezza:"Dinosaur_Baby"}),n}r(n,e);var o=n.prototype;return o.onLoad=function(){null==n.Instance?(n.Instance=this,c.addPersistRootNode(this.node)):this.destroy()},o.LoadPlant=function(e,t){var n=this,r=this.plant_art.findIndex((function(t){return t.name==e}));if(-1==r){var a;h.load("plants/"+e+"/spriteFrame",u,(function(r,i){a=i,-1==n.plant_art.findIndex((function(t){return t.name==e}))&&n.plant_art.push(a),t(a)}))}else t(this.plant_art[r])},o.LoadSeasonNewBtn=function(e,t){var n=this,r=this.seasonNewBtn.findIndex((function(t){return t.name==e}));if(-1==r){var a;h.load("season/new_"+e+"/spriteFrame",u,(function(r,i){a=i,-1==n.seasonNewBtn.findIndex((function(t){return t.name==e}))&&n.seasonNewBtn.push(a),t(a)}))}else t(this.seasonNewBtn[r])},o.LoadSeason=function(e,t){var n=this,r=this.season.findIndex((function(t){return t.name==e}));if(-1==r){var a;h.load("season/"+e+"/spriteFrame",u,(function(r,i){a=i,-1==n.season.findIndex((function(t){return t.name==e}))&&n.season.push(a),t(a)}))}else t(this.season[r])},o.LoadWeather=function(e,t){var n=this,r=this.weather.findIndex((function(t){return t.name==e}));if(-1==r){var a;h.load("weather/"+e+"/spriteFrame",u,(function(r,i){a=i,-1==n.weather.findIndex((function(t){return t.name==e}))&&n.weather.push(a),t(a)}))}else t(this.weather[r])},o.LoadSeasonBg=function(e,t){var n=this,r=this.seasonBG.findIndex((function(t){return t.name==e}));if(-1==r){var a;h.load("season/bg_"+e+"/spriteFrame",u,(function(r,i){a=i,-1==n.seasonBG.findIndex((function(t){return t.name==e}))&&n.seasonBG.push(a),t(a)}))}else t(this.seasonBG[r])},o.LoadMotherTree=function(e,t){var n=this,r=this.mother_tree_art.findIndex((function(t){return t.name==e}));if(-1==r){var a;h.load("mother_tree/"+e+"/spriteFrame",u,(function(r,i){a=i,-1==n.mother_tree_art.findIndex((function(t){return t.name==e}))&&n.mother_tree_art.push(a),t(a)}))}else t(this.mother_tree_art[r])},o.Loadtype=function(e,t){var n=this,r=this.type_art.findIndex((function(t){return t.name==e}));if(-1==r){var a;h.load("type/"+e+"/spriteFrame",u,(function(r,i){a=i,-1==n.type_art.findIndex((function(t){return t.name==e}))&&n.type_art.push(a),t(a)}))}else t(this.type_art[r])},o.LoadRarity=function(e){var t=parseInt(e.substring(6,8));return t<=59?this.RarityArt[0]:t<=88?this.RarityArt[1]:t<=98?this.RarityArt[2]:this.RarityArt[3]},o.GetRarity=function(e){return this.RarityArt[e]},o.GetErrorMessage=function(e){return null!=this.errorCodeMerged.json[e.toString()]?this.errorCodeMerged.json[e.toString()]:"Unknow"},o.GetSeasonTextSprite=function(e){return this.seasonTextSprite[e]},o.GetSeasonTextSpriteByName=function(e){e="button_"+e;var t=this.seasonTextSprite.findIndex((function(t){return t.name==e}));return this.seasonTextSprite[t]},o.LoadMaterialSprite=function(e,t){var n=this.materials.findIndex((function(t){return t.name==e}));-1==n?h.load("materials/"+e+"/spriteFrame",u,function(n,r){null!=r&&-1==this.materials.findIndex((function(t){return t.name==e}))&&this.materials.push(r),t(r)}.bind(this)):t(this.materials[n])},o.GetMaterialData=function(e){return this.materialsRawData.json[e]},o.GetNFTEgg=function(e,t){var n=this.nft_egg.get(e);null==n?h.load("nft_egg/"+e+"/spriteFrame",u,function(n,r){this.nft_egg.set(e,r),t(r)}.bind(this)):t(n)},o.GetUndead=function(e,t,n){var r="undead/"+e+"/spriteFrame",a=this.nft_undead.get(r);null==a?h.load(r,u,function(e,t){this.nft_egg.set(r,t),n(t)}.bind(this)):n(a)},o.GetUndeadSkeleton=function(e){for(var t=this.undead_anim_path[e],n=0;n<this.undeadAnim.length;n++)if(this.undeadAnim[n].name==t)return this.undeadAnim[n];return console.log("undead code",e,"anim not found "),null},n}(p),t(N,"Instance",void 0),F=n((R=P).prototype,"land_art",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(R.prototype,"crow_art",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=n(R.prototype,"errorCodeMerged",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=n(R.prototype,"materialsRawData",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=n(R.prototype,"seasonTextSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(R.prototype,"ChangeLog",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(R.prototype,"GatheringLevelConfig",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(R.prototype,"RarityArt",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(R.prototype,"undeadAnim",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=R))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopMarket.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,e,n,i,r,a,c,s,p,l;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Widget,s=t.tween,p=t.v3,l=t.Component}],execute:function(){var u,h,g,S,f;r._RF.push({},"2ea95M8PPtNTJa5ba6rv7ep","ShopMarket",void 0);var m=a.ccclass,y=a.property;t("ShopMarket",(u=m("ShopMarket"),h=y(c),u((f=o((S=function(t){function o(){for(var o,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o=t.call.apply(t,[this].concat(r))||this,n(i(o),"ComingSoon",f,i(o)),o}return e(o,t),o.prototype.onEnable=function(){this.ComingSoon.top=-600,this.ComingSoon.node.setScale(0,0,0),s(this.ComingSoon).to(.3,{top:0},{easing:"circOut"}).start(),s(this.ComingSoon.node).to(.3,{scale:p(1,1,1)},{easing:"circOut"}).start()},o}(l)).prototype,"ComingSoon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=S))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/MiningRock.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,i,o,r,e,c;return{setters:[function(n){t=n.inheritsLoose,i=n.defineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,e=n._decorator,c=n.Component}],execute:function(){var s;r._RF.push({},"2ffddMqxOpKSb/qTgs5KkBr","MiningRock",void 0);var u=e.ccclass;e.property,n("MiningRock",u("MiningRock")(s=function(n){function r(){for(var t,r=arguments.length,e=new Array(r),c=0;c<r;c++)e[c]=arguments[c];return t=n.call.apply(n,[this].concat(e))||this,i(o(t),"json",void 0),t}return t(r,n),r.prototype.Init=function(n){this.json=n},r}(c))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./FarmingServicesApi.ts","./UIBugReport.ts","./UIItemInfo.ts","./UINotifyConfirm.ts","./UIPopupSetting.ts","./UIThanks.ts","./UIToast.ts","./UIFinishExpeditionPopup.ts","./UIPopupNurtureUndead.ts","./UIPopupOpenEgg.ts","./UIPopupUndeadInfo.ts","./UIExpeditionPopup.ts"],(function(t){"use strict";var o,i,n,e,a,s,r,p,u,d,I,h,c,l,f,U,g,m,v,P,S,_,T,C,N,y,w,E;return{setters:[function(t){o=t.defineProperty,i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,p=t.Node,u=t.Sprite,d=t.game,I=t.Game,h=t.color,c=t.Tween,l=t.director,f=t.Component},function(t){U=t.UserModel},function(t){g=t.FarmingServicesApi},function(t){m=t.UIBugReport},function(t){v=t.UIItemInfo},function(t){P=t.UINotifyConfirm},function(t){S=t.UIPopupSetting},function(t){_=t.UIThanks},function(t){T=t.UIToast},function(t){C=t.UIFinishExpeditionPopup},function(t){N=t.UIPopupNurtureUndead},function(t){y=t.UIPopupOpenEgg},function(t){w=t.UIPopupUndeadInfo},function(t){E=t.UIExpeditionPopup}],execute:function(){var D,R,k,F,b,x,L,O,A;t("LoadingType",void 0),s._RF.push({},"3036ek40DJGiaiK4+dmYVo5","UIPopupManager",void 0);var B,M=r.ccclass,H=r.property;!function(t){t[t.normal=0]="normal",t[t.noAnim=1]="noAnim",t[t.loadScene=2]="loadScene"}(B||(B=t("LoadingType",{})));t("UIPopupManager",(D=M("UIPopupManager"),R=H({type:p}),k=H({type:u}),D((A=O=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,e(a(i),"loadingNode",x,a(i)),e(a(i),"loadingNodeSprite",L,a(i)),o(a(i),"_UIToast",void 0),o(a(i),"_UIPopupSetting",void 0),o(a(i),"_UINotifyConfirm",void 0),o(a(i),"_UIItemInfo",void 0),o(a(i),"_UIBugReport",void 0),o(a(i),"_UIThanks",void 0),o(a(i),"_UIExpeditionPopup",void 0),o(a(i),"_UIFinishExpeditionPopup",void 0),o(a(i),"_UIPopupNurtureUndead",void 0),o(a(i),"_UIPopupOpenEgg",void 0),o(a(i),"_UIPopupUndeadInfo",void 0),o(a(i),"timePause",0),o(a(i),"timePauseDelta",0),o(a(i),"loadingTimeOut",void 0),i}n(i,t);var s=i.prototype;return s.onLoad=function(){null==i.Instance?(i.Instance=this,d.addPersistRootNode(this.node)):this.destroy(),this._UINotifyConfirm=this.getComponentInChildren(P),this._UIToast=this.getComponentInChildren(T),this._UIPopupSetting=this.getComponentInChildren(S),this._UIItemInfo=this.getComponentInChildren(v),this._UIBugReport=this.getComponentInChildren(m),this._UIThanks=this.getComponentInChildren(_),this._UIExpeditionPopup=this.getComponentInChildren(E),this._UIFinishExpeditionPopup=this.getComponentInChildren(C),this._UIPopupNurtureUndead=this.getComponentInChildren(N),this._UIPopupOpenEgg=this.getComponentInChildren(y),this._UIPopupUndeadInfo=this.getComponentInChildren(w)},s.start=function(){var t=this;d.on(I.EVENT_HIDE,(function(){t.timePause=Date.now()}),this,!1),d.on(I.EVENT_SHOW,(function(){if(""!=U.Token){var o=Date.now()-t.timePause;t.timePauseDelta+=o,U.serverTime+=o,t.timePauseDelta>3e5&&(t.timePauseDelta=0,t.RequestFarmStatus())}}),this,!1)},s.update=function(t){U.serverTime+=1e3*t},s.RequestFarmStatus=function(){g.RequestFarmStatus((function(t){var o=JSON.parse(t);0==o.status&&(U.serverTime=Date.parse(o.data.currentTime))}),(function(t){}))},s.ShowSetting=function(t){this._UIPopupSetting.Show(t)},s.Loading=function(t,o){var i=this;void 0===o&&(o=B.normal);if(t){switch(o){case B.normal:this.loadingNodeSprite.color=h(0,0,0,170),this.loadingNodeSprite.node.active=!0;break;case B.noAnim:this.loadingNodeSprite.node.active=!1;break;case B.loadScene:this.loadingNodeSprite.color=h(0,0,0,255),this.loadingNodeSprite.node.active=!0}this.loadingNode.active=!0,this.loadingTimeOut=setTimeout((function(){i.loadingNode.active=!1}),1e4)}else this.loadingNode.active=!1,clearTimeout(this.loadingTimeOut)},s.LoadScene=function(t){var o=this;c.stopAll(),this.Loading(!0),l.loadScene(t,(function(){o.Loading(!1)}))},s.ShowToast=function(t,o,i,n){void 0===n&&(n=!0),this._UIToast.Show(t,o,i,n)},s.HideToast=function(){this._UIToast.HideToast()},s.ShowUINotifyConfirm=function(t,o,i,n,e,a,s){void 0===e&&(e=!1),void 0===a&&(a=2),void 0===s&&(s=!1),this._UINotifyConfirm.Show(t,o,i,n,e,a,s)},s.ShowItemInfo=function(t,o){this._UIItemInfo.Show(t,o)},s.ShowUIBugReport=function(){this._UIBugReport.Show()},s.ShowUIThanks=function(){this._UIThanks.Show()},i}(f),o(O,"Instance",void 0),x=i((b=A).prototype,"loadingNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(b.prototype,"loadingNodeSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=b))||F));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemInfo.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./Utility.ts","./PopUpBase.ts","./UIPopupManager.ts"],(function(e){"use strict";var t,i,r,o,n,a,l,s,p,c,u,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Node,s=e.Sprite,p=e.Label},function(e){c=e.ResourcesManager},function(e){u=e.Utility},function(e){f=e.PopUpBase},function(e){y=e.UIPopupManager}],execute:function(){var I,b,m,h,g,v,B,d,w,R,U,x,z,D,T,M,S,P,O;n._RF.push({},"3215692ZpROp4LE2eoCrTIB","UIItemInfo",void 0);var _=a.ccclass,L=a.property;e("UIItemInfo",(I=_("UIItemInfo"),b=L(l),m=L(l),h=L(s),g=L(p),v=L(p),B=L(p),d=L(p),w=L(p),I((x=t((U=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,r(o(t),"Box",x,o(t)),r(o(t),"Box1",z,o(t)),r(o(t),"InfoIcon",D,o(t)),r(o(t),"itemName",T,o(t)),r(o(t),"Type",M,o(t)),r(o(t),"Rarity",S,o(t)),r(o(t),"Dropfrom",P,o(t)),r(o(t),"Des",O,o(t)),t}i(t,e);var n=t.prototype;return n.Show=function(t,i){var r=this;if(null!=t){if("MYSTERIOUS_POWDER"==i)this.Box1.active=!0;else{this.Box1.active=!1,this.itemName.string=t.name,this.Type.string=t.type,this.Rarity.string=u.RarityToText(t.rarity),this.Dropfrom.string=t.dropFrom,this.Des.string=t.description;c.Instance.LoadMaterialSprite(i,(function(e){r.InfoIcon.node.active=!0,r.InfoIcon.spriteFrame=e}))}this.Box.active=!this.Box1.active,e.prototype.OnShow.call(this)}else y.Instance.ShowToast("Error","Material info not found",0,!0)},n.OnBtnCloseClick=function(){e.prototype.OnHide.call(this)},t}(f)).prototype,"Box",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(U.prototype,"Box1",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(U.prototype,"InfoIcon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(U.prototype,"itemName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(U.prototype,"Type",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(U.prototype,"Rarity",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(U.prototype,"Dropfrom",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(U.prototype,"Des",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=U))||R));n._RF.pop()}}}));

System.register("chunks:///_virtual/ChoppingHpLabel.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,t,r,n,a,l,o,p,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.UIOpacity,p=e.Label,c=e.Component}],execute:function(){var u,s,b,y,g,h,f;a._RF.push({},"324557K/GdAJagwHyDX79+t","ChoppingHpLabel",void 0);var L=l.ccclass,d=l.property;e("ChoppingHpLabel",(u=L("ChoppingHpLabel"),s=d(o),b=d(p),u((h=i((g=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a))||this,r(n(i),"uIOpacity",h,n(i)),r(n(i),"label",f,n(i)),i}return t(i,e),i}(c)).prototype,"uIOpacity",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=i(g.prototype,"label",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=g))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIScreenChoseLand.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./ConfigApi.ts","./UserModel.ts","./FarmingServicesApi.ts","./Filter.ts","./FarmPage.ts","./ChoseLandItem.ts","./UImanager.ts","./UIPopupManager.ts"],(function(e){"use strict";var t,a,i,n,r,s,o,l,h,c,u,f,g,d,m,L,p,F,v,P,b,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.defineProperty,n=e.assertThisInitialized,r=e.initializerDefineProperty},function(e){s=e.cclegacy,o=e._decorator,l=e.Node,h=e.ScrollView,c=e.Label,u=e.Prefab,f=e.instantiate,g=e.Component},function(e){d=e.ResourcesManager},function(e){m=e.ConfigApi},function(e){L=e.UserModel},function(e){p=e.FarmingServicesApi},function(e){F=e.Filter},function(e){v=e.FarmPage},function(e){P=e.ChoseLandItem},function(e){b=e.UImanager},function(e){I=e.UIPopupManager}],execute:function(){var C,S,y,A,N,_,w,M,O,G,T,z,U,D,J,R,E,k,q;s._RF.push({},"337b3bCmINLAYnuZRca4Yig","UIScreenChoseLand",void 0);var Y=o.ccclass,x=o.property;e("UIScreenChoseLand",(C=Y("UIScreenChoseLand"),S=x(l),y=x(v),A=x(l),N=x(h),_=x(F),w=x(l),M=x(c),O=x(u),C((z=t((T=function(e){function t(){for(var t,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(n(t),"ChoseLandItems",[]),r(n(t),"ContentParent",z,n(t)),r(n(t),"FarmPage",U,n(t)),r(n(t),"NoAsset",D,n(t)),r(n(t),"Content",J,n(t)),r(n(t),"filter",R,n(t)),r(n(t),"btnFilter",E,n(t)),r(n(t),"btnFilterLabel",k,n(t)),r(n(t),"ChoseLandItemPrefab",q,n(t)),i(n(t),"dataList",[]),t}a(t,e);var s=t.prototype;return s.Show=function(){var e=this;if(0==this.ChoseLandItems.length)for(var t=0;t<m.LIMIT_PAGE;t++){var a=f(this.ChoseLandItemPrefab);a.setParent(this.ContentParent),a.setScale(1,1,1),a.active=!1;var i=a.getComponent(P);this.ChoseLandItems.push(i)}this.FarmPage.toPage(0),this.RequestLoadChoseLands();this.filter.Init((function(){e.OnFilterSave()}),1)},s.OnFilterSave=function(){this.filter.totalFilter>0?this.btnFilterLabel.string="Filter "+this.filter.totalFilter:this.btnFilterLabel.string="Filter",this.FarmPage.toPage(0),this.LoadFarmsPage()},s.DisableAllItem=function(){for(var e=0;e<this.ChoseLandItems.length;e++)this.ChoseLandItems[e].node.active=!1},s.OnBackClick=function(){b.Instance.ShowScreenFarm()},s.OnFilterClick=function(){this.filter.Show(!1)},s.GotoPage=function(){this.LoadFarmsPage()},s.RequestLoadChoseLands=function(){var e=this;this.FarmPage.DisableControll(),this.btnFilter.active=!1;p.RequestChoseLands(this.FarmPage.currentPage,(function(t){e.btnFilter.active=!0;var a=JSON.parse(t);0==a.status?(e.dataList=e.GenerateData(a),e.LoadFarms()):I.Instance.ShowToast("Error",d.Instance.GetErrorMessage(a.status),0)}),(function(t){e.FarmPage.Init((function(){e.GotoPage()}),1,m.LIMIT_PAGE),e.btnFilter.active=!0}))},s.GenerateData=function(e){for(var t=[],a=JSON.parse(JSON.stringify(e.data)),i=0;i<a.farm.length;i++){var n=JSON.parse(JSON.stringify(a.farm[i]));t.push(n)}for(var r=0;r<a.availableSlots.length;r++)for(var s=JSON.parse(JSON.stringify(a.availableSlots[r])),o=s.totalAvailable,l=0;l<o;l++)t.push(s);return t},s.LoadFarms=function(){this.NoAsset.active=0==this.dataList.length,this.FarmPage.node.active=0!=this.dataList.length,this.FarmPage.currentPage>0&&0==this.dataList.length?(this.FarmPage.ChangePage(-1),this.RequestLoadChoseLands()):this.LoadFarmsPage()},s.LoadFarmsPage=function(){var e=this;this.Content.stopAutoScroll(),this.Content.scrollToLeft();var t=0,a=this.FilterData(),i=function(){e.GotoPage()};if(0==a.length){this.FarmPage.node.active=!1,this.NoAsset.active=!0;for(var n=t;n<this.ChoseLandItems.length;n++)this.ChoseLandItems[n].node.active=!1;this.FarmPage.Init(i,1,m.LIMIT_PAGE)}else{this.FarmPage.node.active=!0,this.NoAsset.active=!1;for(var r=this.FarmPage.currentPage*m.LIMIT_PAGE;r<(this.FarmPage.currentPage+1)*m.LIMIT_PAGE;r++)r<=a.length-1&&(this.CreateItem(t,a[r]),t++);for(var s=t;s<this.ChoseLandItems.length;s++)this.ChoseLandItems[s].node.active=!1;this.FarmPage.Init(i,a.length,m.LIMIT_PAGE)}},s.CreateItem=function(e,t){this.ChoseLandItems[e].node.active=!0,this.ChoseLandItems[e].Init(e,t)},s.FilterData=function(){var e=this.dataList.slice(0);if(""!=L.corXFilter_ChoseLand)for(var t=0;t<e.length;t++)e[t].land.x!=L.corXFilter_ChoseLand&&(e.splice(t,1),t--);if(""!=L.corYFilter_ChoseLand)for(var a=0;a<e.length;a++)e[a].land.y!=L.corYFilter_ChoseLand&&(e.splice(a,1),a--);if(L.isLandHasPotFilter_ChoseLand)for(var i=0;i<e.length;i++){var n=!1;if(null!=e[i].activeTools)for(var r=JSON.parse(JSON.stringify(e[i].activeTools)),s=0;s<r.length;s++)1==r[s].id&&r[s].count>=1&&(n=!0);0==n&&(e.splice(i,1),i--)}return e},t}(g)).prototype,"ContentParent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(T.prototype,"FarmPage",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(T.prototype,"NoAsset",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(T.prototype,"Content",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(T.prototype,"filter",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(T.prototype,"btnFilter",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(T.prototype,"btnFilterLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(T.prototype,"ChoseLandItemPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=T))||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/ItemShopTool.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,r,o,a,l,s,u,p,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty},function(t){a=t.cclegacy,l=t._decorator,s=t.Sprite,u=t.Label,p=t.CCInteger,c=t.Component}],execute:function(){var h,d,b,g,y,f,m,v,z,B,I,S,w,L,C,D,T;a._RF.push({},"350203GaZNKNp36DNceD6Vn","ItemShopTool",void 0);var _=l.ccclass,F=l.property;t("ItemShopTool",(h=_("ItemShopTool"),d=F(s),b=F(u),g=F(u),y=F(u),f=F(u),m=F(u),v=F({type:p}),h((I=e((B=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,n(r(e),"icon",I,r(e)),n(r(e),"nameLable",S,r(e)),n(r(e),"duration",w,r(e)),n(r(e),"usage",L,r(e)),n(r(e),"des",C,r(e)),n(r(e),"cost",D,r(e)),n(r(e),"typeShop",T,r(e)),o(r(e),"data",void 0),o(r(e),"onBtnBuy",(function(t,e,i){})),e}i(e,t);var a=e.prototype;return a.Init=function(t,e){void 0===e&&(e=function(t,e,i){}),this.data=t,this.onBtnBuy=e,this.nameLable.string=t.name.toUpperCase(),this.des.string=t.description,this.usage.string=t.usages,this.cost.string=t.price+" LE",1==parseInt(t.duration)?this.duration.string=t.duration+" day":parseInt(t.duration)>1?this.duration.string=t.duration+" days":this.duration.string="-",this.des.string=this.des.string.replace(/\n/g," ")},a.OnBtnBuyClick=function(){this.onBtnBuy(this.data,this.icon.spriteFrame,this.typeShop)},e}(c)).prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(B.prototype,"nameLable",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(B.prototype,"duration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(B.prototype,"usage",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(B.prototype,"des",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(B.prototype,"cost",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(B.prototype,"typeShop",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=B))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayAnim.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(t){"use strict";var i,n,e,r,a,o,l,c,s,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.Animation,c=t.Node,s=t.Component},function(t){u=t.Utility}],execute:function(){var p,y,f,h,m,P,b;a._RF.push({},"360bbonRAhD065todu/+1Cc","PlayAnim",void 0);var v=o.ccclass,d=o.property;t("PlayAnim",(p=v("PlayAnim"),y=d(l),f=d(c),p((P=i((m=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=t.call.apply(t,[this].concat(a))||this,e(r(i),"animation",P,r(i)),e(r(i),"particles",b,r(i)),i}n(i,t);var a=i.prototype;return a.onPlay=function(){this.animation.play()},a.onPlayPar=function(){for(var t=0;t<this.particles.length;t++)u.PlayParticle(this.particles[t])},i}(s)).prototype,"animation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=i(m.prototype,"particles",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=m))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/ExpeditionServiceApi.ts",["cc","./ConfigApi.ts","./ResHttp.ts"],(function(e){"use strict";var t,n,u,s;return{setters:[function(e){t=e.cclegacy,n=e._decorator},function(e){u=e.ConfigApi},function(e){s=e.ResHttp}],execute:function(){var _;t._RF.push({},"387fcBOKohFsasX0QaVvp7h","ExpeditionServiceApi",void 0);var E=n.ccclass;n.property,e("ExpeditionServiceApi",E("ExpeditionServiceApi")(_=function(){function e(){}return e.RequestLoadCage=function(e){var t=u.API_FARM_3+u.EX_EXPEDITION;s.GetRequest(t,{},e,null)},e.RequestLoadUndeadFood=function(e){var t=u.API_FARM_3+u.INVENTORY;s.GetRequest(t,{},e,null,!1)},e.RequestLoadExEgg=function(e){var t=u.API_FARM_3+u.EX_UNDEAD_EGG;s.GetRequest(t,{statuses:"hatched"},e,null)},e.RequestLoadUndead=function(e){var t=u.API_FARM_3+u.EX_UNDEAD;s.GetRequest(t,{statuses:"3"},e,null)},e.RequestLoadUndeadAll=function(e){var t=u.API_FARM_3+u.EX_UNDEAD;s.GetRequest(t,{statuses:"0,1,2"},e,null)},e.RequestGetLE2PVU_Rate=function(e){var t=u.API_FARM_3+u.EX_LE_PVU_RATE;s.PostRequest(t,{},e,null)},e.RequestDepartUndead=function(e,t,n){var _=u.API_FARM_3+u.EX_EXPEDITIONS;s.PostRequest(_,{undeadId:e,estCheckMark:t},n,null)},e.RequestGetMaxExTime=function(e,t){var n=u.API_FARM_3+u.EX_UNDEAD+"/"+e+u.EX_GET_MAX_EX_TIME;s.GetRequest(n,{},t,null)},e.RequestRecallUndead=function(e,t){var n=u.API_FARM_3+u.EX_EXPEDITIONS+"/"+e+u.EX_RECALL;console.log("recall url",n),s.PostRequest(n,{},t,null)},e.RequestCreateUndeadWithEgg=function(e,t,n){var _=u.API_FARM_3+u.EX_UNDEAD;s.PostRequest(_,{eggId:e,cageId:t},n,null)},e.RequestAssignUndeadToCage=function(e,t,n){var _=u.API_FARM_3+u.EX_CAGES+"/"+t+u.EX_ASSIGN_UNDEAD;s.PostRequest(_,{undeadId:e,cageId:t},n,null)},e.RequestFeedUndead=function(e,t,n){var _=u.API_FARM_3+u.EX_UNDEAD+"/"+e+"/"+u.EX_FEED;s.PostRequest(_,{fishName:t},n,null)},e.RequestClaimExpedition=function(e,t){var n=u.API_FARM_3+u.EX_EXPEDITIONS+"/"+e+u.EX_CLAIM_ITEMS;console.log("RequestClaimExpedition url",n),s.PostRequest(n,{},t,null)},e.RequestClaimEgg=function(e,t){var n=u.API_FARM_3+u.EX_CAGES+"/"+e+u.EX_CLAIM_EGG;console.log("RequestClaimEgg url",n),s.PostRequest(n,{},t,null)},e.RequestUnAssignUndead=function(e,t){var n=u.API_FARM_3+u.EX_CAGES+"/"+e+u.EX_UN_ASSIGN_UNDEAD;console.log("RequestUnAssignUndead url",n),s.PostRequest(n,{},t,null)},e.RequestGetRegenData=function(e,t){var n=u.API_FARM_3+u.EX_UNDEAD+"/"+e+u.EX_GET_REGEN_DATA;console.log("RequestGetRegenData url",n),s.GetRequest(n,{},t,null)},e.RequestRegenFatigue=function(e,t){var n=u.API_FARM_3+u.EX_UNDEAD+"/"+e+u.EX_REGEN;console.log("RequestRegenFatigue url",n),s.PostRequest(n,{},t,null)},e}())||_);t._RF.pop()}}}));

System.register("chunks:///_virtual/RoutesItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UIPopupManager.ts"],(function(e){"use strict";var t,i,s,a,n,o,r,c,h,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,a=e.assertThisInitialized,n=e.defineProperty},function(e){o=e.cclegacy,r=e._decorator,c=e.Sprite,h=e.Node,l=e.Component},function(e){p=e.UIPopupManager}],execute:function(){var u,d,y,f,g,v,b,I,_;o._RF.push({},"3dcdeL4f69LqKXqkt8rsKrg","RoutesItem",void 0);var P=r.ccclass,m=r.property;e("RoutesItem",(u=P("RoutesItem"),d=m(c),y=m(c),f=m(h),u((b=t((v=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,s(a(t),"Base",b,a(t)),s(a(t),"Icon",I,a(t)),s(a(t),"Star",_,a(t)),n(a(t),"_GatheringRoutesMap",void 0),n(a(t),"json",void 0),n(a(t),"_i",void 0),n(a(t),"_j",void 0),n(a(t),"isPassed",void 0),n(a(t),"type",void 0),n(a(t),"isPlayable",!1),n(a(t),"isPass",!1),n(a(t),"accessAble",!1),t}i(t,e);var o=t.prototype;return o.Init=function(e,t,i,s,a,n,o){this.json=e,this._GatheringRoutesMap=t,this._i=i,this._j=s,this.isPassed=a,this.accessAble=o,this.node.active=!0,this.node.setPosition(305+i*n,215*(1-s),0),null!=e.nodeType?this.type=e.nodeType:this.type=5;var r=e.mapSize;null==r&&(r=0);for(var c=0;c<this.Star.length;c++)this.Star[c].active=c<=r},o.setisPlayAble=function(e){this.isPlayable=e,this.isPassed||e?this.Icon.spriteFrame=this._GatheringRoutesMap.NoteIconActive[this.type]:this.Icon.spriteFrame=this._GatheringRoutesMap.NoteIcon[this.type],this.type<3?this.Base.spriteFrame=this._GatheringRoutesMap.BaseRound[this.isPassed||e?1:0]:this.Base.spriteFrame=this._GatheringRoutesMap.BaseRectangle[this.isPassed||e?1:0]},o.OnClick=function(){this.isPlayable?this._GatheringRoutesMap.OnBtnMiniGameClick(this.type,this._j):this.accessAble?p.Instance.ShowToast("Error","You have already passed this node!",0):p.Instance.ShowToast("Info","Cannot be accessed!",2)},t}(l)).prototype,"Base",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(v.prototype,"Icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(v.prototype,"Star",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=v))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/ParticlePlayHelper.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(e){"use strict";var t,i,l,r,a,n,c,o,p,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,l=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,c=e.ParticleSystem,o=e.CCBoolean,p=e.Component},function(e){s=e.Utility}],execute:function(){var u,y,h,f,b,P,g;a._RF.push({},"4026bc2gHlCz6c6pJFsh8Jj","ParticlePlayHelper",void 0);var m=n.ccclass,v=n.property;e("ParticlePlayHelper",(u=m("ParticlePlayHelper"),y=v(c),h=v(o),u((P=t((b=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,l(r(t),"particle",P,r(t)),l(r(t),"playOnEnable",g,r(t)),t}return i(t,e),t.prototype.onEnable=function(){this.playOnEnable&&(null==this.particle&&(this.particle=this.getComponent(c)),null!=this.particle&&(console.log("play particle",s.GetTimeNow()),this.particle.stop(),this.particle.clear(),this.particle.play()))},t}(p)).prototype,"particle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(b.prototype,"playOnEnable",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f=b))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/DropDown.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,o,i,l,c,a,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,c=e.Label,a=e.Toggle,u=e.Node,s=e.Component}],execute:function(){var p,g,h,f,C,D,b,m,y;i._RF.push({},"4085eDzZjhAR6WzE8W/HEsX","DropDown",void 0);var v=l.ccclass,d=l.property;e("DropDown",(p=v("DropDown"),g=d(c),h=d(a),f=d(u),p((b=t((D=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,r(o(t),"CurrentItem",b,o(t)),r(o(t),"CurrentToggle",m,o(t)),r(o(t),"content",y,o(t)),t}n(t,e);var i=t.prototype;return i.onLoad=function(){this.CurrentItem.string=this.CurrentToggle.node.name},i.OnBtnOpenClick=function(){this.content.active=!this.content.active},i.OnToggleCheck=function(e){this.CurrentToggle=e,this.CurrentItem.string=this.CurrentToggle.node.name,this.content.active=!1},t}(s)).prototype,"CurrentItem",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(D.prototype,"CurrentToggle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(D.prototype,"content",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=D))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/ResHttp.ts",["cc","./UserModel.ts","./UIPopupManager.ts"],(function(e){"use strict";var t,n,s,o;return{setters:[function(e){t=e.cclegacy},function(e){n=e.UserModel},function(e){s=e.UIPopupManager,o=e.LoadingType}],execute:function(){var a,r;e("ResHttp",void 0),t._RF.push({},"42e41DnM2BAYbq25esqpglK","ResHttp",void 0),(r=a||(a=e("ResHttp",{}))).PostRequestRefreshToken=function(e,t,n,o,a){void 0===a&&(a=!0),a&&s.Instance.Loading(!0);var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState)if(r.status>=200&&r.status<400){var t=r.responseText;console.log("PostRequestRefreshToken : ",e," --- ",t),a&&s.Instance.Loading(!1),n&&n(t)}else o&&o(r.responseText),a&&s.Instance.Loading(!1),""==r.responseText?s.Instance.ShowToast("Error","ERR_INTERNET_DISCONNECTED",0):s.Instance.ShowToast("Error","#"+r.status+": Something wrong",0)},r.open("POST",e),r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.setRequestHeader("Accept","application/json"),r.setRequestHeader("x-u-a-check","Android-Unity-Farm"),null==t&&(t={}),r.send(JSON.stringify(t))},r.PostRequest=function(e,t,a,r,i,c){void 0===i&&(i=!0),void 0===c&&(c=o.normal),i&&s.Instance.Loading(!0,c);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(4==u.readyState)if(u.status>=200&&u.status<400){var n=u.responseText;console.log("PostRequest : ",e,null==t?"":JSON.stringify(t)," --- ",n),i&&s.Instance.Loading(!1),a&&a(n)}else r&&r(u.responseText),i&&s.Instance.Loading(!1),""==u.responseText?s.Instance.ShowToast("Error","ERR_INTERNET_DISCONNECTED",0):s.Instance.ShowToast("Error","#"+u.status+": Something wrong",0)},u.open("POST",e),u.setRequestHeader("Content-Type","application/json;charset=UTF-8"),u.setRequestHeader("Accept","application/json"),u.setRequestHeader("x-u-a-check","Android-Unity-Farm"),""!=n.Token&&u.setRequestHeader("authorization","Bearer Token: "+n.Token),null==t&&(t={}),u.send(JSON.stringify(t))},r.GetRequest=function(e,t,a,r,i,c){void 0===i&&(i=!0),void 0===c&&(c=o.normal),i&&s.Instance.Loading(!0,c);var u=e;if(null!=t&&Object.keys(t).length>0){for(var p in u+="?",t)u+=p+"="+t[p]+"&";u=u.substring(0,u.length-1)}var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4==d.readyState)if(d.status>=200&&d.status<400){var e=d.responseText;console.log("GetRequest : ",u," --- ",e),i&&s.Instance.Loading(!1),a&&a(e)}else i&&s.Instance.Loading(!1),r&&r(d.responseText),""==d.responseText?s.Instance.ShowToast("Error","ERR_INTERNET_DISCONNECTED",0):s.Instance.ShowToast("Error","#"+d.status+": Something wrong",0)},d.open("GET",u),d.setRequestHeader("Content-Type","application/json;charset=UTF-8"),d.setRequestHeader("Accept","application/json"),d.setRequestHeader("x-u-a-check","Android-Unity-Farm"),""!=n.Token&&d.setRequestHeader("authorization","Bearer Token: "+n.Token),d.send()},t._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupMaterialWarning.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(t){"use strict";var i,n,e,o,r,a,l,p,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty},function(t){a=t.cclegacy,l=t._decorator,p=t.Label},function(t){c=t.PopUpBase}],execute:function(){var s,u,f,h,y,g,O;a._RF.push({},"44ae0COCZ5F3IOKW1nmDQqS","UIPopupMaterialWarning",void 0);var d=l.ccclass,v=l.property;t("UIPopupMaterialWarning",(s=d("UIPopupMaterialWarning"),u=v(p),f=v(p),s((g=i((y=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return i=t.call.apply(t,[this].concat(a))||this,e(o(i),"txtNotify",g,o(i)),e(o(i),"txtAmount",O,o(i)),r(o(i),"onOk",void 0),i}n(i,t);var a=i.prototype;return a.Show=function(i,n,e){t.prototype.OnShow.call(this),this.onOk=e,this.txtNotify.string=n,this.txtAmount.node.active=-1!=i,this.txtAmount.string=i.toString()},a.OnBtnCloseClick=function(){t.prototype.OnHide.call(this)},a.OnBtnOkClick=function(){t.prototype.OnHide.call(this),this.onOk()},i}(c)).prototype,"txtNotify",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(y.prototype,"txtAmount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupOpenEgg.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./PopUpBase.ts","./ExpeditionItem.ts"],(function(e){"use strict";var t,i,n,a,o,l,r,g,s,p,c,u,d,h,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.defineProperty,a=e.assertThisInitialized,o=e.initializerDefineProperty},function(e){l=e.cclegacy,r=e._decorator,g=e.Node,s=e.sp,p=e.Sprite,c=e.tween,u=e.Vec3},function(e){d=e.ResourcesManager},function(e){h=e.PopUpBase},function(e){b=e.UndeadAnimName}],execute:function(){var f,m,v,y,S,E,U,w,O,k,B,A,N,_,z,P,D,I,R,T,L;l._RF.push({},"45fafJvNHVJspTNZ9Y2X4bT","UIPopupOpenEgg",void 0);var G=r.ccclass,C=r.property;e("UIPopupOpenEgg",(f=G("UIPopupOpenEgg"),m=C(g),v=C(s.Skeleton),y=C(p),S=C(g),E=C(s.Skeleton),U=C(g),w=C(g),O=C(g),k=C(p),f((N=t((A=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,n(a(t),"callback",void 0),o(a(t),"eggToUndead",N,a(t)),o(a(t),"eggAnim",_,a(t)),o(a(t),"sptUndead",z,a(t)),o(a(t),"btnOk",P,a(t)),o(a(t),"undeadSpine",D,a(t)),o(a(t),"eggBagRoot",I,a(t)),o(a(t),"eggBag",R,a(t)),o(a(t),"eggNode",T,a(t)),o(a(t),"sptEgg",L,a(t)),t}i(t,e);var l=t.prototype;return l.onLoad=function(){this.eggAnim.setCompleteListener(this.CompleteListener.bind(this))},l.CompleteListener=function(e){this.undeadSpine.node.active=!0,c(this.undeadSpine.node).to(1,{scale:new u(3,3,3)}).call(function(){this.btnOk.active=!0}.bind(this)).start()},l.OpenEggToUndead=function(t,i,n){this.callback=n,console.log("OpenEggToUndead",t),e.prototype.OnShow.call(this),this.btnOk.active=!1,this.eggToUndead.active=!0,this.eggBagRoot.active=!1,this.undeadSpine.node.active=!1;var a="egg_"+i.rarity;this.undeadSpine.node.setScale(0,0,0),this.undeadSpine.skeletonData=d.Instance.GetUndeadSkeleton(t.data.code.toLowerCase()),this.undeadSpine.setBonesToSetupPose(),this.undeadSpine.setAnimation(0,b.Idle,!0),this.eggAnim.setSkin(a),this.eggAnim.setAnimation(0,"animation",!1)},l.OpenEggBag=function(t,i){this.callback=i;var n=1;t.data.length>0&&(n=t.data[0].rarity);d.Instance.LoadMaterialSprite({1:"COMMON_UNDEAD_EGG",2:"RARE_UNDEAD_EGG",3:"EPIC_UNDEAD_EGG"}[n.toString()],function(e){this.sptEgg.spriteFrame=e}.bind(this)),this.eggToUndead.active=!1,this.eggBagRoot.active=!0,this.eggNode.active=!1,this.eggBag.active=!0,e.prototype.OnShow.call(this),c(this.eggBag).to(.5,{scale:new u(1.2,1.2,0)}).to(.5,{scale:new u(.9,.9,0)}).to(.3,{scale:new u(1,1,0)}).call(function(){this.eggNode.active=!0,this.eggBag.active=!1}.bind(this)).start()},l.hide=function(){e.prototype.OnHide.call(this),null!=this.callback&&this.callback()},t}(h)).prototype,"eggToUndead",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(A.prototype,"eggAnim",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(A.prototype,"sptUndead",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(A.prototype,"btnOk",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(A.prototype,"undeadSpine",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(A.prototype,"eggBagRoot",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(A.prototype,"eggBag",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(A.prototype,"eggNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(A.prototype,"sptEgg",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=A))||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/SimplePool.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,o,i,l,r,s,a,c,u;return{setters:[function(e){n=e.defineProperty,t=e.inheritsLoose,o=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,r=e.Node,s=e.game,a=e.NodePool,c=e.instantiate,u=e.Component}],execute:function(){var p,d,h;i._RF.push({},"463d3uUdcRGo4vZnCigeElx","SimplePool",void 0);var f=l.ccclass;l.property,e("SimplePool",f("SimplePool")((h=d=function(e){function i(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,n(o(t),"pool",new Map),t}return t(i,e),i.Instance=function(){return null==this._instance&&(this._instance=new r("SimplePool").addComponent(i),s.addPersistRootNode(this._instance.node)),this._instance},i.get=function(e,n,t){var o=this.Instance(),i=null,l=null;return 1==o.pool.has(n)?i=o.pool.get(n):(i=new a,o.pool.set(n,i)),i.size()>0?l=i.get():(l=c(n),console.log("create new",n.name),l.release=function(){i.put(l)}),l.parent=t,l.getComponent(e)},i.releaseAll=function(e){for(var n=e.children.length-1;n>=0;n--)e.children[n].release()},i}(u),n(d,"_instance",void 0),p=h))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/PopUpBase.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./SoundController.ts"],(function(t){"use strict";var e,i,o,a,n,c,r,l,s,p,u,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,c=t._decorator,r=t.Node,l=t.UIOpacity,s=t.tween,p=t.v3,u=t.Component},function(t){d=t.SoundController,f=t.EnumSound}],execute:function(){var y,h,v,S,U,O,I;n._RF.push({},"47323uU4LdP+IOU3dOf1HDR","PopUpBase",void 0);var g=c.ccclass,N=c.property;t("PopUpBase",(y=g("PopUpBase"),h=N(r),v=N(l),y((O=e((U=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n))||this,o(a(e),"ScaleNode",O,a(e)),o(a(e),"fadeUIOpacity",I,a(e)),e}i(e,t);var n=e.prototype;return n.OnShow=function(t){void 0===t&&(t=function(){}),this.node.active=!0,null!=this.ScaleNode&&null!=this.fadeUIOpacity&&(this.ScaleNode.setScale(.5,.5,.5),this.fadeUIOpacity.opacity=0,s(this.fadeUIOpacity).to(.2,{opacity:255}).start(),s(this.ScaleNode).to(.3,{scale:p(1,1,1)},{easing:"circOut"}).call((function(){t()})).start())},n.OnHide=function(t,e){var i=this;void 0===t&&(t=function(){}),void 0===e&&(e=!0),d.Instance&&e&&d.Instance.PlaySound(f.GameUI_closepopup),null!=this.ScaleNode?(s(this.fadeUIOpacity).to(.2,{opacity:0}).start(),s(this.ScaleNode).to(.3,{scale:p(.5,.5,.5)},{easing:"circOut"}).call((function(){i.node.active=!1,t()})).start()):(this.node.active=!1,t())},e}(u)).prototype,"ScaleNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(U.prototype,"fadeUIOpacity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=U))||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIThanks.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(t){"use strict";var n,o,e,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){r=t.PopUpBase}],execute:function(){var s;o._RF.push({},"498f7YMr3ZJjqDYXtDt7tX0","UIThanks",void 0);var c=e.ccclass;e.property,t("UIThanks",c("UIThanks")(s=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.Show=function(){t.prototype.OnShow.call(this)},e.Hide=function(){t.prototype.OnHide.call(this)},o}(r))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/TreasureAssetsOpenFX.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./TreasureOpenItem.ts"],(function(e){"use strict";var t,i,n,r,a,o,s,l,c,p,u,m,h,d,f,I,b,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.defineProperty},function(e){o=e.cclegacy,s=e._decorator,l=e.UIOpacity,c=e.Node,p=e.sp,u=e.Prefab,m=e.UITransform,h=e.ScrollView,d=e.tween,f=e.v3,I=e.instantiate,b=e.Component},function(e){S=e.TreasureOpenItem}],execute:function(){var T,v,g,O,y,C,w,B,U,z,P,A,N,R,_,x,F,D,E,L,j,k,V;o._RF.push({},"4a964FdQRlJvYl2PAcZs5Rl","TreasureAssetsOpenFX",void 0);var X=s.ccclass,G=s.property;e("TreasureAssetsOpenFX",(T=X("TreasureAssetsOpenFX"),v=G(l),g=G(c),O=G(l),y=G(p.Skeleton),C=G(u),w=G(c),B=G(m),U=G(h),z=G(c),P=G(m),T((R=t((N=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(r(t),"fadeUIOpacity",R,r(t)),n(r(t),"ScaleNodeItem",_,r(t)),n(r(t),"fadeUIOpacityItem",x,r(t)),n(r(t),"openTreasureSpine",F,r(t)),n(r(t),"TreasureOpenItemPrefab",D,r(t)),n(r(t),"BoxBig",E,r(t)),n(r(t),"ContentBig",L,r(t)),n(r(t),"ContentBigScrollView",j,r(t)),n(r(t),"BoxSmall",k,r(t)),n(r(t),"ContentSmall",V,r(t)),a(r(t),"TreasureOpenItems",[]),a(r(t),"json",void 0),a(r(t),"isCanClose",!1),a(r(t),"CompleteListener",(function(e){t.openTreasureSpine.node.active=!1,t.ScaleNodeItem.active=!0,t.ScaleNodeItem.setScale(.5,.5,.5),d(t.ScaleNodeItem).to(.3,{scale:f(1,1,1)},{easing:"circOut"}).call(function(){this.isCanClose=!0,this.InitItem(this.json)}.bind(r(t))).start()})),t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.openTreasureSpine.setCompleteListener(this.CompleteListener)},o.Show=function(e,t){var i=this;this.json=e,this.ScaleNodeItem.active=!1,this.isCanClose=!1,this.node.active=!0,this.openTreasureSpine.node.active=!1,this.fadeUIOpacity.opacity=0,this.DisableAllTreasureOpenItems(),this.BoxSmall.active=e.data.rewards.length<=4,this.BoxBig.active=!this.BoxSmall.active,d(this.fadeUIOpacity).to(.2,{opacity:255}).call((function(){i.openTreasureSpine.node.active=!0;var e="reward_1";"BURRIED_TREASURE"==t?e="reward_2":"SUNKEN_TREASURE"==t&&(e="reward_3"),i.openTreasureSpine.setSkin(e),i.openTreasureSpine.setAnimation(0,"open",!0)})).start()},o.OnCloseClick=function(){var e=this;this.isCanClose&&(this.isCanClose=!1,d(this.fadeUIOpacity).to(.2,{opacity:0}).start(),d(this.ScaleNodeItem).to(.3,{scale:f(.5,.5,.5)},{easing:"circOut"}).call((function(){e.node.active=!1})).start())},o.InitItem=function(e){var t=e.data.rewards.length;if(t<=4)for(var i=0;i<t;i++){var n=this.GetTreasureOpenItem(i);n.node.setParent(this.ContentSmall.node),n.node.setPosition(0,0,0),n.Init(e.data.rewards[i])}else{this.ContentBigScrollView.scrollToTop();for(var r=0;r<t;r++){var a=this.GetTreasureOpenItem(r);a.node.setParent(this.ContentBig.node),a.node.setPosition(0,0,0),a.Init(e.data.rewards[r])}var o=164*Math.ceil(t/4)+52;o<450&&(o=450),this.ContentBig.height=o}},o.DisableAllTreasureOpenItems=function(){for(var e=0;e<this.TreasureOpenItems.length;e++)this.TreasureOpenItems[e].node.active=!1},o.GetTreasureOpenItem=function(e){var t;e<this.TreasureOpenItems.length?t=this.TreasureOpenItems[e]:(t=I(this.TreasureOpenItemPrefab).getComponent(S),this.TreasureOpenItems.push(t));return t.node.active=!0,t},t}(b)).prototype,"fadeUIOpacity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(N.prototype,"ScaleNodeItem",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(N.prototype,"fadeUIOpacityItem",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(N.prototype,"openTreasureSpine",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(N.prototype,"TreasureOpenItemPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(N.prototype,"BoxBig",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(N.prototype,"ContentBig",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(N.prototype,"ContentBigScrollView",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(N.prototype,"BoxSmall",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(N.prototype,"ContentSmall",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=N))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/ExpeditionConfig.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var e,n,o;return{setters:[function(i){e=i.defineProperty},function(i){n=i.cclegacy,o=i._decorator}],execute:function(){var t,r,c;n._RF.push({},"4add94qilVHA6rDuzsx2xsS","ExpeditionConfig",void 0);var s=o.ccclass;o.property,i("ExpeditionConfig",s("ExpeditionConfig")((c=r=function(){},e(r,"EST_CHECK_MARK",4),t=c))||t);n._RF.pop()}}}));

System.register("chunks:///_virtual/TreasureAssetsItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,r,o,s,u,a,c,l,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty,s=t.createClass},function(t){u=t.cclegacy,a=t._decorator,c=t.Label,l=t.Sprite,p=t.Node,h=t.Component}],execute:function(){var m,y,f,O,b,_,d,g,v,B,I;u._RF.push({},"4fd2eRUsd9MlYUYyDmVvu4x","TreasureAssetsItem",void 0);var A=a.ccclass,C=a.property;t("TreasureAssetsItem",(m=A("TreasureAssetsItem"),y=C(c),f=C(l),O=C(p),b=C(p),m((g=e((d=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];return e=t.call.apply(t,[this].concat(s))||this,i(r(e),"amount",g,r(e)),i(r(e),"Icon",v,r(e)),i(r(e),"BtnOpen",B,r(e)),i(r(e),"BtnOpen5",I,r(e)),o(r(e),"type",void 0),o(r(e),"_amount",0),o(r(e),"_onOpenClick",void 0),o(r(e),"currentKey",0),e}n(e,t);var u=e.prototype;return u.Init=function(t,e,n,i){this.currentKey=i,this.type=n,this._onOpenClick=e,this.itemAmount=t},u.SetCurrentKey=function(t){this.currentKey=t,this.itemAmount=this._amount},u.OnOpenClick=function(){this.OpenBox(1)},u.OnOpen5Click=function(){this.OpenBox(5)},u.OpenBox=function(t){this._onOpenClick(this.Icon.spriteFrame,this.type,t,function(t){this._amount-=t}.bind(this))},s(e,[{key:"itemAmount",get:function(){return this._amount},set:function(t){this._amount=t,this.amount.string=this._amount.toString(),this.BtnOpen.active=t>=1&&this.currentKey>=1,this.Icon.grayscale=t<1,this.BtnOpen5.active=t>=5&&this.currentKey>=5}}]),e}(h)).prototype,"amount",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(d.prototype,"Icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(d.prototype,"BtnOpen",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(d.prototype,"BtnOpen5",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=d))||_));u._RF.pop()}}}));

System.register("chunks:///_virtual/PopupConvertSapling.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./FarmingServicesApi.ts","./PopUpBase.ts","./UImanager.ts","./UIPopupManager.ts"],(function(t){"use strict";var n,e,i,r,o,a,s,u,l,p,c,g,f,h,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty},function(t){a=t.cclegacy,s=t._decorator,u=t.Sprite,l=t.Label,p=t.EditBox},function(t){c=t.ResourcesManager},function(t){g=t.FarmingServicesApi},function(t){f=t.PopUpBase},function(t){h=t.UImanager},function(t){d=t.UIPopupManager}],execute:function(){var m,S,w,y,v,I,b,P,M,C,U,x,B;a._RF.push({},"505c8Ppfq1DybOMKDCEN2Hf","PopupConvertSapling",void 0);var _=s.ccclass,z=s.property;t("PopupConvertSapling",(m=_("PopupConvertSapling"),S=z(u),w=z(u),y=z(l),v=z(p),I=z(l),m((M=n((P=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,i(r(n),"icon",M,r(n)),i(r(n),"icon1",C,r(n)),i(r(n),"des",U,r(n)),i(r(n),"amount",x,r(n)),i(r(n),"powder",B,r(n)),o(r(n),"sunflowerId",void 0),o(r(n),"max",void 0),n}e(n,t);var a=n.prototype;return a.Show=function(n,e,i,r){var o=this;t.prototype.OnShow.call(this),this.max=e,this.sunflowerId=n;var a=function(t){o.icon.spriteFrame=t,o.icon1.spriteFrame=t};1==i?(c.Instance.LoadPlant("sapling_"+r,a),this.des.string="1 Sunflower Sapling = 1 Mysterious Powder"):(c.Instance.LoadPlant("mama_"+r,a),this.des.string="1 Sunflower Mama = 5 Mysterious Powder"),this.amount.string="1",this.UpdateQuantity()},a.UpdateQuantity=function(){var t=1;""==this.amount.string?t=1:((t=parseInt(this.amount.string))>this.max&&(t=this.max),t<1&&(t=1)),this.amount.string=t.toString(),1==this.sunflowerId?this.powder.string=(1*t).toString():this.powder.string=(5*t).toString()},a.OnBtnConvert=function(){var t=this,n=parseInt(this.amount.string);if(n<=0)d.Instance.ShowToast("Error","Quantity is at least one",0);else if(n>25)d.Instance.ShowToast("Error","You can only convert a maximum of 25 Sapling/Mama at a time",0);else{g.RequestSwapSunflower(this.sunflowerId.toString(),n.toString(),(function(n){var e=JSON.parse(n);0==e.status?(d.Instance.ShowToast("Congratulation","Swap Sunflower Success!",1),h.Instance._UIScreenAssets.RequestLoadApply(),t.OnBtnClose()):d.Instance.ShowToast("Error",c.Instance.GetErrorMessage(e.status),0)}),(function(t){}))}},a.OnBtnClose=function(){t.prototype.OnHide.call(this)},a.onEditBoxChange=function(){this.UpdateQuantity()},n}(f)).prototype,"icon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(P.prototype,"icon1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=n(P.prototype,"des",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(P.prototype,"amount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(P.prototype,"powder",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=P))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIToast.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,o,n,s,r,l,u,a,c,p,h,v,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,s=e.defineProperty},function(e){r=e.cclegacy,l=e._decorator,u=e.Label,a=e.Sprite,c=e.SpriteFrame,p=e.Node,h=e.Vec3,v=e.tween,w=e.Component}],execute:function(){var f,b,I,m,M,d,T,g,y,O,x,C,z,B,N,S,D;r._RF.push({},"50b62ihIp9P+rV9JIo/K0Kp","UIToast",void 0);var P=l.ccclass,_=l.property;e("UIToast",(f=P("UIToast"),b=_(u),I=_(u),m=_(a),M=_(c),d=_(c),T=_(c),g=_(p),f((x=t((O=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(n(t),"txtTitle",x,n(t)),o(n(t),"txtDes",C,n(t)),o(n(t),"imgIcon",z,n(t)),o(n(t),"spriteError",B,n(t)),o(n(t),"spriteInfo",N,n(t)),o(n(t),"spriteSuccess",S,n(t)),o(n(t),"BoxNode",D,n(t)),s(n(t),"autoCloseTimeOut",void 0),s(n(t),"tweenMoveIn",void 0),s(n(t),"tweenMoveOut",void 0),t}i(t,e);var r=t.prototype;return r.Show=function(e,t,i,o){var n=this;this.node.active=!0,this.txtDes.string=t,this.txtTitle.string=e,o?this.MoveIn():this.BoxNode.setPosition(new h(0,-46,0)),this.imgIcon.spriteFrame=0==i?this.spriteError:1==i?this.spriteSuccess:this.spriteInfo,clearTimeout(this.autoCloseTimeOut);this.autoCloseTimeOut=setTimeout((function(){n.Close()}),5e3)},r.MoveIn=function(){null!=this.tweenMoveIn&&this.tweenMoveIn.stop(),null!=this.tweenMoveOut&&this.tweenMoveOut.stop(),this.BoxNode.setPosition(new h(1e3,-46,0)),this.tweenMoveIn=v(this.BoxNode).to(.2,{position:new h(0,-46,0)}),this.tweenMoveIn.start()},r.OnBtnCloseClick=function(){clearTimeout(this.autoCloseTimeOut),this.Close()},r.Close=function(){var e=this;null!=this.tweenMoveIn&&this.tweenMoveIn.stop(),null!=this.tweenMoveOut&&this.tweenMoveOut.stop(),this.tweenMoveOut=v(this.BoxNode).to(.2,{position:new h(1e3,-46,0)}).call((function(){e.node.active=!1})),this.tweenMoveOut.start()},r.HideToast=function(){clearTimeout(this.autoCloseTimeOut),null!=this.tweenMoveIn&&this.tweenMoveIn.stop(),null!=this.tweenMoveOut&&this.tweenMoveOut.stop(),this.node.active=!1},t}(w)).prototype,"txtTitle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(O.prototype,"txtDes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(O.prototype,"imgIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(O.prototype,"spriteError",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(O.prototype,"spriteInfo",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(O.prototype,"spriteSuccess",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(O.prototype,"BoxNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=O))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Filter.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./SoundController.ts"],(function(t){"use strict";var e,i,r,l,n,o,a,s,g,h,c,u,p,d,y,T,F,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,l=t.assertThisInitialized,n=t.defineProperty},function(t){o=t.cclegacy,a=t._decorator,s=t.CCInteger,g=t.Toggle,h=t.EditBox,c=t.Node,u=t.UITransform,p=t.Widget,d=t.UIOpacity,y=t.tween,T=t.Component},function(t){F=t.UserModel},function(t){f=t.SoundController,m=t.EnumSound}],execute:function(){var b,C,v,I,P,B,k,x,E,R,w,S,O,U,z,_,D,W,L,X,Y,M,H,N,j;o._RF.push({},"5ad243DjgRPV5i4pRR7MwBB","Filter",void 0);var A=a.ccclass,G=a.property;t("Filter",(b=A("Filter"),C=G({type:s}),v=G(g),I=G(g),P=G(h),B=G(g),k=G(h),x=G(h),E=G(c),R=G(u),w=G(p),S=G(d),b((z=e((U=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(l(e),"TypeFilter",z,l(e)),r(l(e),"TypeToggle",_,l(e)),r(l(e),"RarityToggle",D,l(e)),r(l(e),"IDEditBox",W,l(e)),r(l(e),"FarmToggle",L,l(e)),r(l(e),"EditBoxX",X,l(e)),r(l(e),"EditBoxY",Y,l(e)),r(l(e),"Season",M,l(e)),r(l(e),"PanelUITransform",H,l(e)),r(l(e),"PanelWidget",N,l(e)),r(l(e),"PanelUIOpacity",j,l(e)),n(l(e),"OnSave",void 0),n(l(e),"totalFilter",0),e}i(e,t);var o=e.prototype;return o.Init=function(t,e){this.TypeFilter=e,this.OnSave=t},o.Show=function(t){this.node.active=!0,this.PanelWidget.bottom=-this.PanelUITransform.height,y(this.PanelWidget).to(.25,{bottom:0},{easing:"circOut"}).start(),this.PanelUIOpacity.opacity=0,y(this.PanelUIOpacity).to(.175,{opacity:255}).start(),null!=this.Season&&(this.Season.active=!t)},o.OnBtnSaveClick=function(){this.totalFilter=0;var t="";if(0==this.TypeFilter){for(var e=0;e<this.TypeToggle.length;e++)this.TypeToggle[e].isChecked&&(t+=this.TypeToggle[e].node.name+",",this.totalFilter++);""!=t&&(t=t.substring(0,t.length-1)),F.TypePlantFilter=t,t="";for(var i=0;i<this.RarityToggle.length;i++)this.RarityToggle[i].isChecked&&(t+=this.RarityToggle[i].node.name+",",this.totalFilter++);""!=t&&(t=t.substring(0,t.length-1)),F.RarityPlantFilter=t,F.NeedWaterFilter=this.FarmToggle[0].isChecked,this.totalFilter+=this.FarmToggle[0].isChecked?1:0,F.NeedPotFilter=this.FarmToggle[1].isChecked,this.totalFilter+=this.FarmToggle[1].isChecked?1:0,F.HasCrowFilter=this.FarmToggle[2].isChecked,this.totalFilter+=this.FarmToggle[2].isChecked?1:0,F.IdPlantFilter=this.IDEditBox.string,this.totalFilter+=""!=this.IDEditBox.string?1:0}else if(2==this.TypeFilter){for(var r=0;r<this.TypeToggle.length;r++)this.TypeToggle[r].isChecked&&(t+=this.TypeToggle[r].node.name+",",this.totalFilter++);""!=t&&(t=t.substring(0,t.length-1)),F.TypePlantFilter_Inventory=t,t="";for(var l=0;l<this.RarityToggle.length;l++)this.RarityToggle[l].isChecked&&(t+=this.RarityToggle[l].node.name+",",this.totalFilter++);""!=t&&(t=t.substring(0,t.length-1)),F.RarityPlantFilter_Inventory=t,t="";for(var n=0;n<this.FarmToggle.length;n++)this.FarmToggle[n].isChecked&&(t+=this.FarmToggle[n].node.name+",",this.totalFilter++);""!=t&&(t=t.substring(0,t.length-1)),F.SeasonPlantFilter_Inventory=t,F.IdPlantFilter_Inventory=this.IDEditBox.string,this.totalFilter+=""!=this.IDEditBox.string?1:0}else 1==this.TypeFilter&&(F.corXFilter_ChoseLand=this.EditBoxX.string,this.totalFilter+=""!=this.EditBoxX.string?1:0,F.corYFilter_ChoseLand=this.EditBoxY.string,this.totalFilter+=""!=this.EditBoxY.string?1:0,F.isLandHasPotFilter_ChoseLand=this.FarmToggle[0].isChecked,this.totalFilter+=this.FarmToggle[0].isChecked?1:0);this.OnBtnCloseClick(),null!=this.OnSave&&this.OnSave()},o.OnBtnClearAllClick=function(){if(0==this.TypeFilter||2==this.TypeFilter){for(var t=0;t<this.TypeToggle.length;t++)this.TypeToggle[t].isChecked=!1;for(var e=0;e<this.RarityToggle.length;e++)this.RarityToggle[e].isChecked=!1;for(var i=0;i<this.FarmToggle.length;i++)this.FarmToggle[i].isChecked=!1;this.IDEditBox.string=""}else 1==this.TypeFilter&&(this.FarmToggle[0].isChecked=!1,this.EditBoxX.string="",this.EditBoxY.string="")},o.OnBtnCloseClick=function(){var t=this;f.Instance.PlaySound(m.GameUI_closepopup),y(this.PanelWidget).to(.25,{bottom:-this.PanelUITransform.height},{easing:"circIn"}).call((function(){t.node.active=!1})).start(),y(this.PanelUIOpacity).to(.175,{opacity:0}).start()},e}(T)).prototype,"TypeFilter",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=e(U.prototype,"TypeToggle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(U.prototype,"RarityToggle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(U.prototype,"IDEditBox",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(U.prototype,"FarmToggle",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=e(U.prototype,"EditBoxX",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(U.prototype,"EditBoxY",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(U.prototype,"Season",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(U.prototype,"PanelUITransform",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(U.prototype,"PanelWidget",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(U.prototype,"PanelUIOpacity",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=U))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/ChoppingMiniGame.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./Utility.ts","./PopUpBase.ts"],(function(i){"use strict";var e,t,r,n,o,a,s,h,l,c,d,p,u,B,w;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,r=i.initializerDefineProperty,n=i.assertThisInitialized,o=i.defineProperty},function(i){a=i.cclegacy,s=i._decorator,h=i.JsonAsset,l=i.UITransform,c=i.EditBox,d=i.Node,p=i.randomRange},function(i){u=i.UserModel},function(i){B=i.Utility},function(i){w=i.PopUpBase}],execute:function(){var b,g,v,f,y,m,P,M,z,C,D,x,S,I,_,G,L;a._RF.push({},"5c537lqmKtNAbugqPWJ3N23","ChoppingMiniGame",void 0);var R=s.ccclass,k=s.property;i("ChoppingMiniGame",(b=R("ChoppingMiniGame"),g=k(h),v=k(l),f=k(l),y=k(l),m=k(l),P=k(c),M=k(d),b((D=e((C=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return e=i.call.apply(i,[this].concat(a))||this,r(n(e),"config",D,n(e)),r(n(e),"blackBar",x,n(e)),r(n(e),"greenBar",S,n(e)),r(n(e),"redBar",I,n(e)),r(n(e),"whiteBar",_,n(e)),r(n(e),"CheatLevel",G,n(e)),r(n(e),"ParticleFX",L,n(e)),o(n(e),"speed",0),o(n(e),"boundMove",0),o(n(e),"moveDirection",1),o(n(e),"isInit",!1),o(n(e),"currentType",void 0),e}t(e,i);var a=e.prototype;return a.update=function(i){if(this.isInit){var e=this.whiteBar.node.position.x+this.moveDirection*this.speed*i;e<-this.boundMove&&(e=-this.boundMove,this.moveDirection=-this.moveDirection),e>this.boundMove&&(e=this.boundMove,this.moveDirection=-this.moveDirection),this.whiteBar.node.setPosition(e,0,0)}},a.Show=function(){i.prototype.OnShow.call(this)},a.ChopTree=function(){this.isInit=!1,this.ParticleFX.setPosition(this.whiteBar.node.position),B.PlayParticle(this.ParticleFX);var i=this.redBar.width/2+this.whiteBar.width/2,e=this.redBar.node.position.x+i,t=this.redBar.node.position.x-i;return this.whiteBar.node.position.x>t&&this.whiteBar.node.position.x<e?"RED_BAR":(i=this.greenBar.width/2+this.whiteBar.width/2,e=this.greenBar.node.position.x+i,t=this.greenBar.node.position.x-i,this.whiteBar.node.position.x>t&&this.whiteBar.node.position.x<e?"GREEN_BAR":"BLACK_BAR")},a.InitMiniGame=function(i){""!=i?this.currentType=i:i=this.currentType;var e=0;""!=this.CheatLevel.string?e=parseInt(this.CheatLevel.string):(e=u.userGatherData.CHOPPING_level.level,this.CheatLevel.string=e.toString());var t=this.config.json.bases[i],r=this.config.json.level[e];this.blackBar.width=t.barSize,this.greenBar.width=t.greenSize*r.greenSizeMod,this.redBar.width=t.redSize*r.redSizeMod,this.whiteBar.width=t.whiteSize,this.speed=t.speed*r.whiteSpeedMod;var n=this.blackBar.width/2-this.greenBar.width/2;this.greenBar.node.setPosition(p(-n,n),0,0),n=this.blackBar.width/2-this.redBar.width/2,this.redBar.node.setPosition(p(-n,n),0,0),this.boundMove=this.blackBar.width/2-this.whiteBar.width/2,this.whiteBar.node.setPosition(0,0,0),this.moveDirection=-1,this.isInit=!0},a.Hide=function(){i.prototype.OnHide.call(this,(function(){}),!1)},e}(w)).prototype,"config",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(C.prototype,"blackBar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(C.prototype,"greenBar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(C.prototype,"redBar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(C.prototype,"whiteBar",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(C.prototype,"CheatLevel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(C.prototype,"ParticleFX",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=C))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/FramItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UserModel.ts","./FarmingServicesApi.ts","./Utility.ts","./SoundController.ts","./PrefabController.ts","./UImanager.ts","./UIPopupManager.ts"],(function(t){"use strict";var e,a,i,n,o,r,s,l,c,h,u,p,v,d,f,m,b,y,g,_,S,I,w,T,U,x,P,L,C,B,F,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.defineProperty,n=t.assertThisInitialized,o=t.initializerDefineProperty,r=t.createClass},function(t){s=t.cclegacy,l=t._decorator,c=t.Node,h=t.Sprite,u=t.RichText,p=t.Label,v=t.UITransform,d=t.Vec2,f=t.randomRange,m=t.Vec3,b=t.tween,y=t.color,g=t.Animation,_=t.Component},function(t){S=t.ResourcesManager},function(t){I=t.UserModel},function(t){w=t.FarmingServicesApi},function(t){T=t.Utility,U=t.NumberToTween},function(t){x=t.SoundController,P=t.EnumSound},function(t){L=t.PrefabController,C=t.PrefabEnum},function(t){B=t.UImanager},function(t){F=t.UIPopupManager,R=t.LoadingType}],execute:function(){var A,N,J,z,H,D,E,W,O,M,G,k,q,Y,j,V,Z,K,Q,X,$,tt,et,at,it,nt,ot,rt,st,lt,ct,ht,ut,pt,vt,dt,ft,mt,bt,yt,gt,_t,St,It,wt,Tt,Ut,xt,Pt,Lt,Ct,Bt,Ft;s._RF.push({},"615b4YAOSZF7rec6gdiPxT6","FramItem",void 0);var Rt=l.ccclass,At=l.property;t("FramItem",(A=Rt("FramItem"),N=At({type:c}),J=At({type:h}),z=At({type:c}),H=At({type:h}),D=At({type:h}),E=At({type:h}),W=At({type:u}),O=At({type:p}),M=At({type:h}),G=At({type:u}),k=At({type:u}),q=At({type:p}),Y=At(v),j=At({type:c}),V=At({type:p}),Z=At({type:c}),K=At({type:c}),Q=At({type:p}),X=At({type:p}),$=At({type:p}),tt=At({type:c}),et=At({type:c}),at=At({type:p}),it=At({type:h}),nt=At({type:c}),A((st=e((rt=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(n(e),"_UIScreenFram",void 0),i(n(e),"index",0),o(n(e),"BoxNewFram",st,n(e)),o(n(e),"BoxNewFramSprite",lt,n(e)),o(n(e),"BoxInfo",ct,n(e)),o(n(e),"Plant",ht,n(e)),o(n(e),"Land",ut,n(e)),o(n(e),"Crow",pt,n(e)),o(n(e),"LocationText",vt,n(e)),o(n(e),"info_harvestLabelLE",dt,n(e)),o(n(e),"type_land",ft,n(e)),o(n(e),"BoxNoticyRichText",mt,n(e)),o(n(e),"BoxNoticyRichText2",bt,n(e)),o(n(e),"info_ID",yt,n(e)),o(n(e),"info_ID_UITransform",gt,n(e)),o(n(e),"btn_harvest",_t,n(e)),o(n(e),"info_harvestLabel",St,n(e)),o(n(e),"glow",It,n(e)),o(n(e),"bnt_BoxSelect",wt,n(e)),o(n(e),"UIToolSmallPot",Tt,n(e)),o(n(e),"UIToolWater",Ut,n(e)),o(n(e),"UIToolFer",xt,n(e)),o(n(e),"btn_remove",Pt,n(e)),o(n(e),"btn_remove1",Lt,n(e)),o(n(e),"LE_Label",Ct,n(e)),o(n(e),"boxInfoSprite",Bt,n(e)),o(n(e),"LeImage",Ft,n(e)),i(n(e),"Jdata",void 0),i(n(e),"updateCancelAtTimmer",void 0),i(n(e),"isUpdateCancelAt",void 0),i(n(e),"canRemovePlant",void 0),i(n(e),"_removeButtonState",void 0),e}a(e,t);var s=e.prototype;return s.InitData=function(t,e,a){var i=this;if(this.node.active=!0,this.BoxNewFram.active=!1,this.BoxInfo.active=!0,this._UIScreenFram=e,this.index=a,this.glow.active=!1,this.Jdata=null,this.Jdata=JSON.parse(JSON.stringify(t)),null!=this.Jdata){this.UpdateLocation(this.Jdata);var n=this.Jdata.plant,o=n.stats,r=function(t){i.Plant.spriteFrame=t,T.SetNativeSizeOfSprite(i.Plant,t)};if(this.info_harvestLabelLE.string=n.farmConfig.le+"/"+n.farmConfig.hours+" Hour",this.LE_Label.string=JSON.stringify(this.Jdata.totalHarvest),null!=o){this.info_ID_UITransform.node.active=!0,this.info_ID.string=this.Jdata.plantId,this.info_ID_UITransform.getComponent(h).spriteFrame=S.Instance.LoadRarity(this.info_ID.string),this.type_land.node.active=!0;var s=function(t){i.type_land.spriteFrame=t;var e=t.originalSize.width/120;i.type_land.node.setScale(e,e,1)};null!=this.Jdata.hasSynergy&&1==this.Jdata.hasSynergy?S.Instance.Loadtype(o.type+"_active",s):S.Instance.Loadtype(o.type,s);var l=n.iconUrl,c=l.split("/");l=c[c.length-1].split(".")[0],1==n.type?(this.Plant.node.setScale(.5,.5,1),S.Instance.LoadPlant(l,r)):(this.Plant.node.setScale(.4,.4,1),S.Instance.LoadMotherTree(l,r))}else this.Plant.node.setScale(.5,.5,1),1==n.type?S.Instance.LoadPlant("sapling_"+n.seasonType,r):S.Instance.LoadPlant("mama_"+n.seasonType,r),this.type_land.node.active=!1,this.info_ID_UITransform.node.active=!1;this.UpdateHasCrow(this.Jdata),this.UpdateNeedWater(this.Jdata),this.UpdateTools(this.Jdata),this.UpdateTimeHarvest(this.Jdata),this.UpdateStage(this.Jdata)}else console.log("acac FramItem-InitData: Jdada == null")},s.UpdateStatus=function(t){this.Jdata=t,this.UpdateHasCrow(this.Jdata),this.UpdateNeedWater(this.Jdata),this.UpdateTools(this.Jdata),this.UpdateTimeHarvest(this.Jdata),this.UpdateStage(this.Jdata)},s.UpdateHasCrow=function(t){if(null!=t.hasCrow&&1==t.hasCrow){var e=JSON.stringify(t.plantId),a=parseInt(e.charAt(e.length-1))%2==0;this.Crow.node.active=!0,a?(this.Crow.spriteFrame=S.Instance.crow_art[1],T.SetNativeSizeOfSprite(this.Crow,S.Instance.crow_art[1])):(this.Crow.spriteFrame=S.Instance.crow_art[0],T.SetNativeSizeOfSprite(this.Crow,S.Instance.crow_art[0]))}else this.Crow.node.active=!1},s.UpdateNeedWater=function(t){1==t.needWater?this.Land.spriteFrame=S.Instance.land_art[1]:this.Land.spriteFrame=S.Instance.land_art[0]},s.UpdateTools=function(t){this.UIToolWater.string="0",this.UIToolWater.node.parent.parent.active=!0,this.UIToolSmallPot.node.parent.parent.active=!1;for(var e=t.activeTools,a=0;a<e.length;a++){var i=e[a];"POT"==i.type?1==i.id&&(this.UIToolSmallPot.string=i.count,this.UIToolSmallPot.node.parent.parent.active=!0,i.count>1?this.UIToolSmallPot.node.parent.active=!0:this.UIToolSmallPot.node.parent.active=!1):"WATER"==i.type&&(this.UIToolWater.string=i.count,this.UIToolWater.node.parent.parent.active=!0)}},s.UpdateTimeHarvest=function(t){if(this.HasPause(t))if(t.totalHarvest>0)this.btn_harvest.active=!0,this.info_harvestLabel.node.parent.active=!1;else{this.btn_harvest.active=!1,this.info_harvestLabel.node.parent.active=!0;var e=this.getRemainHarvestSec(t);e<=60&&(e=60),this.info_harvestLabel.string=T.ConvertSecondsToTime(e)}else if(null==t.startTime&&null==t.harvestTime)this.info_harvestLabel.string="01:00",this.btn_harvest.active=!1,this.info_harvestLabel.node.parent.active=!0;else if(t.totalHarvest>0)this.btn_harvest.active=!0,this.info_harvestLabel.node.parent.active=!1;else{var a=Date.parse(t.harvestTime.toString())-T.GetTimeNow(),i=Math.floor(a/1e3);this.info_harvestLabel.string=T.ConvertSecondsToTime(i),i<=0&&console.log("1 tree have done harvest => reload"),this.btn_harvest.active=!1,this.info_harvestLabel.node.parent.active=!0}},s.UpdateStage=function(t){this.StopUpdateCancelAt(),this.CheckRemove(t),this.removeButtonState(0);var e=t.stage.toString();if("new"==e)this.BoxNoticyRichText.string="Add pot<br/>to start farming",this.BoxNoticyRichText2.string="",this.BoxNoticyRichText.node.parent.active=!0;else if("farming"==e||"paused"==e){this.BoxNoticyRichText.string="",this.BoxNoticyRichText2.string="";var a=0;if(this.HasPause(t))a=this.getRemainHarvestSec(t);else{var i=Date.parse(t.harvestTime.toString());a=Math.floor((i-T.GetTimeNow())/1e3)}a<=0?(this.info_harvestLabel.string="00:00",this.info_harvestLabel.node.parent.active=!0):(this.BoxNoticyRichText.node.parent.active=!1,null!=t.cancelAt&&"null"!=t.cancelAt&&this.CorouUpdateCancelAt(t))}else"cancelled"!=e&&"removed"!=e||this.HideInfoCancel(t)},s.HideInfoCancel=function(t){var e="removed"==t.stage.toString();this.StopUpdateCancelAt(),e?(this.BoxNoticyRichText.string="Your pot duration<br/>has expired",this.BoxNoticyRichText2.string="Please remove<br/>your plant",this.removeButtonState(1)):t.totalHarvest>0?(this.BoxNoticyRichText.string="00:00",this.BoxNoticyRichText2.string=""):(this.BoxNoticyRichText.string="Harvesting<br/>period is over",this.BoxNoticyRichText2.string="Please remove<br/>your plant",this.removeButtonState(1)),this.BoxNoticyRichText.node.parent.active=!0,this.info_harvestLabel.node.parent.active=!1,t.totalHarvest>0?this.btn_harvest.active=!0:this.btn_harvest.active=!1},s.StopUpdateCancelAt=function(){clearTimeout(this.updateCancelAtTimmer),this.isUpdateCancelAt=!1},s.CorouUpdateCancelAt=function(t){var e=this;this.UpdateCancelAt(t);this.isUpdateCancelAt=!0,this.updateCancelAtTimmer=setTimeout((function a(){e.UpdateCancelAt(t),e.isUpdateCancelAt&&(e.updateCancelAtTimmer=setTimeout(a,1e3))}),1e3)},s.UpdateCancelAt=function(t){this.BoxNoticyRichText.string="Add pot<br/>to resume farming",this.BoxNoticyRichText.node.parent.active=!0;var e=Date.parse(t.cancelAt.toString())-T.GetTimeNow();e<=0?this.HideInfoCancel(t):this.BoxNoticyRichText2.string=T.ConvertSecondsToTimeSecond(Math.floor(e/1e3))},s.CheckRemove=function(t){this.canRemovePlant=!1,null==t.cancelAt&&(this.canRemovePlant=!0)},s.UpdateLocation=function(t){var e=t.land;this.LocationText.string=e.x.toString()+","+e.y.toString()},s.ShowNewFarmBnt=function(){var t=this;this.node.active=!0,this.BoxNewFram.active=!1,this.BoxInfo.active=!1;S.Instance.LoadSeasonNewBtn(I.SeasonData.season,(function(e){t.BoxNewFramSprite.spriteFrame=e,t.BoxNewFram.active=!0}))},s.OnBtnNewFarmClick=function(){B.Instance.ShowChoseLand()},s.OnBtnharvestClick=function(){var t=this;F.Instance.Loading(!0,R.noAnim),w.RequestHarvestPlant(this.Jdata._id,(function(e){F.Instance.Loading(!1),t.HarvestSuccess(e)}),(function(t){F.Instance.Loading(!1)}),!0)},s.HarvestSuccess=function(t){var e=JSON.parse(t);0==e.status?this.ShowEffectHarvest(e.data.amount):F.Instance.ShowToast("Error",S.Instance.GetErrorMessage(e.status),0)},s.ShowEffectHarvest=function(t){var e=this;this._UIScreenFram.totalHarvestable-=t,this._UIScreenFram.BtnHarvestAll.active=this._UIScreenFram.totalHarvestable>0;for(var a=function(t){T.AsyncDelay(.2*t*1e3).then((function(){var a=e.LeImage.getWorldPosition(),i=e._UIScreenFram.LeImg.getWorldPosition(),n=L.Instance.GetPrefab(C.LEHarvest);n.setWorldPosition(a),T.PlayParticle(n),x.Instance.PlaySound(P.UI_fx_LE_harvest_Sound_B_1),e.TweenLeP(t,a,i,.5,(function(){x.Instance.PlaySound(P.UI_fx_LE_harvest_Sound_B_2);var t=L.Instance.GetPrefab(C.LEReceive);t.setWorldPosition(i),T.PlayParticle(t)}))}))},i=0;i<5;i++)a(i);T.AsyncDelay(500).then((function(){e._UIScreenFram.TweenLE(t,!0)})),T.AsyncDelay(1500).then((function(){e._UIScreenFram.RequestFarm()}))},s.TweenLeP=function(t,e,a,i,n){var o=L.Instance.GetPrefab(C.LEProjectile);o.setWorldPosition(e),T.PlayParticle(o);var r=d.distance(e,a);r>900&&(r=900),r*=f(0,.25);var s,l=new m(a);l.subtract(e),l.normalize(),s=t%2==0?new m(l.y,-l.x,0):new m(-l.y,l.x,0);var c={a:0};b(c).to(i/2,{a:r},{easing:"cubicOut"}).to(i/2,{a:0},{easing:"cubicIn"}).start();var h=new U(0);b(h).to(i,{n:1e3},{progress:function(t,i,n,r){return function(t){var i=new m;m.lerp(i,a,e,1-t);var n=new m(s);n.multiplyScalar(c.a),o.setWorldPosition(i.x+n.x,i.y+n.y,i.z)}(r),n}}).call((function(){L.Instance.ReturnPrefab(C.LEProjectile,o),n()})).start()},s.OnBtnRemoveClick=function(){0==this.canRemovePlant?this.OnBtnRemoveFarm():this.OnBtnRemovePlant()},s.OnBtnRemoveFarm=function(){var t=this,e=function(e){t._UIScreenFram.DeactiveFarmSuccess(e)},a=function(t){};1==this._removeButtonState?w.RequestDeactive(this.Jdata._id,e,a):(console.log("bad OnBtnRemoveFarm, should have popup to ask here"),F.Instance.ShowUINotifyConfirm("Stop Farming","Remove "+this.info_ID.string+" from Farm?<br/>You will lose all LE in this cycle.",(function(){t._UIScreenFram.framSelected>0&&t.Jdata._id==t._UIScreenFram.FramItemArray[t._UIScreenFram.framSelected].Jdata._id&&t.OnBtnSelectClick(),w.RequestDeactive(t.Jdata._id,e,a)}),!0))},s.OnBtnRemovePlant=function(){var t=this,e=function(e){t._UIScreenFram.DeactiveFarmSuccess(e)},a=function(t){};1==this._removeButtonState?w.RequestRemovePlant(this.Jdata._id,e,a):F.Instance.ShowUINotifyConfirm("Remove Plant","Remove "+this.info_ID.string+" from Farm?<br/>You will lose all LE in this cycle.",(function(){w.RequestRemovePlant(t.Jdata._id,e,a)}),!0)},s.OnBtnSelectClick=function(){this._UIScreenFram.SelectFram(this.index)},s.SelectThis=function(t){t?(this.boxInfoSprite.color=y(59,72,120,255),this.glow.active=!0):(this.glow.active=!1,this.boxInfoSprite.color=y(26,29,40,255))},s.removeButtonState=function(t){this._removeButtonState=t,0==t?(this.btn_remove1.active=!0,this.btn_remove.active=!1):(this.btn_remove.active=!0,this.btn_remove1.active=!1)},s.getRemainHarvestSec=function(t){if(null==t)return 0;var e=Date.parse(t.harvestTime.toString()),a=0;if(this.HasPause(t)){var i=T.GetTimeNow();if(null!=t.cancelAt&&"null"!=t.cancelAt)i=Date.parse(t.cancelAt.toString())-864e5;if(null!=t.crowAppearAt&&"null"!=t.crowAppearAt){var n=Date.parse(t.crowAppearAt.toString());n<i&&(i=n)}if(t.pausedTime&&"null"!=t.pausedTime){var o=Date.parse(t.pausedTime.toString());o<i&&(i=o)}a=Math.floor((e-i)/1e3)}else a=Math.floor((e-T.GetTimeNow())/1e3);return a},s.HasPause=function(t){return null!=t&&(null!=t.stage&&("paused"==t.stage||(1==t.hasCrow||(null!=t.cancelAt&&"null"!=t.cancelAt||null!=t.crowAppearAt&&"null"!=t.crowAppearAt))))},s.ShowEffectWater=function(){var t=L.Instance.GetPrefab(C.Water);t.setWorldPosition(this.node.getWorldPosition()),T.PlayParticle(t),t.getComponent(g).play(),x.Instance.PlaySound(P.UI_fx_Give_water_farm),x.Instance.PlaySound(P.UI_fx_Give_water_farm_earn_point,1)},s.ShowEffectChaseCrow=function(){this.Crow.node.active=!1;var t=L.Instance.GetPrefab(C.ChaseCrow),e=this.Crow.node.getWorldPosition();t.setWorldPosition(e.x,e.y+35,0),T.PlayParticle(t),x.Instance.PlaySound(P.UI_fx_chase_crows)},s.ShowEffectFertilizer=function(){},r(e,[{key:"isActive",get:function(){return this.node.active&&this.BoxInfo.active}},{key:"id",get:function(){return this.Jdata._id}}]),e}(_)).prototype,"BoxNewFram",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(rt.prototype,"BoxNewFramSprite",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=e(rt.prototype,"BoxInfo",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=e(rt.prototype,"Plant",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=e(rt.prototype,"Land",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=e(rt.prototype,"Crow",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=e(rt.prototype,"LocationText",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=e(rt.prototype,"info_harvestLabelLE",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=e(rt.prototype,"type_land",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=e(rt.prototype,"BoxNoticyRichText",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=e(rt.prototype,"BoxNoticyRichText2",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=e(rt.prototype,"info_ID",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=e(rt.prototype,"info_ID_UITransform",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=e(rt.prototype,"btn_harvest",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=e(rt.prototype,"info_harvestLabel",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=e(rt.prototype,"glow",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=e(rt.prototype,"bnt_BoxSelect",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=e(rt.prototype,"UIToolSmallPot",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=e(rt.prototype,"UIToolWater",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=e(rt.prototype,"UIToolFer",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=e(rt.prototype,"btn_remove",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=e(rt.prototype,"btn_remove1",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=e(rt.prototype,"LE_Label",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=e(rt.prototype,"boxInfoSprite",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=e(rt.prototype,"LeImage",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=rt))||ot));s._RF.pop()}}}));

System.register("chunks:///_virtual/ChoppingData.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(_){"use strict";var e,o,t,r;return{setters:[function(_){e=_.inheritsLoose},function(_){o=_.cclegacy,t=_._decorator,r=_.Component}],execute:function(){var n;_("TileEnum",void 0),o._RF.push({},"63e3bNLhe1CELlMmA0w76Ox","ChoppingData",void 0);var a,i=t.ccclass;t.property;!function(_){_[_.Grass_1=1]="Grass_1",_[_.Grass_2=2]="Grass_2",_[_.Stone_1=3]="Stone_1",_[_.Stone_2=4]="Stone_2",_[_.Stone_3=5]="Stone_3",_[_.Stone_4=6]="Stone_4",_[_.Water_1=7]="Water_1",_[_.Water_2=8]="Water_2",_[_.Water_1_None_Rod=9]="Water_1_None_Rod",_[_.Water_2_None_Rod=10]="Water_2_None_Rod",_[_.Fishing_Rod=11]="Fishing_Rod",_[_.TreasureChest=12]="TreasureChest",_[_.Tree_1=100]="Tree_1",_[_.Tree_2=101]="Tree_2",_[_.Tree_3=102]="Tree_3",_[_.BigTree_1=103]="BigTree_1",_[_.Bush=110]="Bush",_[_.tile_ground2_dong=111]="tile_ground2_dong",_[_.tile_ground2_ha=112]="tile_ground2_ha",_[_.tile_ground2_thu=113]="tile_ground2_thu",_[_.tile_ground_com=114]="tile_ground_com",_[_.tile_ground_dong=115]="tile_ground_dong",_[_.tile_ground_ha=116]="tile_ground_ha",_[_.tile_ground_thu=117]="tile_ground_thu",_[_.tile_ground_xuan=118]="tile_ground_xuan",_[_.tile_rock2_com=119]="tile_rock2_com",_[_.tile_rock2_dong=120]="tile_rock2_dong",_[_.tile_rock2_ha_xuan=121]="tile_rock2_ha_xuan",_[_.tile_rock2_thu=122]="tile_rock2_thu",_[_.tile_rock2_xuan=123]="tile_rock2_xuan",_[_.tile_rock3_dong=124]="tile_rock3_dong",_[_.tile_rock4_dong=125]="tile_rock4_dong",_[_.tile_rock_com=126]="tile_rock_com",_[_.tile_rock_dong=127]="tile_rock_dong",_[_.tile_rock_ha_xuan=128]="tile_rock_ha_xuan",_[_.tile_rock_thu=129]="tile_rock_thu",_[_.tile_rock_xuan=130]="tile_rock_xuan",_[_.tile_wata2_dong=131]="tile_wata2_dong",_[_.tile_wata2_ha=132]="tile_wata2_ha",_[_.tile_wata_com=133]="tile_wata_com",_[_.tile_wata_dong=134]="tile_wata_dong",_[_.tile_wata_ha=135]="tile_wata_ha",_[_.tile_wata_thu=136]="tile_wata_thu",_[_.tile_wata_xuan=137]="tile_wata_xuan",_[_.Ground_Com=138]="Ground_Com",_[_.tile_ground2_com=139]="tile_ground2_com",_[_.TILE_LOCK=800]="TILE_LOCK",_[_.obj_rock2_com=801]="obj_rock2_com",_[_.obj_rock3_com=802]="obj_rock3_com",_[_.obj_rock4_com=803]="obj_rock4_com",_[_.obj_rock_com=804]="obj_rock_com",_[_.obj_none_interact=805]="obj_none_interact",_[_.TREE_LOCK=900]="TREE_LOCK",_[_.obj_tree2_dong=1e3]="obj_tree2_dong",_[_.obj_tree2_ha=1001]="obj_tree2_ha",_[_.obj_tree2_thu=1002]="obj_tree2_thu",_[_.obj_tree2_xuan_ha=1003]="obj_tree2_xuan_ha",_[_.obj_tree2_xuan=1004]="obj_tree2_xuan",_[_.obj_tree3_dong=1005]="obj_tree3_dong",_[_.obj_tree3_thu=1006]="obj_tree3_thu",_[_.obj_tree_dong=1007]="obj_tree_dong",_[_.obj_tree_ha=1008]="obj_tree_ha",_[_.obj_tree_thu=1009]="obj_tree_thu",_[_.obj_tree_xuan_ha=1010]="obj_tree_xuan_ha",_[_.obj_tree_xuan=1011]="obj_tree_xuan",_[_.obj_root_com=1012]="obj_root_com",_[_.obj_root_ice=1013]="obj_root_ice",_[_.Tree_Com=1014]="Tree_Com",_[_.BigTree_Com=2e3]="BigTree_Com",_[_.bigtree_dong_1=2001]="bigtree_dong_1",_[_.bigtree_dong_2=2002]="bigtree_dong_2",_[_.bigtree_thu_1=2003]="bigtree_thu_1",_[_.bigtree_thu_2=2004]="bigtree_thu_2",_[_.bigtree_xuanhe_1=2005]="bigtree_xuanhe_1",_[_.bigtree_xuanhe_2=2006]="bigtree_xuanhe_2"}(a||(a=_("TileEnum",{})));_("ChoppingData",i("ChoppingData")(n=function(_){function o(){return _.apply(this,arguments)||this}return e(o,_),o}(r))||n);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemMaterial.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UIPopupManager.ts"],(function(t){"use strict";var e,i,n,a,r,o,l,s,c,u,p,m,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.defineProperty},function(t){o=t.cclegacy,l=t._decorator,s=t.Node,c=t.Sprite,u=t.Label,p=t.Component},function(t){m=t.ResourcesManager},function(t){f=t.UIPopupManager}],execute:function(){var I,h,y,g,d,M,b,v,w;o._RF.push({},"64b3djhJE5GwrsfNP6BViso","UIItemMaterial",void 0);var P=l.ccclass,S=l.property;t("UIItemMaterial",(I=P("UIItemMaterial"),h=S(s),y=S(c),g=S(u),I((b=e((M=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(a(e),"content",b,a(e)),n(a(e),"imgMaterial",v,a(e)),n(a(e),"txtAmount",w,a(e)),r(a(e),"itemKey",void 0),r(a(e),"data",void 0),e}i(e,t);var o=e.prototype;return o.InfoClick=function(){f.Instance.ShowItemInfo(this.data,this.itemKey)},o.SellClick=function(){f.Instance.ShowToast("Infomation","Feature is coming soon!",2)},o.Init=function(t){var e=this;this.itemKey=t.name,this.content.active=!0,this.txtAmount.string=t.amount,this.data=m.Instance.GetMaterialData(this.itemKey);m.Instance.LoadMaterialSprite(this.itemKey,(function(t){e.imgMaterial.spriteFrame=t}))},e}(p)).prototype,"content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(M.prototype,"imgMaterial",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(M.prototype,"txtAmount",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=M))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlantItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./Utility.ts"],(function(t){"use strict";var e,a,i,n,r,s,l,o,c,u,p,f,h,b,d,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.defineProperty},function(t){s=t.cclegacy,l=t._decorator,o=t.Node,c=t.Sprite,u=t.Label,p=t.UITransform,f=t.Component,h=t.tween,b=t.v3},function(t){d=t.ResourcesManager},function(t){y=t.Utility}],execute:function(){var g,m,v,I,_,P,L,w,z,S,D,F,T,J,N,U,k,R,C,E,M;s._RF.push({},"66e82oR54FEiIxTzXeFQeGI","PlantItem",void 0);var x=l.ccclass,B=l.property;t("PlantItem",(g=x("PlantItem"),m=B(o),v=B({type:c}),I=B({type:u}),_=B({type:c}),P=B({type:c}),L=B({type:u}),w=B(p),z=B({type:o}),S=B({type:u}),g((T=e((F=function(t){function e(){for(var e,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(n(e),"PlantNode",T,n(e)),i(n(e),"Plant",J,n(e)),i(n(e),"info_harvestLabelLE",N,n(e)),i(n(e),"type_land",U,n(e)),i(n(e),"season",k,n(e)),i(n(e),"info_ID",R,n(e)),i(n(e),"info_ID_UITransform",C,n(e)),i(n(e),"btn_select",E,n(e)),i(n(e),"status",M,n(e)),r(n(e),"Jdata",void 0),r(n(e),"onSelect",void 0),e}a(e,t);var s=e.prototype;return s.Init=function(t,e,a,i){var n=this;if(this.node.active=!0,this.Jdata=null,this.onSelect=e,this.Jdata=t,null!=this.Jdata){var r=this.Jdata.plant,s=r.stats;if(null!=s){this.info_ID.string=this.Jdata.plantId,this.info_ID_UITransform.getComponent(c).spriteFrame=d.Instance.LoadRarity(this.info_ID.string);d.Instance.Loadtype(s.type,(function(t){n.type_land.spriteFrame=t})),this.season.spriteFrame=d.Instance.GetSeasonTextSprite(y.GetSeasonByTypePlant(s.type));var l=r.iconUrl,o=l.split("/");l=o[o.length-1].split(".")[0];var u=function(t){n.Plant.spriteFrame=t,1==r.type?h(n.PlantNode).to(.3,{scale:b(1,1,1)},{easing:"backOut"}).start():h(n.PlantNode).to(.3,{scale:b(.8,.8,1)},{easing:"backOut"}).start()};this.PlantNode.setScale(0,0,0),1==r.type?(this.PlantNode.setPosition(0,-200,0),d.Instance.LoadPlant(l,u)):(this.PlantNode.setPosition(0,-165,0),d.Instance.LoadMotherTree(l,u)),this.info_harvestLabelLE.string="LE: "+r.farmConfig.le+"/"+r.farmConfig.hours+" Hour"}}if(a)this.btn_select.active=!0,this.status.node.parent.active=!1;else switch(this.btn_select.active=!1,this.status.node.parent.active=!1,this.Jdata.status){case 0:this.status.node.parent.active=!1;break;case 1:this.status.node.parent.active=!0,this.status.string="For Sale";break;case 2:this.status.node.parent.active=!0,this.status.string="Farming"}},s.OnBtnSelectClick=function(){null!=this.onSelect&&this.onSelect(this.Jdata)},e}(f)).prototype,"PlantNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(F.prototype,"Plant",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(F.prototype,"info_harvestLabelLE",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(F.prototype,"type_land",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(F.prototype,"season",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(F.prototype,"info_ID",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(F.prototype,"info_ID_UITransform",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(F.prototype,"btn_select",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(F.prototype,"status",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=F))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/FishingManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UserModel.ts","./GatheringServicesApi.ts","./SoundController.ts","./EventManager.ts","./PrefabController.ts","./UITutorial.ts","./UIPopupManager.ts","./MaterialDropMining.ts","./GatheringManager.ts","./GatheringMiniGameUI.ts","./UIPopupPullFishing.ts","./FishingMap.ts"],(function(e){"use strict";var i,t,n,a,r,s,o,l,u,c,h,p,g,d,m,f,I,M,S,G,b,v,F,D,U,T,C,P,y,B,_,w,k,E;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.defineProperty},function(e){s=e.cclegacy,o=e._decorator,l=e.AudioSource,u=e.Prefab,c=e.Node,h=e.ScrollView,p=e.systemEvent,g=e.SystemEvent,d=e.randomRangeInt,m=e.resources,f=e.instantiate,I=e.Component},function(e){M=e.ResourcesManager},function(e){S=e.UserModel,G=e.UserFishing},function(e){b=e.GatheringServicesApi},function(e){v=e.SoundController,F=e.EnumSound},function(e){D=e.EventManager,U=e.EventID},function(e){T=e.PrefabController,C=e.PrefabEnum},function(e){P=e.UITutorial},function(e){y=e.UIPopupManager},function(e){B=e.MaterialDropMining},function(e){_=e.GatheringManager},function(e){w=e.GatheringMiniGameUI},function(e){k=e.UIPopupPullFishing},function(e){E=e.FishingMap}],execute:function(){var O,N,z,R,x,A,H,L,V,J,W,j,K,X,Y,Z,q,Q,$,ee,ie,te,ne,ae,re;e({FishingState:void 0,MapSizeFishing:void 0}),s._RF.push({},"67303mWaoNC3rtcnizSgZ1r","FishingManager",void 0);var se,oe,le=o.ccclass,ue=o.property;!function(e){e[e.Idle=0]="Idle",e[e.Drop=1]="Drop",e[e.Pull=2]="Pull",e[e.Catch=3]="Catch"}(se||(se=e("FishingState",{}))),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(oe||(oe=e("MapSizeFishing",{})));e("FishingManager",(O=le("FishingManager"),N=ue(l),z=ue([u]),R=ue([u]),x=ue(u),A=ue(c),H=ue(h),L=ue(k),V=ue(c),J=ue(w),W=ue(P),j=ue(E),O((Y=i((X=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return i=e.call.apply(e,[this].concat(s))||this,n(a(i),"ambientMusic",Y,a(i)),n(a(i),"prefabFishShadow",Z,a(i)),n(a(i),"prefabObjectShadow",q,a(i)),n(a(i),"prefabFish",Q,a(i)),n(a(i),"prefabMaterial",$,a(i)),n(a(i),"scroll",ee,a(i)),n(a(i),"popupPullFishing",ie,a(i)),n(a(i),"contentMap",te,a(i)),n(a(i),"gatheringMiniGameUI",ne,a(i)),n(a(i),"uITutorial",ae,a(i)),r(a(i),"isEatReal",void 0),r(a(i),"isCanClick",void 0),r(a(i),"state",void 0),n(a(i),"map",re,a(i)),r(a(i),"MaterialDrops",[]),r(a(i),"isDropping",void 0),r(a(i),"scaleMap",void 0),r(a(i),"isDoneInit",!1),i}t(i,e);var s=i.prototype;return s.start=function(){D.on(U.UpdateMusicSound,this.onUpdateMusicSound,this),v.Instance.SetBgMusic(F.BG_Fishing),this.onUpdateMusicSound(),this.scroll.enabled=!1,this.scaleMap=this.scroll.node.scale.x,this.isDropping=!1,this.state=se.Idle,this.isCanClick=!0,S.userFishing=new G,this.GetMap(),p.on(g.EventType.TOUCH_START,this.onTouchStart.bind(this),this),p.on(g.EventType.TOUCH_END,this.onTouchEnd,this),p.on(g.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},s.onUpdateMusicSound=function(){S.userLocalData.musicOn?this.ambientMusic.volume=1:this.ambientMusic.volume=0},s.onDestroy=function(){},s.onTouchStart=function(e){this.beginDrop()},s.onTouchEnd=function(e,i){this.endDrop()},s.onTouchCancel=function(e,i){this.endDrop()},s.endDrop=function(){1==this.isDropping&&(this.isDropping=!1)},s.beginDrop=function(){this.gatheringMiniGameUI.curItem<=0?_.Instance.ShowMaterialWarning(-1,"\nCongratulations!\n\nYou've cleared\nthis minigame!",this.ValidateFinishGameServer.bind(this)):(0==this.isDropping&&(this.scroll.enabled=!1,this.isDropping=!0),this.map.OnBtnClick())},s.GetMap=function(){var e=this;this.isCanClick=!1;b.Fishing_GetMap(S.curWorldMapData.playingMiniGameId,function(i){var t=JSON.parse(i);0==t.status?(e.isCanClick=!0,e.InitMapData(t.data)):(y.Instance.ShowToast("Error",M.Instance.GetErrorMessage(t.status),0,!1),e.BackToSceneGathering())}.bind(this),function(i){e.BackToSceneGathering()}.bind(this))},s.GetDrop=function(){var e=this;this.isCanClick=!1;b.Fishing_Drop(S.curWorldMapData.playingMiniGameId,function(i){var t=JSON.parse(i);0==t.status?(e.state=se.Drop,S.userFishing.getDrop=t.data,S.userGatherData.FISHING_level.level=t.data.level,S.userGatherData.FISHING_level.exp=t.data.exp,S.userGatherData.currentStamina=t.data.currentStamina,e.gatheringMiniGameUI.gatheringLevelTop.UpdateView(2),e.gatheringMiniGameUI.UpdateStaminaLabel(),e.map.character.setAnimation(0,"Start_Fishing",!1),e.scheduleOnce((function(){v.Instance.PlaySound(F.UI_Fishing_RotXuongNuoc)}),2)):(y.Instance.ShowToast("Error",M.Instance.GetErrorMessage(t.status),0,!1),e.BackToSceneGathering())}.bind(this),function(i){e.BackToSceneGathering()}.bind(this))},s.CompleteFishing=function(e){if(1!=this.gatheringMiniGameUI.skipGameBtnstate&&1==this.gatheringMiniGameUI.curItem&&(e=!0),this.isCanClick=!1,this.ResetDrop(),e){console.log("getDrop:"+JSON.stringify(S.userFishing.getDrop)),b.Fishing_GetPull(S.curWorldMapData.playingMiniGameId,S.userFishing.getDrop.expId,S.userFishing.getDrop.dropId,function(e){var i=this,t=JSON.parse(e);console.log("PUllSuccess:"+JSON.stringify(t)),0==t.status?(this.state=se.Idle,S.userGatherData.FISHING_level.level=t.data.level,S.userGatherData.FISHING_level.exp=t.data.exp,this.gatheringMiniGameUI.gatheringLevelTop.UpdateView(2),this.gatheringMiniGameUI.curItem=t.data.currentFish,this.map.StopCharacterBait(),this.map.character.setAnimation(0,"Fishing",!1),this.scheduleOnce((function(){if(i.map.character.setMix("Fishing","Happy",.2),i.map.character.setAnimation(0,"Happy",!0),i.scheduleOnce(function(){this.isCanClick=!0,this.map.PlayCharacterIdle()}.bind(i),3),null!=t.data.itemKey){var e=t.data.itemKey,n=T.Instance.GetPrefab(C.MaterialDropMining),a=n.getComponent(B);n.setParent(i.map.targetFish),v.Instance.PlaySound(F.UI_Item_Appear),a.Init(e.id,e.name,20,5,(function(e){i.ReleaseMaterialDrop(e)}),(function(){i.gatheringMiniGameUI.skipGameBtnstate=1}),(function(){i.gatheringMiniGameUI.OpenBag(),v.Instance.PlaySound(F.UI_Item_Slide_to_Bag),a.TweenToBag(i.gatheringMiniGameUI.BagSprite.node.worldPosition,(function(){i.gatheringMiniGameUI.CloseBag(!0)}))}),2);n.setPosition(0,0,0)}else for(var r=t.data.randomItems,s=function(){e=r[o];var t=T.Instance.GetPrefab(C.MaterialDropMining),n=t.getComponent(B);t.setParent(i.map.targetFish),v.Instance.PlaySound(F.UI_Item_Appear),n.Init(e.id,e.name,20,5,(function(e){i.ReleaseMaterialDrop(e)}),(function(){i.gatheringMiniGameUI.skipGameBtnstate=1}),(function(){i.gatheringMiniGameUI.OpenBag(),v.Instance.PlaySound(F.UI_Item_Slide_to_Bag),n.TweenToBag(i.gatheringMiniGameUI.BagSprite.node.worldPosition,(function(){i.gatheringMiniGameUI.CloseBag(!0)}))}),2);t.setPosition(0,0,0)},o=0;o<r.length;o++){s()}}),.8)):(y.Instance.ShowToast("Error",M.Instance.GetErrorMessage(t.status),0,!1),this.BackToSceneGathering())}.bind(this),function(e){var i=JSON.parse(e);y.Instance.ShowToast("Error",M.Instance.GetErrorMessage(i.status),0,!1),this.BackToSceneGathering()}.bind(this))}else this.map.DropFail()},s.GetBeginPull=function(){var e=this;b.Fishing_GetBeginPull(S.userFishing.getDrop.expId,function(i){var t=JSON.parse(i);0==t.status?(e.state=se.Pull,S.userFishing.getBeginPull=t,S.userGatherData.FISHING_level.level=t.data.level,S.userGatherData.FISHING_level.exp=t.data.exp,e.gatheringMiniGameUI.gatheringLevelTop.UpdateView(2),e.popupPullFishing.show(e),console.log("GetBeginPull:"+i)):(y.Instance.ShowToast("Error",M.Instance.GetErrorMessage(t.status),0,!1),e.BackToSceneGathering())}.bind(this),(function(i){e.BackToSceneGathering()}))},s.InitMapData=function(e){var i=this;S.userFishing.getMap=e,this.gatheringMiniGameUI.Init(2,e.map.maxFish,(function(){i.OnBtnSkip()})),this.gatheringMiniGameUI.curItem=e.map.currentFish,S.userGatherData.currentStamina=e.stamina,this.gatheringMiniGameUI.UpdateStaminaLabel(),this.CreateMap()},s.CreateMap=function(){var e=this,i=S.userFishing.getMap.map.size,t="Fishing/Fishing_Map_"+oe[i]+"_"+d(1,3);m.load(t,u,(function(i,t){var n=f(t);n.setParent(e.contentMap),n.setPosition(0,0,0),e.map=n.getComponent(E),e.map.Init(e)}))},s.ResetDrop=function(){this.map.ResetDrop(),this.isEatReal=!1,this.state=se.Idle},s.OnBtnSkip=function(){0==this.gatheringMiniGameUI.skipGameBtnstate?_.Instance.ShowMaterialWarning(50,"Next mini game fee:",this.ValidateSkipGameServer.bind(this)):2==this.gatheringMiniGameUI.skipGameBtnstate?this.ValidateFinishGameServer():_.Instance.ShowMaterialWarning(-1,"Skip This Mini Game",this.ValidateFinishGameServer.bind(this))},s.ValidateFinishGameServer=function(){var e=this;b.Fishing_Finish(function(i){var t=b.CheckStatus(JSON.parse(i));null!=t&&(S.curWorldMapData=t.data.route,e.BackToSceneGathering())}.bind(this),(function(e){}))},s.ValidateSkipGameServer=function(){var e=this;b.Fishing_Skip(function(i){var t=b.CheckStatus(JSON.parse(i));null!=t&&(S.curWorldMapData=t.data.route,S.userGatherData.currentStamina=t.data.stamina,e.BackToSceneGathering())}.bind(this),(function(e){}))},s.BackToSceneGathering=function(){for(v.Instance.SetBgMusic(F.BG_Farm);this.MaterialDrops.length>0;)this.MaterialDrops[0].Release();T.Instance.ReturnAllPrefab(C.Bag_effect),y.Instance.LoadScene("1.Gathering")},s.ReleaseMaterialDrop=function(e){var i=this.MaterialDrops.findIndex((function(i){return i.guid==e.guid}));i>-1&&this.MaterialDrops.splice(i,1)},s.OnBtnUITutorial=function(){this.uITutorial.Show(2)},i}(I)).prototype,"ambientMusic",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(X.prototype,"prefabFishShadow",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=i(X.prototype,"prefabObjectShadow",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=i(X.prototype,"prefabFish",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(X.prototype,"prefabMaterial",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=i(X.prototype,"scroll",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=i(X.prototype,"popupPullFishing",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=i(X.prototype,"contentMap",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=i(X.prototype,"gatheringMiniGameUI",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=i(X.prototype,"uITutorial",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=i(X.prototype,"map",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=X))||K));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIScreenExpedition.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./SimplePool.ts","./ExpeditionItem.ts","./UIExpeditionFoodItem.ts","./UINotifyExpedition.ts","./UIPopupManager.ts","./ExpeditionServiceApi.ts"],(function(e){"use strict";var t,i,o,n,r,a,d,l,s,c,u,f,h,p,m,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.defineProperty,n=e.assertThisInitialized,r=e.initializerDefineProperty},function(e){a=e.cclegacy,d=e._decorator,l=e.Node,s=e.Component},function(e){c=e.ResourcesManager},function(e){u=e.SimplePool},function(e){f=e.ExpeditionItem},function(e){h=e.UIExpeditionFoodItem},function(e){p=e.UINotifyExpedition},function(e){m=e.UIPopupManager},function(e){S=e.ExpeditionServiceApi}],execute:function(){var v,y,g,I,F,E,b,A,x,U,w,T,R;a._RF.push({},"6d892FfBYxFGqSE1+2Eu0T8","UIScreenExpedition",void 0);var _=d.ccclass,N=d.property;e("UIScreenExpedition",(v=_("UIScreenExpedition"),y=N(l),g=N(l),I=N(l),F=N(l),E=N(p),v((x=t((A=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),d=0;d<i;d++)a[d]=arguments[d];return t=e.call.apply(e,[this].concat(a))||this,o(n(t),"framSelected",void 0),o(n(t),"ItemArray",[]),r(n(t),"content",x,n(t)),r(n(t),"foodRoot",U,n(t)),r(n(t),"contentFood",w,n(t)),r(n(t),"prefabFood",T,n(t)),r(n(t),"uiNotifyExpedition",R,n(t)),o(n(t),"firstCall",!1),t}i(t,e);var a=t.prototype;return a.start=function(){},a.onEnable=function(){this.showExpedition()},a.delayShow=function(e){this.scheduleOnce(this.showExpedition,e)},a.showExpedition=function(){this.firstCall=!0,0==this.ItemArray.length&&(this.ItemArray=this.content.getComponentsInChildren(f)),this.deActiveAllFram(),this.framSelected=null,this.HideTool(!1),S.RequestLoadCage(this.initExpedition.bind(this)),S.RequestLoadUndeadFood(this.initUndeadFood.bind(this))},a.initExpedition=function(e){var t=JSON.parse(e);t.data.sort((function(e,t){return e._id<t._id?-1:e._id>t._id?1:0}));for(var i=0;i<this.ItemArray.length;i++){var o=this.ItemArray[i];if(i>=t.data.length)o.node.active=!1;else{var n=t.data[i];o.node.active=!0,console.log("Cage: ",i,null!=n.undead?n.undead.tokenId.toString():"",n._id),console.log(JSON.stringify(n)),o.refreshView(this,n)}}},a.initUndeadFood=function(e){u.releaseAll(this.contentFood);for(var t=JSON.parse(e),i=0;i<t.data.items.length;i++){var o=t.data.items[i],n=c.Instance.GetMaterialData(o.name);if(null!=n){if("Fish"===n.type){var r=u.get(h,this.prefabFood,this.contentFood);r.node.active=!0,r.Init(this,o.amount,o.name)}}else console.warn("error when find material: ",o)}},a.SelectExpedition=function(e){this.framSelected==e?(this.deActiveAllFram(),this.HideTool(!0)):(this.deActiveAllFram(),this.framSelected=e,this.HideTool(!0))},a.FeedBtnClickExpedition=function(e){this.deActiveAllFram(),this.framSelected=e,this.ShowTool(),e.SelectThis(!0)},a.deActiveAllFram=function(){this.framSelected=null;for(var e=0;e<this.ItemArray.length;e++)this.ItemArray[e].SelectThis(!1)},a.ShowTool=function(){this.foodRoot.active=!0},a.HideTool=function(e){this.foodRoot.active=!1},a.feedToUndead=function(e,t){if(null==this.framSelected)this.HideTool(!0);else{var i=this.framSelected.data.undead._id;console.log("feedToUndead",e,i),S.RequestFeedUndead(i,e,function(i){this.ApplyToolSuccess(i,e,t)}.bind(this))}},a.ApplyToolSuccess=function(e,t,i){var o=JSON.parse(e);0==o.status?this.framSelected.doAnimFeed(o.data,t,i,function(){S.RequestLoadUndeadFood(this.initUndeadFood.bind(this))}.bind(this)):m.Instance.ShowToast("Error",c.Instance.GetErrorMessage(o.status),0)},t}(s)).prototype,"content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(A.prototype,"foodRoot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(A.prototype,"contentFood",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(A.prototype,"prefabFood",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(A.prototype,"uiNotifyExpedition",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=A))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/btnGathering.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,i,s,r,a,c;return{setters:[function(t){n=t.inheritsLoose,e=t.defineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,r=t.Widget,a=t.tween,c=t.Component}],execute:function(){var h;i._RF.push({},"70856rzwrVMyZrvG/fc3k0X","btnGathering",void 0);var u=s.ccclass;s.property,t("BtnGathering",u("BtnGathering")(h=function(t){function i(){for(var n,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return n=t.call.apply(t,[this].concat(s))||this,e(o(n),"btnWidget",void 0),e(o(n),"tweenBtn",void 0),e(o(n),"baseDown",0),e(o(n),"baseUp",0),n}n(i,t);var s=i.prototype;return s.onLoad=function(){this.btnWidget=this.node.getComponent(r),this.baseDown=this.btnWidget.bottom,this.baseUp=this.baseDown+16},s.onEnable=function(){this.tweenBtn=a(this.btnWidget).to(.8,{bottom:this.baseUp}).to(.8,{bottom:this.baseDown}).union().repeatForever(),this.tweenBtn.start()},s.onDisable=function(){null!=this.tweenBtn&&this.tweenBtn.stop()},i}(c))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonAnim.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,s,a,o,l,c,r,h,u,d,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,a=e.defineProperty},function(e){o=e.cclegacy,l=e._decorator,c=e.CCFloat,r=e.Button,h=e.Toggle,u=e.Vec3,d=e.Node,g=e.tween,p=e.Component}],execute:function(){var f,C,T,w,v,b,S;o._RF.push({},"7105bq4HCxIUaVlEcIPifoH","ButtonAnim",void 0);var m=l.ccclass,y=l.property;e("ButtonAnim",(f=m("ButtonAnim"),C=y(c),T=y(c),f((b=t((v=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(s(t),"scaleAdd",b,s(t)),n(s(t),"timeScale",S,s(t)),a(s(t),"targetNode",void 0),a(s(t),"btnClick",void 0),a(s(t),"originScale",void 0),a(s(t),"targetScale",void 0),a(s(t),"isClicked",void 0),a(s(t),"scaleTween",void 0),t}i(t,e);var o=t.prototype;return o.onLoad=function(){var e=this;this.btnClick=this.node.getComponent(r),null==this.btnClick&&(this.btnClick=this.node.getComponent(h)),this.targetNode=this.btnClick.target,this.originScale=new u(this.targetNode.getScale());var t=new u(this.scaleAdd,this.scaleAdd,this.scaleAdd);this.targetScale=new u(this.originScale),this.targetScale.subtract(t),this.node.on(d.EventType.TOUCH_CANCEL,(function(t){e.Release()}),this),this.node.on(d.EventType.TOUCH_START,(function(t){e.Down()}),this),this.node.on(d.EventType.TOUCH_END,(function(t){e.Release()}),this)},o.onDisable=function(){null!=this.scaleTween&&this.scaleTween.stop(),this.targetNode.setScale(this.originScale)},o.Down=function(){0!=this.btnClick.interactable&&(null!=this.scaleTween&&this.scaleTween.stop(),this.isClicked=!0,this.scaleTween=g(this.targetNode).to(this.timeScale,{scale:this.targetScale},{easing:"elasticOut"}),this.scaleTween.start())},o.Release=function(){this.isClicked&&(null!=this.scaleTween&&this.scaleTween.stop(),this.scaleTween=g(this.targetNode).to(this.timeScale,{scale:this.originScale},{easing:"elasticOut"}),this.scaleTween.start(),this.isClicked=!1)},t}(p)).prototype,"scaleAdd",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.08}}),S=t(v.prototype,"timeScale",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.4}}),w=v))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZoomInOut.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var s,e,i,o,n,a,c,h,l,u,r,p;return{setters:[function(t){s=t.inheritsLoose,e=t.defineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,a=t.systemEvent,c=t.SystemEvent,h=t.Vec2,l=t.Vec3,u=t.Tween,r=t.tween,p=t.Component}],execute:function(){var g;o._RF.push({},"752a8omiypNUpRLLWmxe463","ZoomInOut",void 0);var d=n.ccclass;n.property,t("ZoomInOut",d("ZoomInOut")(g=function(t){function o(){for(var s,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return s=t.call.apply(t,[this].concat(n))||this,e(i(s),"scaleMap",void 0),e(i(s),"isScaling",void 0),e(i(s),"distanceOrigin",void 0),e(i(s),"distanceCur",void 0),e(i(s),"pos1",void 0),e(i(s),"pos2",void 0),s}s(o,t);var n=o.prototype;return n.start=function(){this.isScaling=!1,this.scaleMap=this.node.scale.x,console.log("start ZoomInOut"),a.on(c.EventType.MOUSE_WHEEL,this.onMouseWheel,this)},n.onDestroy=function(){a.off(c.EventType.MOUSE_WHEEL,this.onMouseWheel,this)},n.getDistance=function(t,s){var e=new h(t.x-s.x,t.y-s.y);return Math.sqrt(e.x*e.x+e.y*e.y)},n.onTouchStart=function(t){t.getTouches().length>=2&&(this.isScaling=!0,this.pos1=t.getTouches()[0].getLocation(),this.pos2=t.getTouches()[1].getLocation(),this.distanceOrigin=this.getDistance(this.pos1,this.pos2))},n.onTouchMove=function(t){2==t.getTouches().length&&this.isScaling&&(this.pos1=t.getTouches()[0].getLocation(),this.pos2=t.getTouches()[1].getLocation(),this.distanceCur=this.getDistance(this.pos1,this.pos2),this.addScale((this.distanceCur-this.distanceOrigin)/2e5),this.node.scale=new l(this.scaleMap,this.scaleMap,this.scaleMap))},n.onTouchEnd=function(t){2==t.getTouches().length&&(this.isScaling=!1)},n.onTouchCancel=function(t){2==t.getTouches().length&&(this.isScaling=!1)},n.addScale=function(t){this.scaleMap+=t,this.scaleMap>1.4&&(this.scaleMap=1.4)},n.subScale=function(t){this.scaleMap-=t,this.scaleMap<.5&&(this.scaleMap=.5)},n.onMouseWheel=function(t){console.log("onMouseWheel:"),t._scrollY>0?(this.addScale(.1),u.stopAllByTarget(this.node),r(this.node).to(.2,{scale:new l(this.scaleMap,this.scaleMap,this.scaleMap)},{easing:"linear"}).start()):t._scrollY<0&&(this.subScale(.1),u.stopAllByTarget(this.node),r(this.node).to(.2,{scale:new l(this.scaleMap,this.scaleMap,this.scaleMap)},{easing:"linear"}).start())},o}(p))||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/Interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"75a10nEMs9Jh5QM41hE54W/","Interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/MoveUVParticle.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,a,i,o,s,n,c,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.defineProperty},function(e){s=e.cclegacy,n=e._decorator,c=e.Material,l=e.v2,p=e.Component}],execute:function(){var u,f,m,v,h;s._RF.push({},"76cb0PujYxOJaoxfSAKJHpD","MoveUVParticle",void 0);var y=n.ccclass,d=n.property;e("MoveUVParticle",(u=y("MoveUVParticle"),f=d(c),u((h=t((v=function(e){function t(){for(var t,r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s))||this,a(i(t),"mat",h,i(t)),o(i(t),"params",l(0,0)),t}return r(t,e),t.prototype.update=function(e){this.params.x+=e;var t=this.mat.passes[0].getHandle("params");this.mat.passes[0].setUniform(t,this.params)},t}(p)).prototype,"mat",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/GatherEndPopup.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./PopUpBase.ts","./UIPopupManager.ts"],(function(e){"use strict";var t,n,i,r,a,o,l,s,c,p,u,f,h,b,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.defineProperty},function(e){o=e.cclegacy,l=e._decorator,s=e.Prefab,c=e.Node,p=e.Label,u=e.instantiate,f=e.Sprite},function(e){h=e.ResourcesManager},function(e){b=e.PopUpBase},function(e){m=e.UIPopupManager}],execute:function(){var d,g,v,P,y,w,I,M,L,z,B,E,k,G,S;o._RF.push({},"78074u2wx1K37hVUFNYk5Tu","GatherEndPopup",void 0);var C=l.ccclass,D=l.property;e("GatherEndPopup",(d=C("GatherEndPopup"),g=D(s),v=D(c),P=D(c),y=D(c),w=D(p),I=D(c),d((z=t((L=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(r(t),"itemPrefab",z,r(t)),i(r(t),"content",B,r(t)),i(r(t),"contentEmpty",E,r(t)),i(r(t),"contentMid",k,r(t)),i(r(t),"mockLabel",G,r(t)),i(r(t),"arrow",S,r(t)),a(r(t),"itemPrefabs",[]),t}n(t,e);var o=t.prototype;return o.Show=function(t){var n=this;e.prototype.OnShow.call(this),this.DisableItemPrefabs();var i=t.data.travelBagItems.length;if(0==i)this.mockLabel.string="Congratulations! You've got... nothing. Better luck next time (or not?)!",this.content.parent.parent.active=!1,this.contentMid.active=!1,this.contentEmpty.active=!0;else{this.mockLabel.string="Please claim your rewards. These items will be transferred to your Inventory after they've been claimed.",this.contentEmpty.active=!1,this.content.parent.parent.active=i>4,this.contentMid.active=i<=4;for(var r=function(e){var r=n.GetiIemPrefabs(e);r.setParent(i<=4?n.contentMid:n.content),r.children[1].getComponentInChildren(p).string=t.data.travelBagItems[e].amount;h.Instance.LoadMaterialSprite(t.data.travelBagItems[e].name,(function(e){r.children[0].getComponent(f).spriteFrame=e}))},a=0;a<i;a++)r(a)}this.arrow.active=i>4},o.DisableItemPrefabs=function(){for(var e=0;e<this.itemPrefabs.length;e++)this.itemPrefabs[e].active=!1},o.GetiIemPrefabs=function(e){var t;return e<this.itemPrefabs.length?t=this.itemPrefabs[e]:(t=u(this.itemPrefab),this.itemPrefabs.push(t)),t.active=!0,t},o.OnBtnClaim=function(){e.prototype.OnHide.call(this,(function(){m.Instance.LoadScene("0.Farm")}))},t}(b)).prototype,"itemPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(L.prototype,"content",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(L.prototype,"contentEmpty",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(L.prototype,"contentMid",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(L.prototype,"mockLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(L.prototype,"arrow",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=L))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIGarderingBag.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./Utility.ts","./GatheringServicesApi.ts","./PopUpBase.ts","./GarderingBagItem.ts"],(function(e){"use strict";var t,i,r,n,a,o,l,s,g,u,c,h,p,m,f,d,I,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.defineProperty},function(e){o=e.cclegacy,l=e._decorator,s=e.Label,g=e.Prefab,u=e.UITransform,c=e.Sprite,h=e.Node,p=e.instantiate},function(e){m=e.ResourcesManager},function(e){f=e.Utility},function(e){d=e.GatheringServicesApi},function(e){I=e.PopUpBase},function(e){v=e.GarderingBagItem}],execute:function(){var b,y,B,G,S,w,T,z,R,D,C,O,x,P,L,U,N,k,H,M,_,A,E,F,j,J,X;o._RF.push({},"79067XXEYZChbdzx3m0JOwI","UIGarderingBag",void 0);var Y=l.ccclass,Z=l.property;e("UIGarderingBag",(b=Y("UIGarderingBag"),y=Z(s),B=Z(s),G=Z(s),S=Z(g),w=Z(u),T=Z(c),z=Z(s),R=Z(s),D=Z(s),C=Z(s),O=Z(s),x=Z(h),b((U=t((L=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,r(n(t),"HeaderLv",U,n(t)),r(n(t),"HeaderLv1",N,n(t)),r(n(t),"Slot",k,n(t)),r(n(t),"itemPrefab",H,n(t)),r(n(t),"content",M,n(t)),r(n(t),"InfoIcon",_,n(t)),r(n(t),"itemName",A,n(t)),r(n(t),"Type",E,n(t)),r(n(t),"Rarity",F,n(t)),r(n(t),"Dropfrom",j,n(t)),r(n(t),"Des",J,n(t)),r(n(t),"RemoveBtn",X,n(t)),a(n(t),"GarderingBagItems",[]),a(n(t),"CurrentGarderingBagItems",void 0),a(n(t),"currentSelectIndex",-1),t}i(t,e);var o=t.prototype;return o.Show=function(){e.prototype.OnShow.call(this),this.GetTravelBagInfo(),this.OnToggle(!1,-1)},o.GetTravelBagInfo=function(){var e=this;d.GetTravelBagInfo((function(t){var i=d.CheckStatus(JSON.parse(t));null!=i&&e.InitTravelBagInfo(i)}),(function(e){}),!0)},o.InitTravelBagInfo=function(e){var t=e.data.maxSlotAmount,i=e.data.items.length;this.OnToggle(!1,-1),this.DisableGarderingBagItem(),this.CurrentGarderingBagItems=[];for(var r=0,n=0;n<i;n++){var a=this.GetGarderingBagItem(r);a.Init(r,this,e.data.items[n]),this.CurrentGarderingBagItems.push(a),r++}for(this.Slot.string=r.toString()+"/"+t.toString()+" SLOTS";r<t;){var o=this.GetGarderingBagItem(r);o.Init(r,this,null),this.CurrentGarderingBagItems.push(o),r++}var l=44+165*Math.ceil(t/4);this.content.height=l<900?900:l},o.DisableGarderingBagItem=function(){for(var e=0;e<this.GarderingBagItems.length;e++)this.GarderingBagItems[e].node.active=!1,this.GarderingBagItems[e].toggle.isChecked=!1},o.GetGarderingBagItem=function(e){var t;e<this.GarderingBagItems.length?t=this.GarderingBagItems[e]:(t=p(this.itemPrefab).getComponent(v),this.GarderingBagItems.push(t));return t.node.active=!0,t.node.setParent(this.content.node),t},o.OnCloseClick=function(){e.prototype.OnHide.call(this)},o.OnRemoveClick=function(){var e=this;if(this.currentSelectIndex>-1&&this.currentSelectIndex<this.GarderingBagItems.length){var t=this.GarderingBagItems[this.currentSelectIndex].json;null!=t&&d.RemoveItemTravelBag(t.name,t.amount,t._id,t.type,(function(t){var i=d.CheckStatus(JSON.parse(t));null!=i&&e.InitTravelBagInfo(i)}),(function(e){}))}},o.OnToggle=function(e,t){var i=this;if(e){var r=this.GarderingBagItems[t].json.name,n=m.Instance.GetMaterialData(r);if(null==n)return void this.showEmpty();this.currentSelectIndex=t,this.itemName.string=n.name,this.Type.string=n.type,this.Rarity.string=f.RarityToText(n.rarity),this.Dropfrom.string=n.dropFrom,this.Des.string=n.description,this.RemoveBtn.active=!0;m.Instance.LoadMaterialSprite(r,(function(e){i.InfoIcon.node.active=!0,i.InfoIcon.spriteFrame=e}))}else this.showEmpty()},o.showEmpty=function(){this.InfoIcon.node.active=!1,this.currentSelectIndex=-1,this.itemName.string="...",this.Type.string="...",this.Rarity.string="...",this.Dropfrom.string="...",this.Des.string="...",this.RemoveBtn.active=!1},t}(I)).prototype,"HeaderLv",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(L.prototype,"HeaderLv1",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(L.prototype,"Slot",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(L.prototype,"itemPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(L.prototype,"content",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(L.prototype,"InfoIcon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(L.prototype,"itemName",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(L.prototype,"Type",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(L.prototype,"Rarity",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(L.prototype,"Dropfrom",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(L.prototype,"Des",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(L.prototype,"RemoveBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=L))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/UINotifyExpeditionItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,o,s,a,r,h,p,c,l,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.defineProperty},function(t){a=t.cclegacy,r=t._decorator,h=t.UIOpacity,p=t.Vec3,c=t.UITransform,l=t.tween,d=t.Component}],execute:function(){var u,y,w,v,I;a._RF.push({},"7b347qRtN9HHLxaCkY5SSRV","UINotifyExpeditionItem",void 0);var f=r.ccclass,m=r.property;t("UINotifyExpeditionItem",(u=f("UINotifyExpeditionItem"),y=m(h),u((I=i((v=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(o(i),"opacityNode",I,o(i)),s(o(i),"tweenMoveIn",void 0),s(o(i),"tweenOpacity",void 0),s(o(i),"tweenHide",void 0),s(o(i),"available",!1),s(o(i),"indexPosition",-1),s(o(i),"uiTrans",void 0),i}e(i,t);var a=i.prototype;return a.initItem=function(){var t=this,i=this.uiTrans?this.uiTrans.height:120;this.opacityNode.opacity=0,this.node.position=new p(0,2*-i,0),this.available=!1,this.uiTrans=this.node.getComponent(c),null==this.uiTrans&&(this.node.addComponent(c),this.uiTrans=this.node.getComponent(c)),this.tweenOpacity=l(this.opacityNode).to(.3,{opacity:255}),this.tweenHide=l(this.opacityNode).to(.5,{opacity:0}).call((function(){t.node.position=new p(0,-i,0),t.available=!0}))},a.getIndex=function(){return this.indexPosition},a.onShow=function(t){void 0===t&&(t=0),null!=this.tweenMoveIn&&this.tweenMoveIn.stop(),null!=this.tweenOpacity&&this.tweenOpacity.stop(),null!=this.tweenHide&&this.tweenHide.stop(),this.indexPosition=t;var i=this.uiTrans?this.uiTrans.height:120;this.available=!1,this.tweenMoveIn=l(this.node).to(.5,{position:new p(0,t*i+i+10*t)}),this.tweenOpacity.start(),this.tweenMoveIn.start()},a.onHide=function(){null!=this.tweenMoveIn&&this.tweenMoveIn.stop(),null!=this.tweenOpacity&&this.tweenMoveIn.stop(),null!=this.tweenHide&&this.tweenHide.stop(),this.tweenHide.start(),this.indexPosition=-1},i}(d)).prototype,"opacityNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=v))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/TreasureOpenItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./Utility.ts"],(function(e){"use strict";var t,n,i,r,o,a,c,s,l,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Sprite,s=e.Label,l=e.Component},function(e){u=e.ResourcesManager},function(e){p=e.Utility}],execute:function(){var d,f,h,m,y,v,I;o._RF.push({},"7b6dcJK6AJPx5eAxM0ziEzY","TreasureOpenItem",void 0);var g=a.ccclass,S=a.property;e("TreasureOpenItem",(d=g("TreasureOpenItem"),f=S(c),h=S(s),d((v=t((y=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(r(t),"icon",v,r(t)),i(r(t),"amount",I,r(t)),t}return n(t,e),t.prototype.Init=function(e){var t=this;this.node.setScale(1,1,1),this.icon.node.active=!1;var n=e.type,i=e.data;if((i.includes("SAPLING")||i.includes("MAMA"))&&(i=p.SunflowerSvNameToResourceName(i)),null!=i&&"NOTHING"!=i){var r=function(e){t.icon.node.active=!0,t.icon.spriteFrame=e};"SAPLING"==n||"MAMA"==n?(this.icon.node.setScale(.4,.4,1),u.Instance.LoadPlant(i,r)):(this.icon.node.setScale(.75,.75,1),u.Instance.LoadMaterialSprite(i,r))}else console.log("not yet handle rewardType: "+n),this.node.active=!1;this.amount.string=e.amount},t}(l)).prototype,"icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(y.prototype,"amount",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/UINotifyConfirm.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(t){"use strict";var e,i,n,o,r,l,a,s,c,p,u,h,f,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty},function(t){l=t.cclegacy,a=t._decorator,s=t.Label,c=t.RichText,p=t.Node,u=t.Sprite,h=t.SpriteFrame,f=t.UITransform},function(t){C=t.PopUpBase}],execute:function(){var y,b,m,g,O,d,I,S,v,k,w,z,B,x,U;l._RF.push({},"7ee95GSLuNOxKRr1IJj/U+A","UINotifyConfirm",void 0);var F=a.ccclass,N=a.property;t("UINotifyConfirm",(y=F("UINotifyConfirm"),b=N(s),m=N(c),g=N(p),O=N(p),d=N(u),I=N(h),y((k=e((v=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l))||this,n(o(e),"title",k,o(e)),n(o(e),"text",w,o(e)),n(o(e),"BtnClose",z,o(e)),n(o(e),"BG",B,o(e)),n(o(e),"Icon",x,o(e)),n(o(e),"IconSpriteFrame",U,o(e)),r(o(e),"isCanClose",!1),r(o(e),"isCloseWhenOk",!1),r(o(e),"onOk",void 0),e}i(e,t);var l=e.prototype;return l.Show=function(e,i,n,o,r,l,a){t.prototype.OnShow.call(this),this.onOk=n,this.title.string=e,this.text.string="<color=#78462C>"+i+"</color>",this.BtnClose.active=o,this.BG.active=r,this.isCanClose=o,this.Icon.spriteFrame=this.IconSpriteFrame[l],this.isCloseWhenOk=a;var s=this.text.getComponent(f).contentSize.width,c=this.ScaleNode.getComponent(f),p=c.contentSize.clone();p.width=Math.max(s+150,780),c.setContentSize(p)},l.OnBtnCloseClick=function(){this.isCanClose&&t.prototype.OnHide.call(this)},l.OnBtnOkClick=function(){var e=this;this.isCanClose||this.isCloseWhenOk?t.prototype.OnHide.call(this,(function(){e.onOk()})):this.onOk()},e}(C)).prototype,"title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(v.prototype,"text",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(v.prototype,"BtnClose",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(v.prototype,"BG",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(v.prototype,"Icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(v.prototype,"IconSpriteFrame",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=v))||S));l._RF.pop()}}}));

System.register("chunks:///_virtual/FramTool.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UImanager.ts","./UIPopupManager.ts"],(function(t){"use strict";var n,e,i,o,a,s,r,l,c,u,h,p,m,d,f,g,y;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.defineProperty},function(t){s=t.cclegacy,r=t._decorator,l=t.Label,c=t.Node,u=t.Button,h=t.CCInteger,p=t.CCFloat,m=t.tween,d=t.v3,f=t.Component},function(t){g=t.UImanager},function(t){y=t.UIPopupManager}],execute:function(){var b,w,v,I,A,S,T,B,F,U,_,C,L;s._RF.push({},"7f431putx9JcJKw4WmTyNrN","FramTool",void 0);var z=r.ccclass,D=r.property;t("FramTool",(b=z("FramTool"),w=D(l),v=D(c),I=D(u),A=D(h),S=D(p),b((F=n((B=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return n=t.call.apply(t,[this].concat(s))||this,i(o(n),"numLabel",F,o(n)),i(o(n),"AddBtn",U,o(n)),i(o(n),"Btn",_,o(n)),i(o(n),"toolType",C,o(n)),i(o(n),"animDelay",L,o(n)),a(o(n),"usages",void 0),a(o(n),"_UIScreenFram",void 0),a(o(n),"tweenAnim",null),a(o(n),"isShowing",!1),n}e(n,t);var s=n.prototype;return s.Show=function(){this.isShowing||(this.isShowing=!0,this.node.active=!0,this.node.setPosition(this.node.position.x,-180,0),null!=this.tweenAnim&&this.tweenAnim.stop(),this.tweenAnim=m(this.node).delay(this.animDelay).to(.25,{position:d(this.node.position.x,0,0)},{easing:"backOut"}),this.tweenAnim.start())},s.Hide=function(t){var n=this;this.isShowing&&(this.isShowing=!1,t?(null!=this.tweenAnim&&this.tweenAnim.stop(),this.tweenAnim=m(this.node).delay(this.animDelay).to(.25,{position:d(this.node.position.x,-180,0)},{easing:"backIn"}).call((function(){n.node.active=!1})),this.tweenAnim.start()):this.node.active=!1)},s.Init=function(t,n){this._UIScreenFram=t,this.usages=n,n>0?(this.numLabel.string=n.toString(),this.numLabel.node.parent.active=!0,this.Btn.node.active=!0,this.AddBtn.active=!1):(this.numLabel.node.parent.active=!1,this.Btn.node.active=!1,this.AddBtn.active=!0)},s.OnBtnAddClick=function(){5==this.toolType?y.Instance.ShowToast("Infomation","This feature is coming soon!",2):g.Instance._UIScreenFram.OnBtnShopClick()},s.OnBtnClick=function(){this.usages>0?this._UIScreenFram.ToolUse(this.toolType):y.Instance.ShowToast("Infomation","You need to buy this tool to use",2)},n}(f)).prototype,"numLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=n(B.prototype,"AddBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(B.prototype,"Btn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(B.prototype,"toolType",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=n(B.prototype,"animDelay",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=B))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/TreePrefab.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utility.ts","./SoundController.ts","./PrefabController.ts","./ChoppingHpLabel.ts"],(function(e){"use strict";var t,o,i,n,r,s,a,l,h,c,u,p,_,d,T,E,f,m,C,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.defineProperty},function(e){s=e.cclegacy,a=e._decorator,l=e.UITransform,h=e.Sprite,c=e.Node,u=e.color,p=e.v3,_=e.tween,d=e.Component},function(e){T=e.Utility},function(e){E=e.SoundController,f=e.EnumSound},function(e){m=e.PrefabController,C=e.PrefabEnum},function(e){v=e.ChoppingHpLabel}],execute:function(){var g,P,R,L,S,w,b,A,F,y,M,I,k;s._RF.push({},"7f720p1EZ5HzKc8BVbqEvqE","TreePrefab",void 0);var G=a.ccclass,x=a.property;e("TreePrefab",(g=G("TreePrefab"),P=x(l),R=x(h),L=x(h),S=x(c),w=x(c),g((F=t((A=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,i(n(t),"UITransform",F,n(t)),i(n(t),"Tree",y,n(t)),i(n(t),"root",M,n(t)),i(n(t),"clickZone",I,n(t)),r(n(t),"json",void 0),r(n(t),"svIndex",-1),r(n(t),"_ChoppingManager",void 0),r(n(t),"heath",void 0),r(n(t),"rootHeath",void 0),i(n(t),"visual",k,n(t)),r(n(t),"treeColor",{Blue:["LARGE_TREE_winter_0","LARGE_TREE_winter_1","SMALL_TREE_winter_1"],Green:["LARGE_TREE_spring_0","LARGE_TREE_spring_1","SMALL_TREE_spring_2","SMALL_TREE_spring_3","SMALL_TREE_summer_0","SMALL_TREE_summer_2","SMALL_TREE_summer_3","SMALL_TREE_winter_2"],Pink:["SMALL_TREE_spring_0","SMALL_TREE_spring_1","SMALL_TREE_winter_0"],Red:["LARGE_TREE_autumn_0","LARGE_TREE_autumn_1","SMALL_TREE_autumn_0","SMALL_TREE_autumn_1","SMALL_TREE_autumn_2","SMALL_TREE_summer_1"]}),r(n(t),"selectecColorBlue",u("#84B1AB")),r(n(t),"selectecColorGreen",u("#8FC295")),r(n(t),"selectecColorPink",u("#BC8FC2")),r(n(t),"selectecColorRed",u("#C2998F")),r(n(t),"selectecColorRoot",u("#B9A18A")),r(n(t),"normalColor",u("#FFFFFF")),r(n(t),"tween1",void 0),r(n(t),"tween2",void 0),r(n(t),"tween3",void 0),t}o(t,e);var s=t.prototype;return s.Init=function(e,t,o,i,n){this.svIndex=i,this._ChoppingManager=n,this.json=o,null!=e&&(this.Tree.spriteFrame=e),null!=t&&(this.root.spriteFrame=t),null!=o?(this.root.node.active="SMALL_STUMP"==o.type,this.clickZone.active=!0,"LARGE_TREE"==o.type?(this.heath=7,this.Tree.node.setScale(1,1,1),this.Tree.node.setPosition(6,-85,0),this.clickZone.setPosition(6,-85,0),this.clickZone.setScale(1.7,1.7,1),this.root.node.setScale(1,1,1),this.root.node.setPosition(-2,-15,0)):(this.heath=5,this.Tree.node.setScale(.5,.5,1),this.Tree.node.setPosition(0,-8,0),this.clickZone.setPosition(0,-8,0),this.clickZone.setScale(1,1,1),this.root.node.setScale(.65,.65,1),this.root.node.setPosition(-2,30,0)),this.rootHeath=7):(this.root.node.active=!1,this.clickZone.active=!1),this.Tree.node.setRotationFromEuler(0,0,0),this.Tree.node.active=!this.root.node.active},s.OnDead=function(){this.heath=0,this.root.node.active=!0,this.Tree.node.active=!1},s.OnTreeStumpDead=function(){this.rootHeath=0,this.root.node.active=!1,this.Tree.node.active=!1,this.clickZone.active=!1},s.OnClick=function(){this._ChoppingManager.OnTreeClick(this)},s.OnChop=function(){if(this.svIndex>-1){E.Instance.PlaySound(f.UI_SFX_Cut_Tree_2),null!=this.tween1&&this.tween1.stop(),null!=this.tween2&&this.tween2.stop();var e=null;if(this.heath>0)(e=m.Instance.GetPrefab(this.FxTreeEnum())).active=!0,e.setParent(this.visual),"LARGE_TREE"==this.json.type?(e.setScale(2,2,2),e.setPosition(0,19,0),this.Tree.node.setPosition(p(6,-85,0)),this.tween1=_(this.Tree.node).to(.12,{position:p(-10,-85,0)}).to(.12,{position:p(6,-85,0)}).union().repeat(2),this.tween1.start(),this.Tree.node.setRotationFromEuler(p(0,0,0)),this.tween2=_(this.Tree.node).to(.12,{eulerAngles:p(-15,10,2)}).to(.12,{eulerAngles:p(0,0,0)}).union().repeat(2),this.tween2.start()):(e.setScale(1,1,1),e.setPosition(0,42,0),this.Tree.node.setPosition(p(0,-8,0)),this.tween1=_(this.Tree.node).to(.12,{position:p(-6,-8,0)}).to(.12,{position:p(0,-8,0)}).union().repeat(2),this.tween1.start(),this.Tree.node.setRotationFromEuler(p(0,0,0)),this.tween2=_(this.Tree.node).to(.12,{eulerAngles:p(-15,10,2)}).to(.12,{eulerAngles:p(0,0,0)}).union().repeat(2),this.tween2.start());else{if(!(this.rootHeath>0))return;(e=m.Instance.GetPrefab(C.Chopping_Root)).active=!0,e.setParent(this.visual),e.setScale(1,1,1),"LARGE_TREE"==this.json.type?(e.setPosition(0,19,0),this.root.node.setPosition(p(-2,-15,0)),this.tween1=_(this.root.node).to(.12,{position:p(-18,-15,0)}).to(.1,{position:p(-2,-15,0)}).union().repeat(2),this.tween1.start()):(e.setPosition(0,42,0),this.root.node.setPosition(p(0,30,0)),this.tween1=_(this.root.node).to(.12,{position:p(-12,30,0)}).to(.1,{position:p(0,30,0)}).union().repeat(2),this.tween1.start())}T.PlayParticle(e)}},s.spawnHpFx=function(e){var t=m.Instance.GetPrefab(C.Chopping_HpLabel),o=t.getComponent(v);t.active=!0;var i=0;0==this.heath||(i=7==this.heath?190:50),t.setParent(this.node),t.setScale(1,1,1),t.setPosition(0,40+i,0),o.uIOpacity.opacity=255,o.label.string=e,_(t).to(.5,{position:p(0,110+i,0)},{easing:"cubicOut"}).start(),_(o.uIOpacity).delay(.3).to(.2,{opacity:0}).start()},s.Select=function(){var e,t=this._ChoppingManager.FXSelect;t.active=!0,t.setParent(this.visual),t.setScale(1.5,1.5,1),0==this.heath?t.setPosition(10,150,0):7==this.heath?t.setPosition(10,350,0):t.setPosition(10,210,0),T.PlayParticle(t),null!=this.tween3&&this.tween3.stop();var o=this.Tree,i={r:(e=0==this.heath?"SMALL_TREE_0"==(o=this.root).spriteFrame.name?this.selectecColorRoot:this.selectecColorBlue:this.selectedColor()).r,g:e.g,b:e.b};this.tween3=_(o).to(.4,{color:i}).to(.4,{color:{r:255,g:255,b:255}}).union().repeatForever(),this.tween3.start()},s.DeSelect=function(){var e=this._ChoppingManager.FXSelect;e.active=!1,e.setParent(this._ChoppingManager.Temp),null!=this.tween3&&this.tween3.stop(),this.Tree.color=this.normalColor,this.root.color=this.normalColor},s.FxTreeEnum=function(){var e=this,t=this.treeColor.Blue.findIndex((function(t){return t==e.Tree.spriteFrame.name}));return t>-1?C.Chopping_Blue:(t=this.treeColor.Green.findIndex((function(t){return t==e.Tree.spriteFrame.name})))>-1?C.Chopping_Green:(t=this.treeColor.Pink.findIndex((function(t){return t==e.Tree.spriteFrame.name})))>-1?C.Chopping_Pink:(t=this.treeColor.Red.findIndex((function(t){return t==e.Tree.spriteFrame.name})))>-1?C.Chopping_Red:(console.log("can't find color FX for tree"),C.Chopping_Blue)},s.selectedColor=function(){var e=this,t=this.treeColor.Blue.findIndex((function(t){return t==e.Tree.spriteFrame.name}));return t>-1?this.selectecColorBlue:(t=this.treeColor.Green.findIndex((function(t){return t==e.Tree.spriteFrame.name})))>-1?this.selectecColorGreen:(t=this.treeColor.Pink.findIndex((function(t){return t==e.Tree.spriteFrame.name})))>-1?this.selectecColorPink:(t=this.treeColor.Red.findIndex((function(t){return t==e.Tree.spriteFrame.name})))>-1?this.selectecColorRed:(console.log("can't find selected Color for tree"),this.selectecColorBlue)},t}(d)).prototype,"UITransform",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(A.prototype,"Tree",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(A.prototype,"root",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(A.prototype,"clickZone",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(A.prototype,"visual",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=A))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/GatheringServicesApi.ts",["cc","./ResourcesManager.ts","./ConfigApi.ts","./Utility.ts","./UIPopupManager.ts","./ResHttp.ts"],(function(n){"use strict";var t,e,_,I,R,i,A;return{setters:[function(n){t=n.cclegacy},function(n){e=n.ResourcesManager},function(n){_=n.ConfigApi},function(n){I=n.GuidEncrypt},function(n){R=n.UIPopupManager,i=n.LoadingType},function(n){A=n.ResHttp}],execute:function(){var u,P;n("GatheringServicesApi",void 0),t._RF.push({},"7f8474e7PxI7bPN1ruTcPGW","GatheringServicesApi",void 0),(P=u||(u=n("GatheringServicesApi",{}))).LEVEL_UP_GATHER=function(n,t,e){var I={type:n.toUpperCase()};A.GetRequest(_.API_FARM_3+_.LEVEL_UP_GATHER,I,t,e)},P.STAMINA_PRICE=function(n,t){A.GetRequest(_.API_FARM_3+_.STAMINA_PRICE,null,n,t,!1)},P.BUY_STAMINA=function(n,t){A.PostRequest(_.API_FARM_3+_.BUY_STAMINA,null,n,t)},P.GetWorldMap=function(n,t){A.GetRequest(_.API_FARM_3+_.GET_WORLD_MAP,null,n,t)},P.ENTER_GATHER=function(n,t){A.GetRequest(_.API_FARM_3+_.ENTER_GATHER,null,n,t,!1)},P.END_ROUTE=function(n,t){A.PostRequest(_.API_FARM_3+_.END_ROUTE,null,n,t)},P.FORCE_SKIP_CURRENT_ROUTE=function(n,t){A.PostRequest(_.API_FARM_3+_.FORCE_SKIP_CURRENT_ROUTE,null,n,t)},P.StartMiniGame=function(n,t,e){var I={miniGameIndex:n};A.PostRequest(_.API_FARM_3+_.START_MINI_GAME,I,t,e)},P.StartMystery=function(n,t,e){var I={miniGameIndex:n};A.PostRequest(_.API_FARM_3+_.START_MYSTERY,I,t,e)},P.StartTresure=function(n,t,e){var I={miniGameIndex:n};A.PostRequest(_.API_FARM_3+_.START_TRESURE,I,t,e)},P.CheckStatus=function(n){if(null==n.status)return R.Instance.ShowToast("Failed","Load Data Failed",0),null;var t=n.status;return 0!=t?1010==t?n:(35==t||1132==t||1053==t||R.Instance.ShowToast("Error",e.Instance.GetErrorMessage(t),0),null):n},P.CHOPPING_GET_MAP=function(n,t,e){var I={miniGameId:n};A.GetRequest(_.API_FARM_3+_.CHOPPING_GET_MAP,I,t,e)},P.CHOPPING_TREE_V2=function(n,t,e,I){var R={treeIndex:n,bar:t};A.PostRequest(_.API_FARM_3+_.CHOPPING_TREE_V2,R,e,I,!0,i.noAnim)},P.CHOPPING_TREE=function(n,t,e,I){var R={treeIndex:n};A.PostRequest(_.API_FARM_3+_.CHOPPING_TREE,R,e,I,!0,i.noAnim)},P.CHOPPING_SKIP=function(n,t){A.PostRequest(_.API_FARM_3+_.CHOPPING_SKIP,null,n,t)},P.CHOPPING_FINISH=function(n,t){A.PostRequest(_.API_FARM_3+_.CHOPPING_FINISH,null,n,t)},P.CHOPPING_GET_REWARD=function(n,t,e){var I={rewardToken:n};A.PostRequest(_.API_FARM_3+_.CHOPPING_GET_REWARD,I,t,e,!1)},P.Fishing_GetMap=function(n,t,e){var I={miniGameId:n};A.GetRequest(_.API_FARM_3+_.FISHING_GET_MAP,I,t,e)},P.Fishing_Finish=function(n,t){A.PostRequest(_.API_FARM_3+_.FISHING_FINISH,null,n,t)},P.Fishing_GetPull=function(n,t,e,R,u){var P={miniGameId:n,expId:t,dropId:I.encrypt(e)};A.GetRequest(_.API_FARM_3+_.FISHING_PULL,P,R,u,!0,i.noAnim)},P.Fishing_GetBeginPull=function(n,t,e){var I={expId:n};A.PostRequest(_.API_FARM_3+_.FISHING_BEGIN_PULL,I,t,e,!0,i.noAnim)},P.Fishing_Drop=function(n,t,e){var I={miniGameId:n};A.PostRequest(_.API_FARM_3+_.FISHING_DROP,I,t,e,!0,i.noAnim)},P.Fishing_Skip=function(n,t){A.PostRequest(_.API_FARM_3+_.FISHING_SKIP_MAP,null,n,t)},P.Fishing_Catch=function(n,t,e,I){var R={items:[{id:t,name:n,amount:1}]};A.PostRequest(_.API_FARM_3+_.FISHING_CATCH,R,e,I,!0,i.noAnim)},P.Mining_GetMap=function(n,t,e){var I={miniGameId:n};A.GetRequest(_.API_FARM_3+_.MINING_GET_MAP,I,t,e)},P.Mining_Shoot=function(n,t){A.GetRequest(_.API_FARM_3+_.MINING_SHOOT,null,n,t,!0,i.noAnim)},P.MINING_GET_REWARD=function(n,t,e,R,u){var P={mapId:n,objectId:t,token:I.encrypt(e)};A.GetRequest(_.API_FARM_3+_.MINING_GET_REWARD,P,R,u,!1,i.noAnim)},P.MINING_ADD_TRAVEL_BAG=function(n,t,e,I){var R=[],u={name:n,amount:"1",guid:t};R.push(u);var P={items:R};A.PostRequest(_.API_FARM_3+_.MINING_ADD_TRAVEL_BAG,P,e,I,!0,i.noAnim)},P.MINING_START=function(n,t){A.GetRequest(_.API_FARM_3+_.MINING_START,null,n,t,!0,i.noAnim)},P.MINING_SKIP=function(n,t){A.GetRequest(_.API_FARM_3+_.MINING_SKIP,null,n,t)},P.MINING_FINISH=function(n,t){A.GetRequest(_.API_FARM_3+_.MINING_FINISH,null,n,t)},P.GetTravelBagInfo=function(n,t,e){A.GetRequest(_.API_FARM_3+_.TRAVEL_BAG,null,n,t,e)},P.RemoveItemTravelBag=function(n,t,e,I,R,i){var u={name:n,amount:t,_id:e,type:I};A.PostRequest(_.API_FARM_3+_.TRAVEL_BAG_REMOVE_ITEM,u,R,i)},P.ReportBug=function(n,t,e){A.PostRequest(_.API_FARM_3+_.REPORT_BUG,n,t,e)},P.OPEN_TREASURE=function(n,t,e,I){var R={treasureName:n,amount:t};A.PostRequest(_.API_FARM_3+_.OPEN_TREASURE,R,e,I)},t._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupPullFishing.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts"],(function(i){"use strict";var e,t,n,s,o,l,r,h,a,u,c,p,f,d,g,b,F,x,P,m,y,w;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,s=i.assertThisInitialized,o=i.defineProperty},function(i){l=i.cclegacy,r=i._decorator,h=i.Node,a=i.UITransform,u=i.Sprite,c=i.SpriteFrame,p=i.CircleCollider2D,f=i.BoxCollider2D,d=i.Size,g=i.Contact2DType,b=i.systemEvent,F=i.SystemEventType,x=i.Vec3,P=i.randomRangeInt,m=i.tween,y=i.Component},function(i){w=i.UserModel}],execute:function(){var G,R,C,S,v,E,T,B,z,I,D,_,U,N,M,H,L,O,V,A,X,Y,j,k,Q;l._RF.push({},"80d93QC2bFGOrrdwNOcnNbU","UIPopupPullFishing",void 0);var q=r.ccclass,J=r.property;i("UIPopupPullFishing",(G=q("UIPopupPullFishing"),R=J(h),C=J(h),S=J(a),v=J(u),E=J(c),T=J(c),B=J(c),z=J(c),I=J(h),D=J(h),_=J(u),G((M=e((N=function(i){function e(){for(var e,t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return e=i.call.apply(i,[this].concat(l))||this,n(s(e),"nodeEffect",M,s(e)),n(s(e),"nodeBox",H,s(e)),n(s(e),"boxBg",L,s(e)),n(s(e),"boxFollowFish",O,s(e)),n(s(e),"sfRed",V,s(e)),n(s(e),"sfGreen",A,s(e)),n(s(e),"sfYellow",X,s(e)),n(s(e),"sfPurple",Y,s(e)),n(s(e),"boxFish",j,s(e)),n(s(e),"boxRun",k,s(e)),n(s(e),"boxFillEnergy",Q,s(e)),o(s(e),"isValidate",!1),o(s(e),"isBeginGame",!1),o(s(e),"isPulling",!1),o(s(e),"speedProcessUp",0),o(s(e),"speedProcessDown",0),o(s(e),"speedGreen",0),o(s(e),"ratioProcess",0),o(s(e),"manager",null),o(s(e),"boxRunTran",null),o(s(e),"boxFillTran",null),o(s(e),"boxFollowFishTran",null),o(s(e),"fishCollider",void 0),o(s(e),"runCollider",void 0),o(s(e),"minXPull",0),o(s(e),"maxXPull",0),o(s(e),"boxGreen",0),o(s(e),"ratioBoxGreen",0),o(s(e),"ratioSpeedGreen",0),o(s(e),"ratioSpeedFill",0),o(s(e),"configRarity",null),o(s(e),"bufferTimeConfig",0),o(s(e),"isFinish",!1),o(s(e),"fishingRarity",""),o(s(e),"numSame",0),o(s(e),"dirOld",0),o(s(e),"bufferTime",0),e}t(e,i);var l=e.prototype;return l.show=function(i){var e=this;this.manager=i,this.isFinish=!1,this.boxFillTran=this.boxFillEnergy.node.getComponent(a),this.boxFollowFishTran=this.boxFollowFish.getComponent(a),this.boxRunTran=this.boxRun.getComponent(a),this.fishCollider=this.boxFish.getComponent(p),this.runCollider=this.boxRun.getComponent(f),this.fishCollider.apply();var t=w.userFishing.getMap.rarityFishingUI;this.fishingRarity=w.userFishing.getDrop.rarityFishing,this.ratioBoxGreen=0,this.ratioSpeedFill=0,this.ratioSpeedGreen=0,w.userGatherData.FISHING_level.level>=1&&w.userGatherData.FISHING_level.level<=6?"RARE"!=this.fishingRarity&&"EPIC"!=this.fishingRarity||(this.ratioBoxGreen=t.percentProcessingBar["LEVEL_"+w.userGatherData.FISHING_level.level].processBar):7==w.userGatherData.FISHING_level.level?"RARE"==this.fishingRarity&&(this.ratioBoxGreen=t.percentProcessingBar["LEVEL_"+w.userGatherData.FISHING_level.level].processBar):8==w.userGatherData.FISHING_level.level&&(this.ratioBoxGreen=t.percentProcessingBar["LEVEL_"+w.userGatherData.FISHING_level.level].processBar),w.userGatherData.FISHING_level.level>0&&(this.ratioSpeedFill=t.percentProcessingBar["LEVEL_"+w.userGatherData.FISHING_level.level].speedFill,this.ratioSpeedGreen=t.percentProcessingBar["LEVEL_"+w.userGatherData.FISHING_level.level].speedGreen),this.configRarity=t[this.fishingRarity],this.bufferTimeConfig=this.configRarity.bufferTime,this.boxGreen=this.configRarity.heightGreen*(1+this.ratioBoxGreen/100),this.speedGreen=this.configRarity.speedGreen*(1+this.ratioSpeedGreen/100),this.speedProcessDown=this.configRarity.speedDown/100*this.configRarity.speedFill/956*(1+this.ratioSpeedFill/100),this.speedProcessUp=this.configRarity.speedFill/956*(1+this.ratioSpeedFill/100),this.boxRunTran.contentSize=new d(this.boxGreen,this.boxRunTran.contentSize.height),this.runCollider.size=new d(this.boxGreen-this.fishCollider.radius,this.boxRunTran.contentSize.height),i.scroll.enabled=!1,this.fishCollider.on(g.BEGIN_CONTACT,this.onBeginContact,this),this.fishCollider.on(g.END_CONTACT,this.onEndContact,this),this.minXPull=-this.boxBg.contentSize.width/2+this.boxRunTran.contentSize.width/2,this.maxXPull=this.boxBg.contentSize.width/2-this.boxRunTran.contentSize.width/2,b.on(F.TOUCH_START,(function(i,t){e.BeginPull()}),this),b.on(F.TOUCH_END,(function(i,t){e.EndPull()}),this),b.on(F.TOUCH_CANCEL,(function(i,t){e.EndPull()}),this),this.node.active=!0,this.isBeginGame=!1,this.ratioProcess=.33,this.nodeEffect.setPosition(this.ratioProcess*this.boxFillTran.contentSize.width,this.nodeEffect.position.y,0),this.boxFillEnergy.fillRange=this.ratioProcess,this.runFish(),this.scheduleOnce(function(){this.isBeginGame=!0}.bind(this),1)},l.UpdatePulling=function(i){var e=this.boxRun.position.x;this.isPulling?e+=i*this.speedGreen:e-=i*this.speedGreen,e>=this.maxXPull&&(e=this.maxXPull),e<=this.minXPull&&(e=this.minXPull),this.boxRun.position=new x(e,this.boxRun.position.y,0)},l.onMouseDown=function(i){console.log("onMouseDown"),this.BeginPull()},l.onMouseMove=function(i){console.log("onMouseMove"),this.EndPull()},l.onMouseUp=function(i){},l.BeginPull=function(){0==this.isPulling&&(this.isPulling=!0)},l.EndPull=function(){console.log("EndPull"),1==this.isPulling&&(this.isPulling=!1)},l.hide=function(){this.node.active=!1},l.onBeginContact=function(i,e,t){console.log("onBEginContact"),"COMMON"==this.fishingRarity?this.boxFollowFish.spriteFrame=this.sfGreen:"RARE"==this.fishingRarity?this.boxFollowFish.spriteFrame=this.sfYellow:this.boxFollowFish.spriteFrame=this.sfPurple,this.isValidate=!0},l.onEndContact=function(i,e,t){console.log("onEndContact"),this.boxFollowFish.spriteFrame=this.sfRed,this.isValidate=!1},l.update=function(i){1!=this.isFinish&&(this.UpdatePulling(i),this.UpdateProcess(i),this.UpdateFollowFish(i))},l.UpdateFollowFish=function(i){this.boxFollowFishTran.setContentSize(480+this.boxFish.position.x,this.boxFollowFishTran.contentSize.height)},l.runFish=function(){var i=this,e=P(this.configRarity.distanceFish[0],this.configRarity.distanceFish[1]),t=this.configRarity.timeFish,n=-this.boxBg.contentSize.width/2+this.boxRunTran.contentSize.width/2,s=this.boxBg.contentSize.width/2-this.boxRunTran.contentSize.width/2,o=this.boxFish.position.x,l=0==P(0,2)?-1:1;s-o<e?l=-1:o-n<e&&(l=1),this.dirOld==l&&(this.numSame++,this.numSame>=3&&(l*=-1,this.numSame=0)),this.dirOld=l;var r=o+l*e;r=Math.min(r,s),r=Math.max(r,n),m(this.boxFish).to(t,{position:new x(r,0,0)},{easing:"linear"}).call((function(){i.runFish()})).start()},l.UpdateProcess=function(i){this.isBeginGame&&(this.isValidate?(this.bufferTime=this.bufferTimeConfig,this.ratioProcess+=i*this.speedProcessUp):(this.bufferTime-=i,this.bufferTime<=0&&(this.ratioProcess-=i*this.speedProcessDown)),this.ratioProcess>=1?(this.ratioProcess=1,this.CompleteFishing(!0)):this.ratioProcess<=0&&(this.ratioProcess=0,this.CompleteFishing(!1)),this.nodeEffect.setPosition(this.ratioProcess*this.boxFillTran.contentSize.width,this.nodeEffect.position.y,0),this.boxFillEnergy.fillRange=this.ratioProcess)},l.CompleteFishing=function(i){this.isFinish=!0,this.hide(),this.manager.CompleteFishing(i)},e}(y)).prototype,"nodeEffect",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(N.prototype,"nodeBox",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(N.prototype,"boxBg",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(N.prototype,"boxFollowFish",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(N.prototype,"sfRed",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(N.prototype,"sfGreen",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(N.prototype,"sfYellow",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(N.prototype,"sfPurple",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(N.prototype,"boxFish",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(N.prototype,"boxRun",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(N.prototype,"boxFillEnergy",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=N))||U));l._RF.pop()}}}));

System.register("chunks:///_virtual/UIScreenFram.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./ConfigApi.ts","./UserModel.ts","./FarmingServicesApi.ts","./Utility.ts","./GatheringServicesApi.ts","./Filter.ts","./FarmPage.ts","./UIScreenExpedition.ts","./FramItem.ts","./FramTool.ts","./UIPopupChangeLog.ts","./UITutorial.ts","./UImanager.ts","./UIPopupManager.ts"],(function(t){"use strict";var e,a,i,r,n,o,s,l,c,u,h,m,f,p,d,g,S,F,b,v,I,y,w,A,L,T,E,C,P,M,B,N,U;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.defineProperty,r=t.assertThisInitialized,n=t.initializerDefineProperty},function(t){o=t.cclegacy,s=t._decorator,l=t.Node,c=t.Sprite,u=t.ScrollView,h=t.Label,m=t.UIOpacity,f=t.Prefab,p=t.instantiate,d=t.tween,g=t.v3,S=t.Component},function(t){F=t.ResourcesManager},function(t){b=t.ConfigApi},function(t){v=t.UserModel},function(t){I=t.FarmingServicesApi},function(t){y=t.Utility},function(t){w=t.GatheringServicesApi},function(t){A=t.Filter},function(t){L=t.FarmPage},function(t){T=t.UIScreenExpedition},function(t){E=t.FramItem},function(t){C=t.FramTool},function(t){P=t.UIPopupChangeLog},function(t){M=t.UITutorial},function(t){B=t.UImanager},function(t){N=t.UIPopupManager,U=t.LoadingType}],execute:function(){var O,R,z,q,H,x,k,_,G,J,D,W,j,Q,V,K,X,Y,Z,$,tt,et,at,it,rt,nt,ot,st,lt,ct,ut,ht,mt,ft,pt,dt,gt,St,Ft,bt,vt,It,yt,wt,At,Lt,Tt,Et,Ct;o._RF.push({},"851125nQ09Nw4u9vTL1IaEc","UIScreenFram",void 0);var Pt=s.ccclass,Mt=s.property;t("UIScreenFram",(O=Pt("UIScreenFram"),R=Mt(l),z=Mt(C),q=Mt(L),H=Mt(c),x=Mt(u),k=Mt(A),_=Mt(h),G=Mt(h),J=Mt(l),D=Mt(l),W=Mt(m),j=Mt(P),Q=Mt(l),V=Mt(l),K=Mt(l),X=Mt(l),Y=Mt(l),Z=Mt(l),$=Mt(l),tt=Mt(l),et=Mt(f),at=Mt(h),it=Mt(M),O((ot=e((nt=function(t){function e(){for(var e,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(r(e),"expedition",void 0),i(r(e),"FramItemArray",[]),n(r(e),"ContentParent",ot,r(e)),n(r(e),"FramToolArray",st,r(e)),n(r(e),"farmPage",lt,r(e)),n(r(e),"boxNewFarmSprite",ct,r(e)),n(r(e),"farmScrollContent",ut,r(e)),n(r(e),"filter",ht,r(e)),n(r(e),"filterLable",mt,r(e)),i(r(e),"framSelected",-1),n(r(e),"LE_Label",ft,r(e)),i(r(e),"LE_num",0),n(r(e),"BtnHarvestAll",pt,r(e)),n(r(e),"Menu",dt,r(e)),n(r(e),"MenuUIOpacity",gt,r(e)),n(r(e),"UIPopupChangeLogNode",St,r(e)),n(r(e),"BlockHeader",Ft,r(e)),n(r(e),"LeImg",bt,r(e)),n(r(e),"farmNode",vt,r(e)),n(r(e),"expeditionNode",It,r(e)),n(r(e),"btnFarm",yt,r(e)),n(r(e),"btnExpedition",wt,r(e)),n(r(e),"newFarmBtn",At,r(e)),n(r(e),"filterFarmBtn",Lt,r(e)),n(r(e),"FramItemPrefab",Tt,r(e)),n(r(e),"staminaLabel",Et,r(e)),n(r(e),"UITutorialBarn",Ct,r(e)),i(r(e),"totalHarvestable",void 0),i(r(e),"filters",{farming:0,new:1,paused:2,cancelled:3,removed:4,add:1e3}),i(r(e),"tweenLE",void 0),e}a(e,t);var o=e.prototype;return o.start=function(){var t=this;this.farmPage.toPage(0);this.filter.Init((function(){t.OnFilterSave()}),0)},o.getExpedition=function(){return null==this.expedition&&(this.expedition=this.expeditionNode.getComponent(T)),this.expedition},o.ShowChangeLog=function(t){t?this.UIPopupChangeLogNode.Show():this.UIPopupChangeLogNode.Hide(),this.BlockHeader.active=t},o.BlockHeaderClick=function(){this.ShowChangeLog(!1)},o.ShowScreenFarm=function(){if(0==this.FramItemArray.length)for(var t=0;t<b.LIMIT_PAGE;t++){var e=p(this.FramItemPrefab);e.setParent(this.ContentParent),e.setScale(1,1,1),e.active=!1;var a=e.getComponent(E);this.FramItemArray.push(a)}this.RequestFarm(),this.RequestMyTools(),this.RequestLoadFarmsStats(),this.RequestStaminaPrice(),this.Menu.active=!1},o.RequestStaminaPrice=function(){var t=this;w.STAMINA_PRICE(function(e){var a=JSON.parse(e);0==a.status?(v.userStanimaInfo=a.data,t.staminaLabel.string=a.data.currentStamina+"/"+a.data.maxStamina):N.Instance.ShowToast("Error",F.Instance.GetErrorMessage(a.status),0)}.bind(this),(function(t){}))},o.RequestFarm=function(){var t=this;this.farmScrollContent.stopAutoScroll(),this.farmScrollContent.scrollToLeft(),this.farmPage.DisableControll(),this.HideTool(!1),this.deActiveAllFram();I.RequestFarm(this.farmPage.currentPage,(function(e){var a=JSON.parse(e);t.LoadFram(a)}),(function(t){}),!0)},o.RequestLoadFarmsApply=function(){var t=this;N.Instance.Loading(!0,U.noAnim),I.RequestFarm(this.farmPage.currentPage,(function(e){var a=JSON.parse(e);t.LoadFarmsApply(a),N.Instance.Loading(!1)}),(function(t){N.Instance.Loading(!1)}),!1)},o.RequestMyTools=function(){var t=this;I.RequestMyTools((function(e){var a=JSON.parse(e);t.initToolData(a)}),(function(t){}))},o.LoadFram=function(t){var e=this;if(0==t.status){if(0==t.data.length)F.Instance.LoadSeasonNewBtn(v.SeasonData.season,(function(t){e.boxNewFarmSprite.spriteFrame=t,e.boxNewFarmSprite.node.parent.active=!0})),this.farmScrollContent.node.active=!1;else{this.boxNewFarmSprite.node.parent.active=!1,this.farmScrollContent.node.active=!0;for(var a=this.FilterListAddPlant(t.data),i=0;i<this.FramItemArray.length;i++)i<a.length?this.FramItemArray[i].InitData(a[i],this,i):i==a.length?this.FramItemArray[i].ShowNewFarmBnt():this.FramItemArray[i].node.active=!1}var r=function(){e.GotoPage()};null!=t.total&&t.total>0?this.farmPage.Init(r,t.total,b.LIMIT_PAGE):this.farmPage.Init(r,1,b.LIMIT_PAGE)}},o.FilterListAddPlant=function(t){for(var e=this,a=[],i=0;i<t.length;i++)a.push(t[i]);return a.sort((function(t,a){var i=t.stage,r=a.stage;return null==t.plant&&(i="add"),null==a.plant&&(r="add"),null==e.filters[i]&&(i="add"),null==e.filters[r]&&(r="add"),e.filters[i]-e.filters[r]})),a},o.LoadFarmsApply=function(t){if(0==t.status){if(t.data.length<=0)return void(t.total>0&&this.farmPage.currentPage>0?this.farmPage.ChangePage(-1):this.LoadFram(t));if(-1!=this.framSelected){for(var e=0;e<t.data.length;e++){var a=t.data[e];if(this.FramItemArray[this.framSelected].Jdata._id==a._id)return void this.FramItemArray[this.framSelected].UpdateStatus(a)}this.FramItemArray[this.framSelected].node.active=!1}this.ShowTool()}},o.deActiveAllFram=function(){this.framSelected=-1;for(var t=0;t<this.FramItemArray.length;t++)this.FramItemArray[t].SelectThis(!1)},o.SelectFram=function(t){this.framSelected==t?(this.deActiveAllFram(),this.HideTool(!0)):(this.deActiveAllFram(),this.framSelected=t,this.ShowTool(),this.FramItemArray[t].SelectThis(!0))},o.initToolData=function(t){for(var e=0;e<this.FramToolArray.length;e++){for(var a=!1,i=0;i<t.data.length;i++){var r=JSON.parse(JSON.stringify(t.data[i]));if(r.toolId==this.FramToolArray[e].toolType){a=!0,this.FramToolArray[e].Init(this,r.usages);break}}a||this.FramToolArray[e].Init(this,0)}},o.ShowTool=function(){for(var t=0;t<this.FramToolArray.length;t++)this.FramToolArray[t].Show()},o.HideTool=function(t){for(var e=0;e<this.FramToolArray.length;e++)this.FramToolArray[e].Hide(t)},o.ToolUse=function(t){var e=this;if(-1!=this.framSelected)if("cancelled"==this.FramItemArray[this.framSelected].Jdata.stage)N.Instance.ShowToast("Error","Farm is Canceled",0);else{var a=this.FramItemArray[this.framSelected].Jdata._id;I.RequestApplyTool(a,t,(function(i){e.ApplyToolSuccess(i,t,a)}),(function(t){}))}},o.ApplyToolSuccess=function(t,e,a){var i=JSON.parse(t);0==i.status?(this.ShowEffectApplyTool(e,a),this.RequestLoadFarmsStats(),this.RequestMyTools(),this.RequestLoadFarmsApply()):N.Instance.ShowToast("Error",F.Instance.GetErrorMessage(i.status),0)},o.ShowEffectApplyTool=function(t,e){switch(t){case 5:this.ShowEffectFertilizer(e);break;case 4:this.ShowEffectChaseCrow(e);break;case 3:this.ShowEffectWater(e)}},o.ShowEffectWater=function(t){for(var e=0;e<this.FramItemArray.length;e++)if(this.FramItemArray[e].isActive&&this.FramItemArray[e].id==t)return void this.FramItemArray[e].ShowEffectWater()},o.ShowEffectChaseCrow=function(t){for(var e=0;e<this.FramItemArray.length;e++)if(this.FramItemArray[e].isActive&&this.FramItemArray[e].id==t)return void this.FramItemArray[e].ShowEffectChaseCrow()},o.ShowEffectFertilizer=function(t){for(var e=0;e<this.FramItemArray.length;e++)if(this.FramItemArray[e].isActive&&this.FramItemArray[e].id==t)return void this.FramItemArray[e].ShowEffectFertilizer()},o.RequestLoadFarmsStats=function(){var t=this;I.RequestFarmsStats((function(e){t.LoadFarmingStats(e)}),(function(t){}))},o.GotoPage=function(){this.RequestFarm()},o.DeactiveFarmSuccess=function(t){var e=JSON.parse(t);0==e.status?(this.RequestLoadFarmsStats(),this.RequestMyTools(),this.RequestFarm()):N.Instance.ShowToast("Error",F.Instance.GetErrorMessage(e.status),0)},o.OnFilterSave=function(){this.filter.totalFilter>0?this.filterLable.string="Filter "+this.filter.totalFilter:this.filterLable.string="Filter",this.farmPage.toPage(0),this.RequestFarm()},o.OnBtnFilterClick=function(){this.filter.Show(!1)},o.OnBtnSettingClick=function(){N.Instance.ShowSetting(!0)},o.OnBtnMenuClick=function(){this.Menu.active?this.HideMenu():this.ShowMenu()},o.ShowMenu=function(){this.Menu.active=!0,this.Menu.setScale(1,0,1),this.MenuUIOpacity.opacity=100,d(this.Menu).to(.3,{scale:g(1,1,1)},{easing:"circOut"}).start(),d(this.MenuUIOpacity).to(.15,{opacity:255},{easing:"circOut"}).start()},o.HideMenu=function(){var t=this;d(this.Menu).to(.2,{scale:g(1,0,1)},{easing:"circIn"}).call((function(){t.Menu.active=!1})).start(),d(this.MenuUIOpacity).to(.1,{opacity:100},{easing:"circIn"}).start()},o.OnBtnHarvestAllClick=function(){var t=this;I.RequestHarvestAll((function(e){t.HarvestAllSuccess(e)}),(function(t){}))},o.OnBtnAddFarmClick=function(){B.Instance.ShowChoseLand()},o.HarvestAllSuccess=function(t){var e=JSON.parse(t);0==e.status?(this.RequestFarm(),this.RequestMyTools(),this.RequestLoadFarmsStats()):N.Instance.ShowToast("Error",F.Instance.GetErrorMessage(e.status),0)},o.LoadFarmingStats=function(t){var e=JSON.parse(t);if(0==e.status){var a=e.data.leWallet;this.TweenLE(a,!1),this.totalHarvestable=e.data.totalHarvestable,this.BtnHarvestAll.active=this.totalHarvestable>0}else N.Instance.ShowToast("Error",F.Instance.GetErrorMessage(e.status),0)},o.TweenLE=function(t,e){var a=this,i=this.LE_num;e&&(t+=i),this.LE_num=t,null!=this.tweenLE&&this.tweenLE.stop(),this.tweenLE=y.tweenNumber(i,t,1,(function(t){a.LE_Label.string=y.numberWithCommas(t)}))},o.OnBtnSeasonClick=function(){B.Instance.ShowWeather(),this.HideMenu()},o.OnBtnShopClick=function(){this.Menu.active=!1,B.Instance.ShowToolShop(this.LE_num)},o.OnBtnAssetClick=function(){this.Menu.active=!1,B.Instance.ShowScreenAsset()},o.OnBtnGatherClick=function(){B.Instance.ShowGathering()},o.OnBtnNewFarmClick=function(){B.Instance.ShowChoseLand()},o.OnBtnFarmClick=function(){this.expeditionNode.active=!1,this.btnExpedition.active=!0,this.farmNode.active=!0,this.btnFarm.active=!1,this.newFarmBtn.active=!0,this.filterFarmBtn.active=!0,this.HideMenu()},o.OnBtnExpeditionClick=function(){this.expeditionNode.active=!0,this.btnExpedition.active=!1,this.farmNode.active=!1,this.btnFarm.active=!0,this.newFarmBtn.active=!1,this.filterFarmBtn.active=!1,this.HideMenu()},o.onBtnAddStamina=function(){null!=v.userStanimaInfo?B.Instance.ShowBuyStamina(function(t,e){this.staminaLabel.string=t+"/"+v.userStanimaInfo.maxStamina,this.TweenLE(e,!1)}.bind(this)):N.Instance.ShowToast("Error","Can't get Stamina Info.",0)},o.onBtnTutorialBarn=function(){this.UITutorialBarn.Show(0)},e}(S)).prototype,"ContentParent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e(nt.prototype,"FramToolArray",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lt=e(nt.prototype,"farmPage",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=e(nt.prototype,"boxNewFarmSprite",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=e(nt.prototype,"farmScrollContent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=e(nt.prototype,"filter",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=e(nt.prototype,"filterLable",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=e(nt.prototype,"LE_Label",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=e(nt.prototype,"BtnHarvestAll",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=e(nt.prototype,"Menu",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=e(nt.prototype,"MenuUIOpacity",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=e(nt.prototype,"UIPopupChangeLogNode",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=e(nt.prototype,"BlockHeader",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=e(nt.prototype,"LeImg",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=e(nt.prototype,"farmNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=e(nt.prototype,"expeditionNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=e(nt.prototype,"btnFarm",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=e(nt.prototype,"btnExpedition",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=e(nt.prototype,"newFarmBtn",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=e(nt.prototype,"filterFarmBtn",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=e(nt.prototype,"FramItemPrefab",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=e(nt.prototype,"staminaLabel",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=e(nt.prototype,"UITutorialBarn",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=nt))||rt));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmingServicesApi.ts",["cc","./ConfigApi.ts","./UserModel.ts","./ResHttp.ts"],(function(t){"use strict";var e,n,r,i;return{setters:[function(t){e=t.cclegacy},function(t){n=t.ConfigApi},function(t){r=t.UserModel},function(t){i=t.ResHttp}],execute:function(){var o,s;t("FarmingServicesApi",void 0),e._RF.push({},"86201XL32BJuJ2GNdoP9BnG","FarmingServicesApi",void 0),(s=o||(o=t("FarmingServicesApi",{}))).PostRequestRefreshToken=function(t,e,o){var s=n.LINK_API+n.GET_TOKEN_FROM_RT,l={refreshToken:t};i.PostRequestRefreshToken(s,l,(function(t){var n=JSON.parse(t);r.SetToken(n.data.token),e(t)}),(function(t){o(t)}),!1)},s.PostRequestV3_AUTH=function(t,e,r,o,s){var l=n.LINK_API+n.V3_AUTH,a={publicAddress:t,signature:e,message:r};i.PostRequestRefreshToken(l,a,(function(t){o(t)}),(function(t){s(t)}),!1)},s.RequestLoginWithMeta=function(t,e,r){var o={publicAddress:t};i.GetRequest(n.LINK_API+n.LOGIN_META,o,e,r)},s.RequestDeactiveLand=function(t,e,r){var o=n.LINK_API+n.DEACTIVATE_LAND,s={landId:t};i.PostRequest(o,s,e,r)},s.RequestClaimDefaultLand=function(t,e){i.PostRequest(n.LINK_API+n.CLAIM_DEFAULT_LAND,null,t,e)},s.RequestMyDefaultLand=function(t,e){i.GetRequest(n.LINK_API+n.MY_DEFAULT_LAND,null,t,e)},s.RequestSwapSunflower=function(t,e,r,o){var s={sunflowerId:t,amount:e};i.PostRequest(n.LINK_API+n.SWAP_SUNFLOWER,s,r,o)},s.RequestMyLands=function(t,e,o){var s={};""==r.IdPlantFilter_Inventory&&""==r.TypePlantFilter_Inventory&&""==r.RarityPlantFilter_Inventory?(s.offset=(t*n.LIMIT_PAGE).toString(),s.limit=n.LIMIT_PAGE.toString()):(""!=r.IdPlantFilter_Inventory&&(s.landId=r.IdPlantFilter_Inventory),""!=r.TypePlantFilter_Inventory&&(s.elements=r.TypePlantFilter_Inventory),""!=r.RarityPlantFilter_Inventory&&(s.rarities=r.RarityPlantFilter_Inventory),s.offset=(t*n.LIMIT_PAGE).toString(),s.limit=n.LIMIT_PAGE.toString()),i.GetRequest(n.LINK_API+n.MY_LANDS,s,e,o)},s.RequestMyPlants=function(t,e,o){""==r.SeasonPlantFilter_Inventory&&""==r.IdPlantFilter_Inventory&&""==r.TypePlantFilter_Inventory&&""==r.RarityPlantFilter_Inventory||(""!=r.IdPlantFilter_Inventory&&(t.plantId=r.IdPlantFilter_Inventory),""!=r.TypePlantFilter_Inventory&&(t.elements=r.TypePlantFilter_Inventory),""!=r.RarityPlantFilter_Inventory&&(t.rarities=r.RarityPlantFilter_Inventory),""!=r.SeasonPlantFilter_Inventory&&(t.seasons=r.SeasonPlantFilter_Inventory)),i.GetRequest(n.LINK_API+n.MY_PLANTS,t,e,o)},s.RequestHarvestAll=function(t,e){i.PostRequest(n.LINK_API+n.HARVEST_ALL,null,t,e)},s.RequestLoadMaterials=function(t,e,r){i.GetRequest(n.API_FARM_3+n.INVENTORY,t,e,r)},s.RequestMyTools=function(t,e){i.GetRequest(n.LINK_API+n.MY_TOOLS,null,t,e,!1)},s.RequestApplyTool=function(t,e,r,o){var s={farmId:t,toolId:e.toString()};i.PostRequest(n.LINK_API+n.APPLY_TOOL,s,r,o)},s.RequestFarmStatus=function(t,e){i.GetRequest(n.LINK_API+n.FARM_STATUS,null,t,e,!1)},s.RequestWeather=function(t,e){i.GetRequest(n.LINK_API+n.WEATHER_TODAY,null,t,e,!1)},s.RequestFarmsStats=function(t,e){i.GetRequest(n.LINK_API+n.FARMING_STATS,null,t,e,!1)},s.RequestFarm=function(t,e,o,s){var l=n.LINK_API+n.FARMS_V2,a=function(t){e(t)},u={};""!=r.IdPlantFilter||""!=r.TypePlantFilter||""!=r.RarityPlantFilter||r.NeedWaterFilter||r.NeedPotFilter||r.HasCrowFilter?(""!=r.IdPlantFilter&&(u.plantId=r.IdPlantFilter),""!=r.TypePlantFilter&&(u.elements=r.TypePlantFilter),""!=r.RarityPlantFilter&&(u.rarities=r.RarityPlantFilter),r.NeedPotFilter&&(u.needPot="true"),r.NeedWaterFilter&&(u.needWater="true"),r.HasCrowFilter&&(u.hasCrow="true"),u.offset=(t*n.LIMIT_PAGE).toString(),u.limit=n.LIMIT_PAGE.toString(),i.GetRequest(l,u,a,(function(t){}),s)):(u.offset=(t*n.LIMIT_PAGE).toString(),u.limit=n.LIMIT_PAGE.toString(),i.GetRequest(l,u,a,(function(t){o(t)}),s))},s.RequestMyLandsNoLimit=function(t,e){i.GetRequest(n.LINK_API+n.MY_LANDS,{offset:"0",limit:"20"},t,e,!1)},s.RequestDeactive=function(t,e,r){i.PostRequest(n.LINK_API+n.FARMS+t+"/"+n.DEACTIVATE,null,e,r)},s.RequestRemovePlant=function(t,e,r){var o={farmId:t};i.PostRequest(n.LINK_API+n.REMOVE_PLANT,o,e,r)},s.RequestHarvestPlant=function(t,e,r,o){i.PostRequest(n.LINK_API+n.FARMS+t+"/"+n.HARVEST,null,e,r,o)},s.RequestChoseLands=function(t,e,r){var o={offset:(t*n.LIMIT_PAGE).toString(),limit:n.LIMIT_PAGE.toString()};i.GetRequest(n.LINK_API+n.FREE_SLOTS,o,e,r)},e._RF.pop()}}}));

System.register("chunks:///_virtual/UIGarderingLevelFX.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utility.ts","./PopUpBase.ts","./GatheringLevelTop.ts"],(function(e){"use strict";var t,i,r,n,a,o,l,s,p,c,u,h,y,m,b,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.defineProperty},function(e){o=e.cclegacy,l=e._decorator,s=e.Label,p=e.Sprite,c=e.SpriteFrame,u=e.Node,h=e.Animation,y=e.ParticleSystem},function(e){m=e.Utility},function(e){b=e.PopUpBase},function(e){g=e.GatheringLevelTop}],execute:function(){var f,v,S,d,L,I,F,w,G,N,U,z,O,k,B,T,A;o._RF.push({},"86926LmcrBGAYjoFkKt/C7Y","UIGarderingLevelFX",void 0);var P=l.ccclass,D=l.property;e("UIGarderingLevelFX",(f=P("UIGarderingLevelFX"),v=D(s),S=D(p),d=D(c),L=D(g),I=D(u),F=D(h),w=D(y),f((U=t((N=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,r(n(t),"LabelName",U,n(t)),a(n(t),"LabelNameString",["FORAGING","MINING","FISHING"]),r(n(t),"IconSprite",z,n(t)),r(n(t),"IconSpriteFrame",O,n(t)),r(n(t),"gatheringLevelTop",k,n(t)),r(n(t),"BtnOk",B,n(t)),r(n(t),"animation",T,n(t)),r(n(t),"particleSystems",A,n(t)),t}i(t,e);var o=t.prototype;return o.Show=function(t,i){var r=this;void 0===i&&(i=function(){}),this.LabelName.string=this.LabelNameString[t],this.IconSprite.spriteFrame=this.IconSpriteFrame[t],this.BtnOk.active=!1,this.gatheringLevelTop.UpdateView(t);for(var n=0;n<this.particleSystems.length;n++)this.particleSystems[n].stop(),this.particleSystems[n].node.active=!1;e.prototype.OnShow.call(this,(function(){r.animation.play(),m.AsyncDelay(1800).then(function(){i(),this.gatheringLevelTop.UpdateView(t),m.AsyncDelay(300).then(function(){this.BtnOk.active=!0}.bind(this))}.bind(r))}))},o.OnOkClick=function(){this.animation.stop();for(var t=0;t<this.particleSystems.length;t++)this.particleSystems[t].stop(),this.particleSystems[t].node.active=!1;e.prototype.OnHide.call(this)},t}(b)).prototype,"LabelName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(N.prototype,"IconSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(N.prototype,"IconSpriteFrame",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(N.prototype,"gatheringLevelTop",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(N.prototype,"BtnOk",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(N.prototype,"animation",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(N.prototype,"particleSystems",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=N))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/LandItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./FarmingServicesApi.ts","./UImanager.ts","./UIPopupManager.ts"],(function(t){"use strict";var e,i,n,a,r,l,s,o,u,p,c,h,m,f,b,d,S,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.defineProperty},function(t){l=t.cclegacy,s=t._decorator,o=t.Label,u=t.UITransform,p=t.Sprite,c=t.SpriteFrame,h=t.Node,m=t.color,f=t.Component},function(t){b=t.ResourcesManager},function(t){d=t.FarmingServicesApi},function(t){S=t.UImanager},function(t){I=t.UIPopupManager}],execute:function(){var v,y,g,x,M,P,D,F,U,_,T,w,R,L,z,C,A,N,k,q,B,E,O,G,H,Y,j,J,Q;l._RF.push({},"8902dCxDstHx5tlEsnQZv7c","LandItem",void 0);var Z=s.ccclass,K=s.property;t("LandItem",(v=Z("LandItem"),y=K({type:o}),g=K(u),x=K(p),M=K(o),P=K(o),D=K(p),F=K(o),U=K(p),_=K(c),T=K(c),w=K(o),R=K(h),L=K(h),v((A=e((C=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return e=t.call.apply(t,[this].concat(l))||this,n(a(e),"info_ID",A,a(e)),n(a(e),"info_ID_UITransform",N,a(e)),n(a(e),"typeSpriteArray",k,a(e)),n(a(e),"txtLocation",q,a(e)),n(a(e),"txtPlant",B,a(e)),n(a(e),"SpritePlant",E,a(e)),n(a(e),"txtMt",O,a(e)),n(a(e),"SpriteMt",G,a(e)),n(a(e),"SpriteFrameInfoPlantDe",H,a(e)),n(a(e),"SpriteFrameInfoPlant",Y,a(e)),n(a(e),"txtStatus",j,a(e)),n(a(e),"btnRemove",J,a(e)),n(a(e),"btnClaim",Q,a(e)),r(a(e),"landData",void 0),r(a(e),"plant",void 0),r(a(e),"plantMax",void 0),r(a(e),"mtMax",void 0),r(a(e),"mt",void 0),e}i(e,t);var l=e.prototype;return l.Init=function(t){this.node.active=!0,null!=this.btnClaim&&(this.btnClaim.active=!1),this.landData=t,1==t.isDefaultLand?this.info_ID_UITransform.node.active=!1:(this.info_ID_UITransform.node.active=!0,this.info_ID.string="#"+t.landId.toString(),this.info_ID_UITransform.getComponent(p).spriteFrame=b.Instance.GetRarity(t.land.rarity)),this.txtLocation.string=t.land.x+","+t.land.y,this.UpdateTypes(t),this.plant=t.totalFarming.plant,this.plantMax=t.land.capacity.plant,this.mt=t.totalFarming.motherTree,this.mtMax=t.land.capacity.motherTree,this.UpdateNumPlantsMotherTree(),this.UpdateStatus(t)},l.InitDefault=function(){this.node.active=!0,null!=this.btnClaim&&(this.btnClaim.active=!0),null!=this.btnRemove&&(this.btnRemove.active=!1),null!=this.txtStatus&&(this.txtStatus.node.parent.active=!1),this.info_ID_UITransform.node.active=!1,this.txtLocation.string="0,0",this.plant=0,this.plantMax=5,this.mt=0,this.mtMax=1,this.UpdateNumPlantsMotherTree()},l.OnBtnClaimClick=function(){d.RequestClaimDefaultLand((function(t){S.Instance._UIScreenAssets.RequestLoadApply()}),(function(t){}))},l.UpdateStatus=function(t){null!=this.btnRemove&&(this.btnRemove.active=!1);var e=0;switch(null!=t.status&&(e=t.status),e){case 0:null!=this.txtStatus&&(this.txtStatus.node.parent.active=!1);break;case 2:null!=this.btnRemove&&(this.btnRemove.active=!0),null!=this.txtStatus&&(this.txtStatus.node.parent.active=!1);break;case 1:null!=this.txtStatus&&(this.txtStatus.node.parent.active=!0,this.txtStatus.string="For Sale")}},l.OnBtnCleanClick=function(){var t=this,e=function(t){var e=JSON.parse(t);0==e.status?(I.Instance.ShowToast("Success","You've clean the land successfully",1),S.Instance._UIScreenAssets.RequestLoadApply()):I.Instance.ShowToast("Error",b.Instance.GetErrorMessage(e.status),0)},i=function(t){};I.Instance.ShowUINotifyConfirm("Stop Farming","You are cleaning all items from<br/>every slot of this land.<br/>Are you sure?",(function(){d.RequestDeactiveLand(t.landData.landId,e,i)}),!0)},l.UpdateNumPlantsMotherTree=function(){this.txtPlant.string=this.plant+"/"+this.plantMax,this.txtMt.string=this.mt+"/"+this.mtMax,null!=this.SpritePlant&&(this.plant>=this.plantMax?(this.SpritePlant.spriteFrame=this.SpriteFrameInfoPlantDe,this.SpritePlant.color=m(255,255,255,178)):(this.SpritePlant.spriteFrame=this.SpriteFrameInfoPlant,this.SpritePlant.color=m(255,255,255,255))),null!=this.SpriteMt&&(this.mt>=this.mtMax?(this.SpriteMt.spriteFrame=this.SpriteFrameInfoPlantDe,this.SpriteMt.color=m(255,255,255,178)):(this.SpriteMt.spriteFrame=this.SpriteFrameInfoPlant,this.SpriteMt.color=m(255,255,255,255)))},l.PlanTreeSuccess=function(t){t?this.mt++:this.plant++,this.UpdateNumPlantsMotherTree()},l.UpdateTypes=function(t){},e}(f)).prototype,"info_ID",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(C.prototype,"info_ID_UITransform",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(C.prototype,"typeSpriteArray",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(C.prototype,"txtLocation",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(C.prototype,"txtPlant",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(C.prototype,"SpritePlant",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(C.prototype,"txtMt",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(C.prototype,"SpriteMt",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(C.prototype,"SpriteFrameInfoPlantDe",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(C.prototype,"SpriteFrameInfoPlant",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(C.prototype,"txtStatus",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(C.prototype,"btnRemove",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(C.prototype,"btnClaim",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=C))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialSkillLevel.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,r,l,o,n,s,c,a,u,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,s=t.Label,c=t.RichText,a=t.Sprite,u=t.color,p=t.Component}],execute:function(){var h,g,v,d,b,f,L,y,S;o._RF.push({},"8b07e7r9wpPPah76Rw2i0gv","TutorialSkillLevel",void 0);var w=n.ccclass,D=n.property;t("TutorialSkillLevel",(h=w("TutorialSkillLevel"),g=D(s),v=D(c),d=D(a),h((L=i((f=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return i=t.call.apply(t,[this].concat(o))||this,r(l(i),"title",L,l(i)),r(l(i),"des",y,l(i)),r(l(i),"dot",S,l(i)),i}return e(i,t),i.prototype.Init=function(t,i,e,r,l,o,n){t<i?(this.title.string=r+" Lv."+t.toString()+" (CLEARED)",this.des.string="<color=#D2AA81>"+n,this.title.color=u(210,170,129),this.dot.color=u(210,170,129)):t==i?(this.title.string="MAX"==o?r+" Lv."+t.toString():r+" Lv."+t.toString()+" (EXP to next level: "+e+"/"+o+")",this.des.string="<color=#9C6D3E>"+l,this.title.color=u(210,100,43),this.dot.color=u(210,100,43)):(this.title.string=r+" Lv."+t.toString(),this.des.string="<color=#938E8E>"+n,this.title.color=u(147,142,142),this.dot.color=u(147,142,142))},i}(p)).prototype,"title",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=i(f.prototype,"des",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(f.prototype,"dot",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/UITutorial.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UserModel.ts","./PopUpBase.ts","./TutorialSkillLevel.ts"],(function(e){"use strict";var t,l,i,n,r,a,o,s,u,c,g,h,p,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.defineProperty},function(e){a=e.cclegacy,o=e._decorator,s=e.Toggle,u=e.TextAsset,c=e.Node},function(e){g=e.ResourcesManager},function(e){h=e.UserModel},function(e){p=e.PopUpBase},function(e){v=e.TutorialSkillLevel}],execute:function(){var f,I,d,G,S,k,y,L,C;a._RF.push({},"8bd8e+s+q9ITqYnIzk7YQRI","UITutorial",void 0);var P=o.ccclass,b=o.property;e("UITutorial",(f=P("UITutorial"),I=b(s),d=b(u),G=b(c),f((y=t((k=function(e){function t(){for(var t,l=arguments.length,a=new Array(l),o=0;o<l;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(n(t),"toggle",y,n(t)),i(n(t),"config",L,n(t)),i(n(t),"tutorialSkillLevelParent",C,n(t)),r(n(t),"tutorialSkilllevel",[]),t}l(t,e);var a=t.prototype;return a.Show=function(t){if(e.prototype.OnShow.call(this),1==t||2==t||3==t){if(0==this.tutorialSkilllevel.length)for(var l=this.tutorialSkillLevelParent.getComponentsInChildren(v),i=0;i<l.length;i++)this.tutorialSkilllevel.push(l[i]);var n,r=0,a=0,o="",s=0;1==t?(r=h.userGatherData.CHOPPING_level.level,a=h.userGatherData.CHOPPING_level.exp,o="Foraging",n=g.Instance.GatheringLevelConfig.json.data.chopping,s=g.Instance.GatheringLevelConfig.json.data.chopping.length):2==t?(r=h.userGatherData.FISHING_level.level,a=h.userGatherData.FISHING_level.exp,o="Fishing",n=g.Instance.GatheringLevelConfig.json.data.fishing,s=g.Instance.GatheringLevelConfig.json.data.fishing.length):3==t&&(r=h.userGatherData.MINING_level.level,a=h.userGatherData.MINING_level.exp,o="Mining",n=g.Instance.GatheringLevelConfig.json.data.mining,s=g.Instance.GatheringLevelConfig.json.data.mining.length);for(var u=this.config.text.split("\n"),c=0;c<this.tutorialSkilllevel.length;c++)c+2<s?this.tutorialSkilllevel[c].Init(c+1,r,a,o,u[c],n[c+2].exp,u[c+8]):this.tutorialSkilllevel[c].Init(c+1,r,a,o,u[c],"MAX",u[c+8])}},a.OnBtnCloseClick=function(){e.prototype.OnHide.call(this)},t}(p)).prototype,"toggle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(k.prototype,"config",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(k.prototype,"tutorialSkillLevelParent",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=k))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/MiningManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UserModel.ts","./Utility.ts","./GatheringServicesApi.ts","./SoundController.ts","./PrefabController.ts","./UITutorial.ts","./UIPopupManager.ts","./MaterialDropMining.ts","./GatheringManager.ts","./GatheringMiniGameUI.ts","./MiningRock.ts","./ChoppingHpLabel.ts","./MiningStartPannel.ts"],(function(t){"use strict";var e,i,n,a,o,r,s,l,c,u,h,p,g,d,m,f,M,S,I,b,k,w,G,T,R,v,y,_,L,U,D,C,P,H,B,N,O,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.defineProperty},function(t){r=t.cclegacy,s=t._decorator,l=t.sp,c=t.UITransform,u=t.Collider2D,h=t.Node,p=t.Prefab,g=t.Label,d=t.LabelOutline,m=t.Contact2DType,f=t.tween,M=t.v3,S=t.color,I=t.instantiate,b=t.randomRangeInt,k=t.Component,w=t.randomRange},function(t){G=t.ResourcesManager},function(t){T=t.UserModel},function(t){R=t.Utility},function(t){v=t.GatheringServicesApi},function(t){y=t.SoundController,_=t.EnumSound},function(t){L=t.PrefabController,U=t.PrefabEnum},function(t){D=t.UITutorial},function(t){C=t.UIPopupManager},function(t){P=t.MaterialDropMining},function(t){H=t.GatheringManager},function(t){B=t.GatheringMiniGameUI},function(t){N=t.MiningRock},function(t){O=t.ChoppingHpLabel},function(t){A=t.MiningStartPannel}],execute:function(){var E,z,j,F,x,W,J,V,K,Z,q,Q,X,Y,$,tt,et,it,nt,at,ot,rt,st,lt,ct,ut,ht,pt,gt,dt,mt,ft,Mt,St,It;r._RF.push({},"8c5ce90tfNISrxIaZj0TwTZ","MiningManager",void 0);var bt=s.ccclass,kt=s.property;t("MiningManager",(E=bt("MiningManager"),z=kt(B),j=kt(A),F=kt(l.Skeleton),x=kt(c),W=kt(u),J=kt(h),V=kt(c),K=kt(c),Z=kt(p),q=kt(p),Q=kt(p),X=kt(p),Y=kt(g),$=kt(d),tt=kt(D),et=kt(O),E((at=e((nt=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(a(e),"gatheringMiniGameUI",at,a(e)),n(a(e),"miningStartPannel",ot,a(e)),n(a(e),"mining_crow",rt,a(e)),n(a(e),"Line",st,a(e)),n(a(e),"HookCollider2D",lt,a(e)),n(a(e),"HookRockParent",ct,a(e)),o(a(e),"lineTweenRotate",void 0),o(a(e),"RotateSpeed",100),o(a(e),"RotateAngle",85),o(a(e),"RotatetDirection",-1),o(a(e),"_isStartGame",!1),o(a(e),"_isFire",!1),o(a(e),"_isBack",!1),o(a(e),"fireSpeed",600),o(a(e),"backSpeed",0),o(a(e),"json",void 0),n(a(e),"RockParent",ut,a(e)),n(a(e),"MaterialDropMiningParent",ht,a(e)),n(a(e),"RockL",pt,a(e)),n(a(e),"RockM",gt,a(e)),n(a(e),"RockS",dt,a(e)),n(a(e),"RockT",mt,a(e)),o(a(e),"currentRockHook",null),n(a(e),"TimeLabel",ft,a(e)),n(a(e),"TimeLabelOutline",Mt,a(e)),o(a(e),"validUntil",0),o(a(e),"timeUpdateTimeOut",0),o(a(e),"isOutOfTime",!1),o(a(e),"isChangeTimeColor",!1),o(a(e),"Mining_Shootjson",void 0),o(a(e),"timeWarning",0),o(a(e),"MaterialDrops",[]),n(a(e),"uITutorial",St,a(e)),n(a(e),"choppingHpLabel",It,a(e)),o(a(e),"CompleteListener",(function(t){"dynamite"==e.mining_crow.animation&&e.mining_crow.setAnimation(0,"idle",!0)})),o(a(e),"tweenHp1",void 0),o(a(e),"tweenHp2",void 0),e}i(e,t);var r=e.prototype;return r.start=function(){this.mining_crow.setCompleteListener(this.CompleteListener),this.mining_crow.setAnimation(0,"idle",!0),this.HookCollider2D.on(m.BEGIN_CONTACT,this.onBeginContact,this,!1),this.GetMap()},r.update=function(t){this._isFire&&(this.Line.height+=t*(this._isBack?-this.backSpeed:this.fireSpeed),this.Line.height<=40&&(this.Line.height=40,this._isFire=!1,this._isBack=!1,this.startLineTween(),this.mining_crow.setAnimation(0,"idle",!0),this.HookDone()),this.Line.height>2500&&this.BoundHit())},r.OnBGClick=function(){var t=this;this._isStartGame&&(this.isOutOfTime?C.Instance.ShowToast("Error","Mining map is timeout!",0):this._isFire||(this.mining_crow.setAnimation(0,"dynamite",!1),this.stopLineTween(),v.Mining_Shoot((function(e){var i=v.CheckStatus(JSON.parse(e));if(null!=i){if(1010==i.status)return void C.Instance.ShowUINotifyConfirm("Insufficient Stamina",G.Instance.GetErrorMessage(1010),function(){this.BackToSceneGathering()}.bind(t),!1,!1,0,!0);t.Mining_Shootjson=i,t._isFire=!0,t._isBack=!1,T.userGatherData.currentStamina=i.data.stamina,t.gatheringMiniGameUI.UpdateStaminaLabel()}else t.startLineTween()}),(function(e){t.startLineTween()}))))},r.OnBtnPlayClick=function(){var t=this;v.MINING_START((function(e){var i=JSON.parse(e);0==i.status?(t.validUntil=i.data.validUntil,t.miningStartPannel.OnBtnPlay(),t._isStartGame=!0,t.isChangeTimeColor=!1,t.startLineTween(),t.StartCoundDown()):C.Instance.ShowToast("Error",G.Instance.GetErrorMessage(i.status),0)}),(function(t){}))},r.startLineTween=function(){var t=this,e=this.Line.node.eulerAngles.z,i=this.RotateAngle*this.RotatetDirection,n=Math.abs(e-i)/this.RotateSpeed;this.lineTweenRotate=f(this.Line.node).to(n,{eulerAngles:M(0,0,i)}).call((function(){t.RotatetDirection*=-1,t.startLineTween()})),this.lineTweenRotate.start()},r.stopLineTween=function(){null!=this.lineTweenRotate&&this.lineTweenRotate.stop()},r.StartCoundDown=function(){var t=this,e=Math.floor((this.validUntil-R.GetTimeNow())/1e3);e<0?(this.gatheringMiniGameUI.skipGameBtnstate=2,this.isOutOfTime=!0,e=0):this.timeUpdateTimeOut=setTimeout((function(){t.StartCoundDown()}),1e3),!this.isChangeTimeColor&&e<=this.timeWarning&&(this.isChangeTimeColor=!0,this.TimeLabel.color=S(255,0,0,255),this.TimeLabelOutline.color=S(255,255,255,255)),this.TimeLabel.string=e.toString()},r.onBeginContact=function(t,e,i){this._isFire&&!this._isBack&&(8==e.group?this.BoundHit():4==e.group&&this.RockHit(e))},r.BoundHit=function(){this.mining_crow.setAnimation(0,"hook",!0),this.backSpeed=1200,this._isBack=!0},r.RockHit=function(t){var e=t.node.getComponent(N);if(T.userGatherData.MINING_level.level<4&&e.node.name.includes("Rock_T_0"))C.Instance.ShowToast("Error","Upgrade Level to exploite treasure!",0),this.BoundHit(),this.gatheringMiniGameUI.curItem=this.gatheringMiniGameUI.curItem-1,R.AsyncDelay(100).then((function(){e.node.destroy()}));else{e.node.setParent(this.HookRockParent),e.node.setPosition(0,0,0),e.node.setRotationFromEuler(0,0,0),e.node.setWorldScale(1,1,1),this.currentRockHook=e;var i=1;T.userGatherData.MINING_level.level>=8&&(i=2),"ROCK"==e.json.type?this.backSpeed=100*i:"MINERAL"==e.json.type?this.backSpeed=300*i:"GEM"==e.json.type?this.backSpeed=600*i:"TREASURE"==e.json.type&&(this.backSpeed=300*i),this.mining_crow.setAnimation(0,"hook",!0),this._isBack=!0,y.Instance.PlaySoundLoop(_.Minning_pulling,.5)}},r.HookDone=function(){null!=this.currentRockHook&&(y.Instance.StopSoundLoop(),v.MINING_GET_REWARD(this.json.data.mapId,this.currentRockHook.json.id,this.Mining_Shootjson.data.token,function(t){var e=this,i=JSON.parse(t);if(0==i.status){T.userGatherData.MINING_level.exp=i.data.player.exp,T.userGatherData.MINING_level.level=i.data.player.level,this.gatheringMiniGameUI.gatheringLevelTop.UpdateView(1);for(var n=i.data.rewards.length,a=function(t){var n=i.data.rewards[t],a=L.Instance.GetPrefab(U.MaterialDropMining),o=a.getComponent(P);a.setParent(e.MaterialDropMiningParent.node),o.Init(n.guid,n.name,20,5,(function(t){e.ReleaseMaterialDrop(t)}),(function(){e.gatheringMiniGameUI.skipGameBtnstate=1}),(function(){e.gatheringMiniGameUI.OpenBag(),y.Instance.PlaySound(_.UI_Item_Slide_to_Bag),o.TweenToBag(e.gatheringMiniGameUI.BagSprite.node.worldPosition,(function(){e.gatheringMiniGameUI.CloseBag(!0)}))}),1,(function(t){}));var r=e.MaterialDropMiningParent.width/2;r=w(0,1)>.5?w(-r,-150):w(150,r),a.setPosition(r,w(40,65),0),e.MaterialDrops.push(o)},o=0;o<n;o++)a(o);n<=0?this.spawnNothingFx():y.Instance.PlaySound(_.UI_Item_Appear)}else C.Instance.ShowToast("Error",G.Instance.GetErrorMessage(i.status),0)}.bind(this),function(t){}.bind(this)),this.gatheringMiniGameUI.curItem=this.gatheringMiniGameUI.curItem-1,this.currentRockHook.node.destroy(),this.currentRockHook=null)},r.GetMap=function(){var t=this;v.Mining_GetMap(T.curWorldMapData.playingMiniGameId,function(e){var i=JSON.parse(e);0==i.status?t.InitMapData(i):(C.Instance.ShowToast("Error",G.Instance.GetErrorMessage(i.status),0,!1),t.BackToSceneGathering())}.bind(this),function(e){t.BackToSceneGathering()}.bind(this))},r.InitMapData=function(t){var e=this;this.json=t;var i=t.data.size;this.timeWarning=0==i?10:1==i?30:45;var n=t.data.objects.length;this.gatheringMiniGameUI.Init(1,n,(function(){e.OnBtnSkip()})),this.gatheringMiniGameUI.UpdateStaminaLabel(),this.miningStartPannel.Show(t.data.actionStamina);for(var a=-this.RockParent.height/100,o=this.RockParent.width/100,r=0;r<n;r++){var s=t.data.objects[r],l=null;if("ROCK"==s.type?l=I(this.RockL[b(0,this.RockL.length)]):"MINERAL"==s.type?l=I(this.RockM[b(0,this.RockM.length)]):"GEM"==s.type?l=I(this.RockS[b(0,this.RockS.length)]):"TREASURE"==s.type&&(l=I(this.RockT[b(0,this.RockT.length)])),null!=l)l.getComponent(N).Init(s),l.setParent(this.RockParent.node),l.setPosition(s.x*o,s.y*a,0),l.active=!0;else console.error("Can not find rock type: "+s.type)}},r.OnBtnSkip=function(){0==this.gatheringMiniGameUI.skipGameBtnstate?H.Instance.ShowMaterialWarning(50,"Next mini game fee:",this.ValidateSkipGameServer.bind(this)):2==this.gatheringMiniGameUI.skipGameBtnstate?this.ValidateFinishGameServer():H.Instance.ShowMaterialWarning(-1,"Skip This Mini Game",this.ValidateFinishGameServer.bind(this))},r.ValidateFinishGameServer=function(){var t=this;v.MINING_FINISH(function(e){var i=v.CheckStatus(JSON.parse(e));null!=i&&(T.curWorldMapData=i.data.route,t.BackToSceneGathering())}.bind(this),(function(t){}))},r.ValidateSkipGameServer=function(){var t=this;v.MINING_SKIP(function(e){var i=v.CheckStatus(JSON.parse(e));null!=i&&(T.curWorldMapData=i.data.route,T.userGatherData.currentStamina=i.data.stamina,t.BackToSceneGathering())}.bind(this),(function(t){}))},r.BackToSceneGathering=function(){for(clearTimeout(this.timeUpdateTimeOut);this.MaterialDrops.length>0;)this.MaterialDrops[0].Release();L.Instance.ReturnAllPrefab(U.Bag_effect),C.Instance.HideToast(),null!=this.currentRockHook&&y.Instance.StopSoundLoop(),C.Instance.LoadScene("1.Gathering")},r.ReleaseMaterialDrop=function(t){var e=this.MaterialDrops.findIndex((function(e){return e.guid==t.guid}));e>-1&&this.MaterialDrops.splice(e,1)},r.OnBtnUITutorial=function(){this.uITutorial.Show(3)},r.spawnNothingFx=function(){var t=this.choppingHpLabel;t.node.active=!0,t.node.setPosition(0,-120,0),t.uIOpacity.opacity=255,this.tweenHp1&&this.tweenHp1.stop(),this.tweenHp2&&this.tweenHp1.stop(),this.tweenHp1=f(t.node).to(.5,{position:M(0,-50,0)},{easing:"cubicOut"}).call((function(){t.node.active=!1})),this.tweenHp1.start(),this.tweenHp2=f(t.uIOpacity).delay(.3).to(.2,{opacity:0}),this.tweenHp2.start()},e}(k)).prototype,"gatheringMiniGameUI",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(nt.prototype,"miningStartPannel",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(nt.prototype,"mining_crow",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e(nt.prototype,"Line",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(nt.prototype,"HookCollider2D",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=e(nt.prototype,"HookRockParent",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=e(nt.prototype,"RockParent",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=e(nt.prototype,"MaterialDropMiningParent",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=e(nt.prototype,"RockL",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gt=e(nt.prototype,"RockM",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dt=e(nt.prototype,"RockS",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mt=e(nt.prototype,"RockT",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ft=e(nt.prototype,"TimeLabel",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=e(nt.prototype,"TimeLabelOutline",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=e(nt.prototype,"uITutorial",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=e(nt.prototype,"choppingHpLabel",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=nt))||it));r._RF.pop()}}}));

System.register("chunks:///_virtual/MaterialDrop.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./Utility.ts","./GatheringServicesApi.ts","./PrefabController.ts"],(function(e){"use strict";var t,i,n,r,o,a,s,l,c,u,h,p,d,T,f,w,y,m,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.defineProperty},function(e){a=e.cclegacy,s=e._decorator,l=e.Sprite,c=e.MotionStreak,u=e.Node,h=e.color,p=e.tween,d=e.v3,T=e.Component},function(e){f=e.ResourcesManager},function(e){w=e.Utility},function(e){y=e.GatheringServicesApi},function(e){m=e.PrefabController,v=e.PrefabEnum}],execute:function(){var S,C,I,b,k,g,D,P,B,M,R,A,G;a._RF.push({},"8ffa3GdAMNKkbZBqf6AI1X6","MaterialDrop",void 0);var O=s.ccclass,N=s.property;e("MaterialDrop",(S=O("MaterialDrop"),C=N(l),I=N(c),b=N(u),k=N(u),g=N(u),S((B=t((P=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(r(t),"IconSprite",B,r(t)),n(r(t),"motionStreak",M,r(t)),n(r(t),"Rare",R,r(t)),n(r(t),"Epic",A,r(t)),n(r(t),"Key",G,r(t)),o(r(t),"showItemTime",void 0),o(r(t),"indicatorDestroyTime",void 0),o(r(t),"isColect",!1),o(r(t),"releaseCB",(function(e){})),o(r(t),"rewardToken",void 0),o(r(t),"rewardType",void 0),o(r(t),"timeOut",0),o(r(t),"BlinkDuration",200),o(r(t),"onGetKey",(function(){})),o(r(t),"CurrentTween",void 0),o(r(t),"onTweenToBag",(function(){})),o(r(t),"rewardName",void 0),t}i(t,e);var a=t.prototype;return a.Init=function(e,t,i,n,r,o,a,s,l,c){var u=this;void 0===a&&(a=function(e){}),void 0===s&&(s=function(){}),void 0===l&&(l=function(){}),void 0===c&&(c=function(){}),null!=this.CurrentTween&&this.CurrentTween.stop(),this.ChangeLayer(o),this.rewardToken=n,this.releaseCB=a,this.onGetKey=s,this.onTweenToBag=l,this.showItemTime=1e3*e+this.BlinkDuration,this.indicatorDestroyTime=1e3*t,this.isColect=!1,this.rewardType=i,this.node.active=!1,this.IconSprite.node.active=!0,this.rewardName=r,this.motionStreak.enabled=!1,w.StopParticle(this.Rare),w.StopParticle(this.Epic),w.StopParticle(this.Key);var h=function(e){u.IconSprite.spriteFrame=e,u.node.active=!0,c()};null==r&&(r="COMMON_BARK"),"SAPLING"==this.rewardType||"MAMA"==this.rewardType?(this.IconSprite.node.setScale(.25,.25,1),f.Instance.LoadPlant(r,h)):(this.IconSprite.node.setScale(.5,.5,1),f.Instance.LoadMaterialSprite(r,h)),this.Blink()},a.Blink=function(){var e=this;!function t(){e.showItemTime-=e.BlinkDuration,e.showItemTime<0?e.Release():(e.showItemTime<=e.indicatorDestroyTime&&(e.IconSprite.node.active=!e.IconSprite.node.active),e.timeOut=setTimeout(t,e.BlinkDuration))}()},a.onLoad=function(){var e=this;this.node.on(u.EventType.TOUCH_START,(function(t){e.OnClick()}),this)},a.OnClick=function(){var e=this;this.isColect||(this.isColect=!0,clearTimeout(this.timeOut),this.IconSprite.node.active=!0,y.CHOPPING_GET_REWARD(this.rewardToken,(function(t){null!=y.CheckStatus(JSON.parse(t))?"KEY"==e.rewardType?(e.onGetKey(),e.TweenScaleDown()):"SAPLING"==e.rewardType||"MAMA"==e.rewardType?e.TweenScaleDown():e.onTweenToBag():(e.isColect=!1,e.Blink())}),(function(t){e.isColect=!1,e.Blink()})))},a.Release=function(){clearTimeout(this.timeOut),this.releaseCB(this),m.Instance.ReturnPrefab(v.MaterialDrop,this.node)},a.TweenToBag=function(e,t){var i=this;this.motionStreak.enabled=!0;var n=f.Instance.GetMaterialData(this.rewardName).rarity;0==n?this.motionStreak.color=h(75,255,75,150):1==n?(w.PlayParticle(this.Rare),this.motionStreak.color=h(75,241,255,150)):(w.PlayParticle(this.Epic),this.motionStreak.color=h(255,75,75,150)),null!=this.CurrentTween&&this.CurrentTween.stop(),this.CurrentTween=p(this.node).to(.8,{worldPosition:e},{easing:"cubicIn"}).call((function(){i.Release(),t()})),this.CurrentTween.start()},a.TweenScaleDown=function(){var e=this;null!=this.CurrentTween&&this.CurrentTween.stop(),this.CurrentTween=p(this.node).to(.2,{scale:d(0,0,1)},{easing:"cubicIn"}).call((function(){e.Release()})),this.CurrentTween.start()},a.ChangeLayer=function(e){this.node.layer=e;for(var t=this.node.children,i=0;i<t.length;i++)t[i].layer=e},t}(T)).prototype,"IconSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(P.prototype,"motionStreak",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(P.prototype,"Rare",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(P.prototype,"Epic",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(P.prototype,"Key",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=P))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/TreeClick.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./TreePrefab.ts"],(function(t){"use strict";var e,n,r,i,o,c,s,a;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,c=t.Node,s=t.Component},function(t){a=t.TreePrefab}],execute:function(){var u;i._RF.push({},"96bf5yWjaBClbAd00gPn6sp","TreeClick",void 0);var h=o.ccclass;o.property,t("TreeClick",h("TreeClick")(u=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,n(r(e),"treePrefab",void 0),n(r(e),"isTouchStart",!1),e}e(i,t);var o=i.prototype;return o.onLoad=function(){var t=this;this.treePrefab=this.node.parent.parent.getComponent(a),this.node.on(c.EventType.TOUCH_START,(function(e){t.isTouchStart=!0}),this),this.node.on(c.EventType.TOUCH_END,(function(e){t.isTouchStart&&t.OnClick(),t.isTouchStart=!1}),this),this.node.on(c.EventType.TOUCH_CANCEL,(function(e){t.isTouchStart=!1}),this)},o.OnClick=function(){this.treePrefab.OnClick()},i}(s))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIScreenChosePlant.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./ConfigApi.ts","./FarmingServicesApi.ts","./Filter.ts","./FarmPage.ts","./LandItem.ts","./PlantISunflowertem.ts","./PlantItem.ts","./UImanager.ts","./UIPopupManager.ts","./ResHttp.ts"],(function(t){"use strict";var e,a,n,r,i,s,o,l,u,c,f,h,g,P,d,p,m,I,y,S,b,v,C,A,w,F;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.defineProperty},function(t){s=t.cclegacy,o=t._decorator,l=t.Node,u=t.Label,c=t.ScrollView,f=t.Toggle,h=t.Prefab,g=t.tween,P=t.instantiate,d=t.Component},function(t){p=t.ResourcesManager},function(t){m=t.ConfigApi},function(t){I=t.FarmingServicesApi},function(t){y=t.Filter},function(t){S=t.FarmPage},function(t){b=t.LandItem},function(t){v=t.PlantISunflowertem},function(t){C=t.PlantItem},function(t){A=t.UImanager},function(t){w=t.UIPopupManager},function(t){F=t.ResHttp}],execute:function(){var L,T,R,M,q,N,_,E,G,z,k,O,U,D,J,B,K,H,Y,x,j,V,W,Q,X,Z,$;s._RF.push({},"985e6ui33dO8IGcx5pKnCpa","UIScreenChosePlant",void 0);var tt=o.ccclass,et=o.property;t("UIScreenChosePlant",(L=tt("UIScreenChosePlant"),T=et(l),R=et(b),M=et(S),q=et(l),N=et(l),_=et(u),E=et(c),G=et(f),z=et(l),k=et(y),O=et(h),U=et(h),L((B=e((J=function(t){function e(){for(var e,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,n(r(e),"ContentParent",B,r(e)),i(r(e),"PlantItemArray",[]),i(r(e),"PlantISunflowertemArray",[]),n(r(e),"landItem",K,r(e)),n(r(e),"farmPage",H,r(e)),n(r(e),"NoAsset",Y,r(e)),n(r(e),"btnFilter",x,r(e)),n(r(e),"btnFilterLabel",j,r(e)),n(r(e),"Content",V,r(e)),n(r(e),"Toggles",W,r(e)),n(r(e),"TogglesCheck",Q,r(e)),n(r(e),"filter",X,r(e)),i(r(e),"isFirstToggles",!0),i(r(e),"typeCurrent",1),i(r(e),"isAddPlant",void 0),i(r(e),"landid",void 0),i(r(e),"farmid",void 0),n(r(e),"PlantItemPrefab",Z,r(e)),n(r(e),"PlantISunflowertemPrefab",$,r(e)),e}a(e,t);var s=e.prototype;return s.Show=function(t,e,a){var n=this;this.isAddPlant=t,this.landid=e,this.farmid=a,this.typeCurrent=1,this.isFirstToggles=!0,this.Toggles[0].isChecked=!0,this.TogglesCheck.setPosition(this.Toggles[0].node.position),this.isFirstToggles=!1,this.Content.node.active=!1,this.NoAsset.active=!0,this.farmPage.toPage(0),this.UpdateLandInfo(),this.RequestLoadMyPlants();this.filter.Init((function(){n.OnFilterSave()}),2)},s.UpdateLandInfo=function(){var t=this;this.farmPage.DisableControll(),this.btnFilter.active=!1,I.RequestMyLandsNoLimit((function(e){var a=JSON.parse(e);if(0==a.status)for(var n=0;n<a.data.length;n++){var r=a.data[n];if(t.landid==r.landId){t.landItem.Init(r);break}}else w.Instance.ShowToast("Error",p.Instance.GetErrorMessage(a.status),0)}),(function(t){}))},s.ChangeTap=function(t){if(!this.isFirstToggles){var e=parseInt(t.name);e!=this.typeCurrent&&(g(this.TogglesCheck).to(.2,{position:t.node.position},{easing:"quadOut"}).start(),this.typeCurrent=e,this.Content.node.active=!1,this.NoAsset.active=!0,this.farmPage.toPage(0),this.RequestLoadApply())}this.isFirstToggles=!1},s.RequestLoadApply=function(){3==this.typeCurrent?this.RequestLoadSunflower():this.RequestLoadMyPlants()},s.RequestLoadMyPlants=function(){var t=this,e={offset:(this.farmPage.currentPage*m.LIMIT_PAGE).toString(),limit:m.LIMIT_PAGE.toString(),type:this.typeCurrent.toString(),status:"0"};this.farmPage.DisableControll(),this.btnFilter.active=!1,I.RequestMyPlants(e,(function(e){var a=JSON.parse(e);t.LoadMyPlants(a)}),(function(t){}))},s.LoadMyPlants=function(t){var e=this;if(this.btnFilter.active=3!=this.typeCurrent,this.Content.stopAutoScroll(),this.Content.scrollToLeft(),0==t.status)if(null!=t.total&&t.total>0&&this.farmPage.currentPage>0&&0==t.data.length)this.farmPage.ChangePage(-1),this.RequestLoadMyPlants();else{this.NoAsset.active=t.data.length<=0,this.Content.node.active=!this.NoAsset.active;var a=function(){e.GotoPage()};if(null!=t.total&&t.total>0?(this.farmPage.node.active=!0,this.farmPage.Init(a,t.total,m.LIMIT_PAGE)):(this.farmPage.Init(a,1,m.LIMIT_PAGE),this.farmPage.node.active=!1),1==this.typeCurrent||2==this.typeCurrent){if(0==this.PlantItemArray.length)for(var n=0;n<m.LIMIT_PAGE;n++){var r=P(this.PlantItemPrefab);r.setParent(this.ContentParent),r.setScale(1,1,1),r.active=!1;var i=r.getComponent(C);this.PlantItemArray.push(i)}for(var s=0;s<this.PlantISunflowertemArray.length;s++)this.PlantISunflowertemArray[s].node.active=!1;for(var o=function(t){e.RequestCreateFarm(t)},l=0;l<this.PlantItemArray.length;l++)l<t.data.length?this.PlantItemArray[l].Init(t.data[l],o,!0,!0):this.PlantItemArray[l].node.active=!1}else{if(0==this.PlantISunflowertemArray.length)for(var u=0;u<8;u++){var c=P(this.PlantISunflowertemPrefab);c.setParent(this.ContentParent),c.setScale(1,1,1),c.active=!1;var f=c.getComponent(v);this.PlantISunflowertemArray.push(f)}for(var h=function(t){e.RequestCreateFarmSunflower(t)},g=0;g<this.PlantItemArray.length;g++)this.PlantItemArray[g].node.active=!1;for(var d=0;d<this.PlantISunflowertemArray.length;d++)d<t.data.length?this.PlantISunflowertemArray[d].Init(t.data[d],h):this.PlantISunflowertemArray[d].node.active=!1}}else w.Instance.ShowToast("Error",p.Instance.GetErrorMessage(t.status),0)},s.GotoPage=function(){3==this.typeCurrent?this.RequestLoadSunflower():this.RequestLoadMyPlants()},s.RequestLoadSunflower=function(){var t=this,e={offset:(this.farmPage.currentPage*m.LIMIT_PAGE).toString(),limit:m.LIMIT_PAGE.toString(),status:"0"};this.farmPage.DisableControll(),this.btnFilter.active=!1,F.GetRequest(m.LINK_API+m.MY_SUNFLOWERS,e,(function(e){var a=JSON.parse(e);t.LoadMyPlants(a)}),(function(t){}))},s.OnBtnBackClick=function(){A.Instance.ShowScreenFarm()},s.OnBtnFilterClick=function(){this.filter.Show(!1)},s.RequestCreateFarmSunflower=function(t){var e={sunflowerId:t.sunflowerId.toString()};this.SendRequestCreateFarm(e)},s.RequestCreateFarm=function(t){var e={plantId:t.plantId.toString()};this.SendRequestCreateFarm(e)},s.SendRequestCreateFarm=function(t){var e=this;if(this.isAddPlant){t.landId=this.landid,t.farmId=this.farmid;F.PostRequest(m.LINK_API+m.ADD_PLANT,t,(function(t){e.AddPlantSuccess(t)}),(function(t){}))}else{t.landId=this.landid;F.PostRequest(m.LINK_API+m.FARMS,t,(function(t){e.CreateFarmSuccess(t)}),(function(t){}))}},s.CreateFarmSuccess=function(t){var e=JSON.parse(t);0==e.status?(null!=e.data.plantType&&this.landItem.PlanTreeSuccess(1!=e.data.plantType),this.RequestLoadApply(),w.Instance.ShowToast("Congratulations","You've successfully created a farm. Take care of your farms carefully",1)):w.Instance.ShowToast("Error",p.Instance.GetErrorMessage(e.status),0)},s.AddPlantSuccess=function(t){var e=JSON.parse(t);0==e.status?(w.Instance.ShowToast("Congratulations","You've successfully add a plant. Take care of your farms carefully",1),A.Instance.ShowChoseLand()):w.Instance.ShowToast("Error",p.Instance.GetErrorMessage(e.status),0)},s.OnFilterSave=function(){this.filter.totalFilter>0?this.btnFilterLabel.string="Filter "+this.filter.totalFilter:this.btnFilterLabel.string="Filter",this.farmPage.toPage(0),this.RequestLoadMyPlants()},e}(d)).prototype,"ContentParent",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(J.prototype,"landItem",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(J.prototype,"farmPage",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(J.prototype,"NoAsset",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(J.prototype,"btnFilter",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(J.prototype,"btnFilterLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(J.prototype,"Content",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(J.prototype,"Toggles",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=e(J.prototype,"TogglesCheck",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(J.prototype,"filter",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(J.prototype,"PlantItemPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(J.prototype,"PlantISunflowertemPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=J))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./OneToMultiListener.ts"],(function(e){"use strict";var n,t,r,i,o;return{setters:[function(e){n=e.defineProperty,t=e.inheritsLoose},function(e){r=e.cclegacy,i=e._decorator},function(e){o=e.OneToMultiListener}],execute:function(){var u,s,c;e("EventID",void 0),r._RF.push({},"9f491zDGu9JLJ5iHNyBo/4k","EventManager",void 0);var a,l=i.ccclass;i.property;!function(e){e[e.UpdateMusicSound=0]="UpdateMusicSound"}(a||(a=e("EventID",{})));e("EventManager",l("EventManager")((c=s=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n}(o),n(s,"handlers",{}),u=c))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupSetting.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ConfigApi.ts","./UserModel.ts","./SoundController.ts","./PopUpBase.ts","./EventManager.ts","./UImanager.ts","./UIPopupManager.ts"],(function(e){"use strict";var n,o,t,i,a,r,c,l,u,s,g,p,h,f,d,S,I;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,c=e.Toggle,l=e.Label,u=e.Node},function(e){s=e.ConfigApi},function(e){g=e.UserModel},function(e){p=e.SoundController},function(e){h=e.PopUpBase},function(e){f=e.EventManager,d=e.EventID},function(e){S=e.UImanager},function(e){I=e.UIPopupManager}],execute:function(){var v,b,y,O,L,U,M,T,m,C,P;a._RF.push({},"a1f671kvKhOuakHKzrqkkwG","UIPopupSetting",void 0);var k=r.ccclass,w=r.property;e("UIPopupSetting",(v=k("UIPopupSetting"),b=w(c),y=w(c),O=w(l),L=w(u),v((T=n((M=function(e){function n(){for(var n,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,t(i(n),"ToggleMusic",T,i(n)),t(i(n),"ToggleSound",m,i(n)),t(i(n),"versionLabel",C,i(n)),t(i(n),"changeLogIcon",P,i(n)),n}o(n,e);var a=n.prototype;return a.Show=function(n){e.prototype.OnShow.call(this),this.ToggleMusic.isChecked=g.userLocalData.musicOn,this.ToggleSound.isChecked=g.userLocalData.soundOn,this.versionLabel.string="V"+s.VERSION,this.changeLogIcon.active=n},a.OnClose=function(){e.prototype.OnHide.call(this)},a.OnToggleMusic=function(){},a.OnToggleSound=function(){},a.OnSave=function(){g.userLocalData.musicOn=this.ToggleMusic.isChecked,g.userLocalData.soundOn=this.ToggleSound.isChecked,g.SaveUserLocalData(),f.dispatchEvent(d.UpdateMusicSound),p.Instance.PlayBgMusic(g.userLocalData.musicOn),e.prototype.OnHide.call(this)},a.OnInfo=function(){e.prototype.OnHide.call(this),S.Instance._UIScreenFram.ShowChangeLog(!0)},a.OnBtnBugClick=function(){I.Instance.ShowUIBugReport()},n}(h)).prototype,"ToggleMusic",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=n(M.prototype,"ToggleSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(M.prototype,"versionLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=n(M.prototype,"changeLogIcon",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=M))||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/LoginManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UserModel.ts","./FarmingServicesApi.ts","./UImanager.ts","./UIPopupManager.ts"],(function(e){"use strict";var n,t,o,a,i,r,s,c,l,g,u,f,h,p,L,d,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.defineProperty,r=e.asyncToGenerator},function(e){s=e.cclegacy,c=e._decorator,l=e.EditBox,g=e.Node,u=e.sys,f=e.Component},function(e){h=e.ResourcesManager},function(e){p=e.UserModel},function(e){L=e.FarmingServicesApi},function(e){d=e.UImanager},function(e){m=e.UIPopupManager}],execute:function(){var v,I,M,S,R,k,T,_,w,b,y;s._RF.push({},"a27dd8sK+pAE4uLsIQ4dGik","LoginManager",void 0);var C=c.ccclass,O=c.property;e("LoginManager",(v=C("LoginManager"),I=O(l),M=O(g),S=O(g),R=O(g),v((_=n((T=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return n=e.call.apply(e,[this].concat(r))||this,o(a(n),"refreshToken",_,a(n)),o(a(n),"Logo",w,a(n)),o(a(n),"Login",b,a(n)),o(a(n),"Scan",y,a(n)),i(a(n),"_refreshToken",void 0),n}t(n,e);var s=n.prototype;return s.start=function(){null!=p.GetToken()?d.Instance.OnLoginSuccess():null!=p.GetRefresh_Token()?this.CallLogin():(this.Login.active=!0,this.Logo.active=!1,cc.OnQRCodeRespone=function(e){console.log("QR respone: ",e),L.PostRequestRefreshToken(e,d.Instance.OnLoginSuccess.bind(d.Instance),d.Instance._LoginManager.LoginFail.bind(d.Instance._LoginManager))}.bind(this),cc.OnQRCodeResponeError=function(e){m.Instance.ShowToast("Error","Cannot read Image",0)}.bind(this))},s.OnBtnScanClick=function(){if(u.platform==u.Platform.ANDROID)jsb.reflection.callStaticMethod("com/cocos/game/QR_CodeReader","scan","(Ljava/lang/String;)V","this is a message from JavaScript");else jsb.reflection.callStaticMethod("AppDelegate","callNativeUIWithTitle:andContent:","cocos2d-js","Yes! you call a Native UI from Reflection")},s.stopScan=function(){jsb.reflection.callStaticMethod("AppDelegate","cancelScanQR:andContent:","cocos2d-js","Yes! you call a Native UI from Reflection")},s.OnBtnChoseClick=function(){u.platform==u.Platform.ANDROID?jsb.reflection.callStaticMethod("com/cocos/game/QR_CodeReader","ChooseImage","(Ljava/lang/String;)V","this is a message from JavaScript"):m.Instance.ShowToast("Infomation","This feature is coming soon!",2)},s.OnBtnMetaClick=function(){m.Instance.Loading(!0);var e="PVU plantvsundead.com signing:",n="",t="",o="";function a(){return i.apply(this,arguments)}function i(){return(i=r(regeneratorRuntime.mark((function a(){var i,r,s;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=window.ethereum,a.next=3,i.request({method:"personal_sign",params:[e+" "+o,t]}).catch((function(e){d.Instance._LoginManager.LoginFail(),m.Instance.ShowToast("Error","MetaMask Login failed!",0)}));case 3:(r=a.sent)?(n=r.toString(),s=function(e){console.log(e);var n=JSON.parse(e);0==n.status?(p.SetToken(n.data.token),d.Instance.OnLoginSuccess()):c(n.status)},L.PostRequestV3_AUTH(t,n,e,s,l)):(d.Instance._LoginManager.LoginFail(),m.Instance.ShowToast("Error","MetaMask Login failed!",0));case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function s(){return(s=r(regeneratorRuntime.mark((function e(){var n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.ethereum,e.next=3,n.request({method:"eth_requestAccounts"}).catch((function(e){d.Instance._LoginManager.LoginFail(),m.Instance.ShowToast("Error","MetaMask Login failed!",0)}));case 3:(i=e.sent)?(t=i[0],r=function(e){console.log(e);var n=JSON.parse(e);0==n.status?(o=n.data.nonce,a()):c(n.status)},L.RequestLoginWithMeta(t,r,l)):(d.Instance._LoginManager.LoginFail(),m.Instance.ShowToast("Error","MetaMask Login failed!",0));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=function(e){d.Instance._LoginManager.LoginFail(),m.Instance.ShowToast("Error",h.Instance.GetErrorMessage(e),0)},l=function(e){d.Instance._LoginManager.LoginFail()};void 0!==window.ethereum&&window.ethereum.isMetaMask?function(){s.apply(this,arguments)}():(m.Instance.ShowToast("Error","Can not detect MetaMask!",0),d.Instance._LoginManager.LoginFail())},s.LoginFail=function(){this.Login.active=!0,this.Logo.active=!1,m.Instance.Loading(!1)},s.CallLogin=function(){var e=this,n=function(n){var t=JSON.parse(n);0==t.status?(p.SetRefresh_Token(e._refreshToken),d.Instance.OnLoginSuccess()):(e.Login.active=!0,e.Logo.active=!1,m.Instance.ShowToast("Error",h.Instance.GetErrorMessage(t.status),0))},t=function(n){e.Login.active=!0,e.Logo.active=!1};if(""!=this.refreshToken.string)this._refreshToken=this.refreshToken.string,this.Login.active=!1,this.Logo.active=!0,L.PostRequestRefreshToken(this._refreshToken,n,t);else{var o=p.GetRefresh_Token();null!=o&&(this._refreshToken=o,this.Login.active=!1,this.Logo.active=!0,L.PostRequestRefreshToken(this._refreshToken,n,t))}},n}(f)).prototype,"refreshToken",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=n(T.prototype,"Logo",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=n(T.prototype,"Login",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(T.prototype,"Scan",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=T))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/ChoseLandItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UImanager.ts"],(function(t){"use strict";var e,n,i,a,o,r,s,l,d,c,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.defineProperty},function(t){r=t.cclegacy,s=t._decorator,l=t.RichText,d=t.Label,c=t.Sprite,p=t.Component},null,function(t){u=t.UImanager}],execute:function(){var h,f,y,v,P,x,g,I,b;r._RF.push({},"a391bn4779A+J4Js8paZiAP","ChoseLandItem",void 0);var m=s.ccclass,A=s.property;t("ChoseLandItem",(h=m("ChoseLandItem"),f=A(l),y=A(d),v=A(c),h((g=e((x=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(a(e),"txtLocation",g,a(e)),i(a(e),"txtPot",I,a(e)),i(a(e),"typeSpriteArray",b,a(e)),o(a(e),"Jdata",void 0),o(a(e),"index",void 0),o(a(e),"isAddPlant",void 0),e}n(e,t);var r=e.prototype;return r.OnbtnSelectClick=function(){this.isAddPlant?u.Instance.ShowAddPlant(!0,this.Jdata.landId,this.Jdata._id):u.Instance.ShowAddPlant(!1,this.Jdata.landId,"")},r.Init=function(t,e){this.index=t,this.Jdata=e,this.UpdateInit(e)},r.UpdateInit=function(t){this.txtLocation.string=t.land.x+","+t.land.y,this.txtPot.node.parent.parent.active=!1,null!=t.stage?(this.isAddPlant=!0,this.UpdateTools(t),this.UpdateTypes(t)):(this.isAddPlant=!1,this.UpdateTypes(t))},r.UpdateTools=function(t){for(var e=t.activeTools,n=0;n<e.length;n++){var i=e[n];1==i.id&&(this.txtPot.string=i.count,this.txtPot.node.parent.parent.active=!0,i.count>1?this.txtPot.node.parent.active=!0:this.txtPot.node.parent.active=!1)}},r.UpdateTypes=function(t){},e}(p)).prototype,"txtLocation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(x.prototype,"txtPot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(x.prototype,"typeSpriteArray",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=x))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupUndeadInfo.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ConfigApi.ts","./Utility.ts","./PopUpBase.ts","./SpriteRatioHelper.ts","./UndeadAssetItem.ts"],(function(e){"use strict";var i,t,n,r,a,l,o,p,s,u,f,d,c,g,b;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.defineProperty,r=e.assertThisInitialized,a=e.initializerDefineProperty},function(e){l=e.cclegacy,o=e._decorator,p=e.Sprite,s=e.sp,u=e.Label},function(e){f=e.ConfigApi},function(e){d=e.Utility},function(e){c=e.PopUpBase},function(e){g=e.SpriteRatioHelper},function(e){b=e.UndeadAssetItem}],execute:function(){var h,U,v,m,y,L,P,w,I,T,z,S,x,A,_,C,D,R,M,B,E,N,H;l._RF.push({},"a3ef2X11IhM0K4KZlNW3e0V","UIPopupUndeadInfo",void 0);var V=o.ccclass,k=o.property,F=1e3;e("UIPopupUndeadInfo",(h=V("UIPopupUndeadInfo"),U=k(g),v=k(p),m=k(s.Skeleton),y=k(u),L=k(p),P=k(u),w=k(p),I=k(u),T=k(p),z=k(b),h((A=i((x=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return i=e.call.apply(e,[this].concat(l))||this,n(r(i),"data",void 0),a(r(i),"undeadView",A,r(i)),a(r(i),"seasonBg",_,r(i)),a(r(i),"undeadSpine",C,r(i)),a(r(i),"lifeTimeCount",D,r(i)),a(r(i),"lifetimeProgress",R,r(i)),a(r(i),"expLabel",M,r(i)),a(r(i),"expProgress",B,r(i)),a(r(i),"pendingLevelUpLabel",E,r(i)),a(r(i),"pendingLvUpProgress",N,r(i)),a(r(i),"undeadAsset",H,r(i)),i}t(i,e);var l=i.prototype;return l.Show=function(i){this.data=i,e.prototype.OnShow.call(this);this.data.status;this.initUndead(this.data);var t=d.GetTimeNow();this.expProgress.fillRange=i.affectionExp/F,this.expLabel.string=i.affectionExp+"/"+F;var n=Date.parse(i.expiryDate),r=Math.floor((n-t)/1e3),a=24*i.baseLifeCycle*60*60;if(this.lifeTimeCount.string=d.ConvertSecondsToTime(r,!0)+" left",console.log("totalSecondDead",r,a),this.lifetimeProgress.fillRange=r/a,i.affectionExp>=F){for(var l=i.affectionLevel,o=0;o<i.timeToUpLv.length;o++)if(i.timeToUpLv[o].level===l+1){var p=Date.parse(i.timeToUpLv[o].date),s=Math.floor((p-t)/1e3),u=f.MAX_TIME_PENDING_LV_UP();this.pendingLevelUpLabel.string=d.ConvertSecondsToTime(s)+" left",this.pendingLvUpProgress.fillRange=1-(u-s)/u;break}}else this.pendingLvUpProgress.fillRange=0,this.pendingLevelUpLabel.string="No pending"},l.initUndead=function(e){this.undeadAsset.Init(e)},l.hide=function(){e.prototype.OnHide.call(this)},i}(c)).prototype,"undeadView",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(x.prototype,"seasonBg",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(x.prototype,"undeadSpine",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(x.prototype,"lifeTimeCount",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(x.prototype,"lifetimeProgress",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(x.prototype,"expLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(x.prototype,"expProgress",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(x.prototype,"pendingLevelUpLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(x.prototype,"pendingLvUpProgress",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(x.prototype,"undeadAsset",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=x))||S));l._RF.pop()}}}));

System.register("chunks:///_virtual/SoundController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts"],(function(_){"use strict";var o,i,n,e,t,u,r,s,a,l,p,c;return{setters:[function(_){o=_.defineProperty,i=_.applyDecoratedDescriptor,n=_.inheritsLoose,e=_.initializerDefineProperty,t=_.assertThisInitialized},function(_){u=_.cclegacy,r=_._decorator,s=_.AudioSource,a=_.AudioClip,l=_.game,p=_.Component},function(_){c=_.UserModel}],execute:function(){var d,h,I,f,U,g,S,B,m,v,F;_("EnumSound",void 0),u._RF.push({},"a4891snXxVKDYiUWyd5CJ4/","SoundController",void 0);var x,y=r.ccclass,C=r.property;!function(_){_[_.UI_fx_chase_crows=0]="UI_fx_chase_crows",_[_.UI_fx_Give_water_farm=1]="UI_fx_Give_water_farm",_[_.UI_fx_Give_water_farm_earn_point=2]="UI_fx_Give_water_farm_earn_point",_[_.UI_fx_LE_harvest_Sound_B_1=3]="UI_fx_LE_harvest_Sound_B_1",_[_.UI_fx_LE_harvest_Sound_B_2=4]="UI_fx_LE_harvest_Sound_B_2",_[_.UI_fx_water_worldtree=5]="UI_fx_water_worldtree",_[_.UI_fx_water_worldtree_earn_point=6]="UI_fx_water_worldtree_earn_point",_[_.UI_fx_LE_harvest_Sound_A_1=7]="UI_fx_LE_harvest_Sound_A_1",_[_.UI_fx_LE_harvest_Sound_A_2=8]="UI_fx_LE_harvest_Sound_A_2",_[_.UI_fx_LE_harvest_Sound_C_1=9]="UI_fx_LE_harvest_Sound_C_1",_[_.UI_fx_LE_harvest_Sound_C_2=10]="UI_fx_LE_harvest_Sound_C_2",_[_.GameUI_button_click=11]="GameUI_button_click",_[_.GameUI_closepopup=12]="GameUI_closepopup",_[_.GameUI_openpopup=13]="GameUI_openpopup",_[_.Minning_pulling=14]="Minning_pulling",_[_.UI_SFX_Cut_Tree_2=15]="UI_SFX_Cut_Tree_2",_[_.UI_Close_Bag=16]="UI_Close_Bag",_[_.UI_Item_Appear=17]="UI_Item_Appear",_[_.UI_Item_Slide_to_Bag=18]="UI_Item_Slide_to_Bag",_[_.UI_Fishing_Bubble=19]="UI_Fishing_Bubble",_[_.UI_Fishing_CaDopNuoc=20]="UI_Fishing_CaDopNuoc",_[_.UI_Fishing_RotXuongNuoc=21]="UI_Fishing_RotXuongNuoc",_[_.UI_Fishing_Ambient=22]="UI_Fishing_Ambient",_[_.BG_Farm=23]="BG_Farm",_[_.BG_Fishing=24]="BG_Fishing",_[_.BG_Chopping=25]="BG_Chopping"}(x||(x=_("EnumSound",{})));_("SoundController",(d=y("SoundController"),h=C(s),I=C(s),f=C(a),d((F=v=function(_){function o(){for(var o,i=arguments.length,n=new Array(i),u=0;u<i;u++)n[u]=arguments[u];return o=_.call.apply(_,[this].concat(n))||this,e(t(o),"BgMusic",S,t(o)),e(t(o),"SoundFX",B,t(o)),e(t(o),"AudioClips",m,t(o)),o}n(o,_);var i=o.prototype;return i.onLoad=function(){null==o.Instance?(o.Instance=this,l.addPersistRootNode(this.node)):this.destroy()},i.start=function(){this.PlayBgMusic(c.userLocalData.musicOn)},i.PlaySound=function(_,o){void 0===o&&(o=.5),c.userLocalData.soundOn&&(this.SoundFX.loop=!1,this.SoundFX.playOneShot(this.AudioClips[_],o))},i.PlaySoundLoop=function(_,o){void 0===o&&(o=.5),c.userLocalData.soundOn&&(this.SoundFX.volume=o,this.SoundFX.loop=!0,this.SoundFX.clip=this.AudioClips[_],this.SoundFX.play())},i.StopSoundLoop=function(){this.SoundFX.stop()},i.PlayBgMusic=function(_){_&&!this.BgMusic.playing?this.BgMusic.play():!_&&this.BgMusic.playing&&this.BgMusic.stop()},i.SetBgMusic=function(_){this.BgMusic.stop(),this.BgMusic.loop=!0,this.BgMusic.clip=this.AudioClips[_],c.userLocalData.musicOn&&this.BgMusic.play()},o}(p),o(v,"Instance",void 0),S=i((g=F).prototype,"BgMusic",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(g.prototype,"SoundFX",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=i(g.prototype,"AudioClips",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=g))||U));u._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,i,n;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,n=e.Component}],execute:function(){var o;t._RF.push({},"a6f47BYijVCfYEooOtF4Vsg","Timer",void 0);var c=i.ccclass;i.property,e("Timer",c("Timer")(o=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t}(n))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/UIScreenChooseExpedition.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./EggItem.ts","./SimplePool.ts","./UndeadAssetItem.ts","./UImanager.ts","./UIPopupManager.ts","./ExpeditionServiceApi.ts"],(function(e){"use strict";var t,n,i,a,o,s,r,c,d,l,u,g,h,p,f,b,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.defineProperty,a=e.assertThisInitialized,o=e.initializerDefineProperty},function(e){s=e.cclegacy,r=e._decorator,c=e.Node,d=e.tween,l=e.Component},function(e){u=e.ResourcesManager},function(e){g=e.EggItem},function(e){h=e.SimplePool},function(e){p=e.UndeadAssetItem},function(e){f=e.UImanager},function(e){b=e.UIPopupManager},function(e){S=e.ExpeditionServiceApi}],execute:function(){var v,I,E,U,C,y,m,A,L,R,P,q,w,O,k;s._RF.push({},"a7da2Qe+H9FUamwee9qt4gb","UIScreenChooseExpedition",void 0);var N=r.ccclass,T=r.property;e("UIScreenChooseExpedition",(v=N("UIScreenChooseExpedition"),I=T(g),E=T(p),U=T(c),C=T(c),y=T(c),m=T(c),v((R=t((L=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,i(a(t),"isFirstToggles",!0),i(a(t),"typeCurrent",1),i(a(t),"cageId",void 0),i(a(t),"cacheEggData",void 0),o(a(t),"eggPrefab",R,a(t)),o(a(t),"undeadPrefab",P,a(t)),o(a(t),"content",q,a(t)),o(a(t),"TogglesCheck",w,a(t)),o(a(t),"NoAsset",O,a(t)),o(a(t),"Content",k,a(t)),t}n(t,e);var s=t.prototype;return s.Show=function(e){this.cageId=e,this.RequestLoadEgg()},s.ChangeTap=function(e){var t=parseInt(e.name);t!=this.typeCurrent&&(d(this.TogglesCheck).to(.2,{position:e.node.position},{easing:"quadOut"}).start(),this.typeCurrent=t,this.Content.active=!1,this.NoAsset.active=!0,this.RequestLoadApply())},s.OnBtnBackClick=function(){f.Instance.ShowScreenFarm()},s.RequestLoadApply=function(){1==this.typeCurrent?this.RequestLoadEgg():this.RequestLoadUndead()},s.RequestLoadEgg=function(){S.RequestLoadExEgg(this.initListEgg.bind(this))},s.RequestLoadUndead=function(){S.RequestLoadUndead(this.initListUndead.bind(this))},s.initListEgg=function(e){h.releaseAll(this.content);var t=JSON.parse(e);if(0==t.status){t.data.length>0&&(this.Content.active=!0,this.NoAsset.active=!1);for(var n=0;n<t.data.length;n++){var i=h.get(g,this.eggPrefab.node,this.content);i.node.active=!0,i.InitOnSelect(t.data[n],this.onSelectEgg.bind(this))}}},s.initListUndead=function(e){h.releaseAll(this.content);var t=JSON.parse(e);if(0==t.status){t.data.length>0&&(this.Content.active=!0,this.NoAsset.active=!1);for(var n=0;n<t.data.length;n++){var i=h.get(p,this.undeadPrefab.node,this.content);i.node.active=!0,i.InitOnSelect(t.data[n],this.onSelectUndead.bind(this))}}},s.onSelectEgg=function(e,t){this.cacheEggData=t,console.log("select egg: "+e,this.cageId),S.RequestCreateUndeadWithEgg(e,this.cageId,this.onCreateUndeadSuccess.bind(this))},s.onCreateUndeadSuccess=function(e){var t=JSON.parse(e);0==t.status?(console.log("todo open undead egg",e),b.Instance._UIPopupOpenEgg.OpenEggToUndead(t,this.cacheEggData,this.OnBtnBackClick.bind(this))):b.Instance.ShowToast("Error",u.Instance.GetErrorMessage(t.status),0)},s.onSelectUndeadSuccess=function(e){var t=JSON.parse(e);0==t.status?this.OnBtnBackClick():b.Instance.ShowToast("Error",u.Instance.GetErrorMessage(t.status),0)},s.onSelectUndead=function(e){console.log("onSelectUndead: "+e),S.RequestAssignUndeadToCage(e,this.cageId,this.onSelectUndeadSuccess.bind(this))},t}(l)).prototype,"eggPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(L.prototype,"undeadPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(L.prototype,"content",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(L.prototype,"TogglesCheck",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(L.prototype,"NoAsset",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(L.prototype,"Content",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=L))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/TreasureAssetsOpen.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./GatheringServicesApi.ts","./PopUpBase.ts","./UIPopupManager.ts"],(function(e){"use strict";var t,s,n,r,i,o,a,c,p,u,l,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.defineProperty},function(e){o=e.cclegacy,a=e._decorator,c=e.Sprite},function(e){p=e.ResourcesManager},function(e){u=e.GatheringServicesApi},function(e){l=e.PopUpBase},function(e){h=e.UIPopupManager}],execute:function(){var f,y,S,v,g;o._RF.push({},"aca0bLsaJlE3p+f7m6odrve","TreasureAssetsOpen",void 0);var O=a.ccclass,d=a.property;e("TreasureAssetsOpen",(f=O("TreasureAssetsOpen"),y=d(c),f((g=t((v=function(e){function t(){for(var t,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(r(t),"icon",g,r(t)),i(r(t),"amount",5),i(r(t),"typeShop",void 0),i(r(t),"cbSuccess",void 0),t}s(t,e);var o=t.prototype;return o.Show=function(t,s,n,r){e.prototype.OnShow.call(this),this.cbSuccess=r,this.typeShop=s,this.icon.spriteFrame=t,this.amount=n},o.OnBtnCloseClick=function(){e.prototype.OnHide.call(this)},o.OnBtnBuyClick=function(){var e=this;u.OPEN_TREASURE(this.typeShop,this.amount,(function(t){var s=JSON.parse(t);0==s.status?e.cbSuccess(e.amount,s):h.Instance.ShowToast("Error",p.Instance.GetErrorMessage(s.status),0),e.OnBtnCloseClick()}),(function(e){}))},t}(l)).prototype,"icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=v))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/GatheringManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PrefabController.ts","./GatherEndPopup.ts","./MaterialDrop.ts","./MysteryPopup.ts","./UIGarderingBag.ts","./UIGarderingLevel.ts","./UIPopupMaterialWarning.ts"],(function(n){"use strict";var t,e,r,i,o,a,s,p,u,h,g,l,c,d,f;return{setters:[function(n){t=n.defineProperty,e=n.inheritsLoose,r=n.assertThisInitialized},function(n){i=n.cclegacy,o=n._decorator,a=n.game,s=n.Component},function(n){p=n.PrefabController,u=n.PrefabEnum},function(n){h=n.GatherEndPopup},function(n){g=n.MaterialDrop},function(n){l=n.MysteryPopup},function(n){c=n.UIGarderingBag},function(n){d=n.UIGarderingLevel},function(n){f=n.UIPopupMaterialWarning}],execute:function(){var P,I,M;i._RF.push({},"b4b2ePAizdP6Z7En1l8MAuh","GatheringManager",void 0);var G=o.ccclass;n("GatheringManager",G("GatheringManager")((M=I=function(n){function i(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o))||this,t(r(e),"_UIPopupMaterialWarning",void 0),t(r(e),"_UIGarderingBag",void 0),t(r(e),"_UIGarderingLevel",void 0),t(r(e),"_GatherEndPopup",void 0),t(r(e),"_MysteryPopup",void 0),e}e(i,n);var o=i.prototype;return o.onLoad=function(){null==i.Instance?(i.Instance=this,a.addPersistRootNode(this.node)):this.destroy(),this._UIPopupMaterialWarning=this.getComponentInChildren(f),this._UIGarderingBag=this.getComponentInChildren(c),this._UIGarderingLevel=this.getComponentInChildren(d),this._GatherEndPopup=this.getComponentInChildren(h),this._MysteryPopup=this.getComponentInChildren(l)},o.ShowMaterialWarning=function(n,t,e){this._UIPopupMaterialWarning.Show(n,t,e)},o.ShowBag=function(){this._UIGarderingBag.Show()},o.ShowMysteryPopup=function(n,t,e){this._MysteryPopup.Show(n,t,e)},o.ShowLevel=function(n){void 0===n&&(n=function(){}),this._UIGarderingLevel.Show(n)},o.ShowGatherEndPopup=function(n){this._GatherEndPopup.Show(n)},o.SwapMaterial=function(){return p.Instance.GetPrefab(u.MaterialDrop).getComponent(g)},i}(s),t(I,"Instance",void 0),P=M))||P);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupNurtureUndead.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./ExpeditionHelper.ts","./UImanager.ts","./UIPopupManager.ts","./ExpeditionServiceApi.ts"],(function(e){"use strict";var t,n,i,a,o,r,s,u,c,p,l,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.defineProperty,a=e.assertThisInitialized,o=e.initializerDefineProperty},function(e){r=e.cclegacy,s=e._decorator,u=e.Label},function(e){c=e.PopUpBase},function(e){p=e.ExpeditionHelper},function(e){l=e.UImanager},function(e){d=e.UIPopupManager},function(e){h=e.ExpeditionServiceApi}],execute:function(){var f,g,U,y,x,b,m;r._RF.push({},"b9bbbwoyMlH3ourdlHsi15R","UIPopupNurtureUndead",void 0);var I=s.ccclass,v=s.property;e("UIPopupNurtureUndead",(f=I("UIPopupNurtureUndead"),g=v(u),U=v(u),f((b=t((x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(a(t),"data",void 0),o(a(t),"text1",b,a(t)),o(a(t),"text2",m,a(t)),t}n(t,e);var r=t.prototype;return r.Show=function(t){this.data=t,e.prototype.OnShow.call(this),h.RequestGetRegenData(t._id,this.OnGetDataComplete.bind(this))},r.OnGetDataComplete=function(t){var n=p.CheckStatus(t);null!=n?(this.text1.string="To restore 25% max Fatigue of this\nUndead, you will need "+n.data.leToUse+" LE",this.text2.string="You have restored Fatigue for this \nUndead "+n.data.noTimesRegenByLE+" times today.\nNext time cost will be "+n.data.leToUseNextTime+" LE."):e.prototype.OnHide.call(this)},r.BtnConfirm=function(){h.RequestRegenFatigue(this.data._id,this.successRengen.bind(this))},r.successRengen=function(e){var t=p.CheckStatus(e);null!=t&&(l.Instance._UIScreenFram.TweenLE(t.data.leWallet,!1),d.Instance.ShowToast("Success","Regen Fatigue success",1,!0),this.hide())},r.hide=function(){l.Instance._UIScreenFram.getExpedition().showExpedition(),e.prototype.OnHide.call(this)},t}(c)).prototype,"text1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(x.prototype,"text2",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=x))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/GatheringRoutesMap.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UserModel.ts","./GatheringServicesApi.ts","./UITutorial.ts","./UIPopupManager.ts","./GatheringManager.ts","./RoutesItem.ts"],(function(e){"use strict";var t,n,i,a,r,o,s,l,u,c,h,p,f,m,b,I,g,v,d,S,G,P,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.defineProperty},function(e){o=e.cclegacy,s=e._decorator,l=e.SpriteFrame,u=e.Prefab,c=e.Node,h=e.UITransform,p=e.Label,f=e.instantiate,m=e.Vec3,b=e.Sprite,I=e.Component},function(e){g=e.ResourcesManager},function(e){v=e.UserModel},function(e){d=e.GatheringServicesApi},function(e){S=e.UITutorial},function(e){G=e.UIPopupManager},function(e){P=e.GatheringManager},function(e){R=e.RoutesItem}],execute:function(){var M,y,B,C,L,w,A,k,z,D,T,N,E,U,O,F,W,x,_,q,J,j,H,K,V,Z,Q,X,Y,$,ee,te,ne,ie,ae,re,oe,se,le,ue,ce,he,pe,fe,me;o._RF.push({},"be751jovZFDx5nnHIIpkLxe","GatheringRoutesMap",void 0);var be=s.ccclass,Ie=s.property;e("GatheringRoutesMap",(M=be("GatheringRoutesMap"),y=Ie(l),B=Ie(l),C=Ie(l),L=Ie(l),w=Ie(u),A=Ie(c),k=Ie(u),z=Ie(c),D=Ie(l),T=Ie(l),N=Ie(u),E=Ie(l),U=Ie(l),O=Ie(c),F=Ie(c),W=Ie(h),x=Ie(h),_=Ie(p),q=Ie(c),J=Ie(h),j=Ie(S),M((V=t((K=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(a(t),"NoteIcon",V,a(t)),i(a(t),"NoteIconActive",Z,a(t)),i(a(t),"BaseRound",Q,a(t)),i(a(t),"BaseRectangle",X,a(t)),i(a(t),"RoutesItemPrefab",Y,a(t)),i(a(t),"RouteItemContent",$,a(t)),r(a(t),"RoutesItemPrefabs",[]),i(a(t),"bgItemPrefab",ee,a(t)),i(a(t),"BGItemContent",te,a(t)),r(a(t),"BGItemPrefabs",[]),i(a(t),"BGItemSpriteEnd",ne,a(t)),i(a(t),"BGItemSpriteLoop",ie,a(t)),i(a(t),"LinePrefab",ae,a(t)),r(a(t),"LinePrefabs",[]),i(a(t),"LineActive",re,a(t)),i(a(t),"LineInActive",oe,a(t)),i(a(t),"LineActiveContent",se,a(t)),i(a(t),"LineInActiveContent",le,a(t)),i(a(t),"ScrollContent",ue,a(t)),r(a(t),"RoutesItems",[[]]),i(a(t),"BGMapLoop",ce,a(t)),i(a(t),"StaminaLabel",he,a(t)),i(a(t),"CurrentNodeCheck",pe,a(t)),i(a(t),"canvasUITransform",fe,a(t)),i(a(t),"uITutorial",me,a(t)),r(a(t),"NodeDistance",550),r(a(t),"cacheTravelBag",void 0),t}n(t,e);var o=t.prototype;return o.start=function(){null!=v.curWorldMapData&&this.Show(),null!=v.userGatherData&&this.UpdateStaminaLabel()},o.Show=function(){this.InitWorldMap(),this.AfterInitMap()},o.UpdateStaminaLabel=function(){this.StaminaLabel.string=v.userGatherData.currentStamina+"/"+v.userGatherData.maxStamina},o.AfterInitMap=function(){var e=this;v.curWorldMapData.config.length!=v.curWorldMapData.passedMiniGameIndex.length?null!=v.curWorldMapData.playingMiniGameId&&""!=v.curWorldMapData.playingMiniGameId&&d.FORCE_SKIP_CURRENT_ROUTE((function(t){var n=d.CheckStatus(JSON.parse(t));null!=n&&(v.curWorldMapData=n.data.route,v.userGatherData.currentStamina=n.data.stamina,e.UpdateStaminaLabel(),e.Show())}),(function(e){})):this.OnBtnBackClick()},o.InitWorldMap=function(){this.deAvtivePrefab();var e=v.curWorldMapData.config,t=v.curWorldMapData.passedMiniGameIndex,n=0;this.RoutesItems=[];for(var i=0;i<e.length;i++){this.RoutesItems[i]=[];for(var a=e[i].miniGames,r=0;r<a.length;r++){var o=void 0;n<this.RoutesItemPrefabs.length?o=this.RoutesItemPrefabs[n]:(o=f(this.RoutesItemPrefab),this.RoutesItemPrefabs.push(o)),n++;var s=o.getComponent(R);o.setParent(this.RouteItemContent),this.RoutesItems[i][r]=s;var l=!1,u=!0;null!=t&&i<t.length&&(l=t[i]==r),i>=t.length&&(u=!1),s.Init(a[r],this,i,r,l,this.NodeDistance,u)}}for(var c=0;c<this.RoutesItems.length;c++)for(var p=0;p<this.RoutesItems[c].length;p++)if(null!=t&&t.length>0)if(c==t.length-1){if(this.RoutesItems[c][p].setisPlayAble(!1),p==t[c]){var I=this.RoutesItems[c][p].json;if(null!=I.outGoing&&I.outGoing.length>0)for(var g=0;g<I.outGoing.length;g++)this.RoutesItems[c+1][I.outGoing[g]].setisPlayAble(!0)}}else c==t.length&&this.RoutesItems[c][p].isPlayable||this.RoutesItems[c][p].setisPlayAble(!1);else this.RoutesItems[c][p].setisPlayAble(0==c);for(var d=0,S=0;S<this.RoutesItems.length;S++)for(var G=0;G<this.RoutesItems[S].length;G++)for(var P=this.RoutesItems[S][G].json.outGoing,M=0;M<P.length;M++){var y=this.GetLineItem(d),B=this.RoutesItems[S][G].node.getPosition(),C=this.RoutesItems[S+1][P[M]].node.getPosition(),L=new m(B);L.add(C),L.multiplyScalar(.5),y.setPosition(L);var w=m.distance(B,C);y.getComponent(h).width=.75*w;var A=(C.y-B.y)/(C.x-B.x);A=Math.tanh(A),A*=180/Math.PI,y.setRotationFromEuler(0,0,A),this.RoutesItems[S][G].isPassed&&this.RoutesItems[S+1][P[M]].isPassed?(y.getComponent(b).spriteFrame=this.LineActive,y.setParent(this.LineActiveContent)):(y.getComponent(b).spriteFrame=this.LineInActive,y.setParent(this.LineInActiveContent)),d++}var k=610+this.NodeDistance*e.length;if(this.ScrollContent.width=k,this.InitBackGround(k-this.NodeDistance),null!=t&&t.length>0){this.CurrentNodeCheck.active=!0;var z=this.RoutesItems[t.length-1][t[t.length-1]].node.getPosition();this.CurrentNodeCheck.setPosition(z.x+47,z.y-47,0);var D=-z.x+this.canvasUITransform.width/2;D<0&&this.ScrollContent.node.setPosition(D,-10,0)}else this.CurrentNodeCheck.active=!1},o.deAvtivePrefab=function(){for(var e=0;e<this.BGItemPrefabs.length;e++)this.BGItemPrefabs[e].active=!1;for(var t=0;t<this.LinePrefabs.length;t++)this.LinePrefabs[t].active=!1;for(var n=0;n<this.RoutesItemPrefabs.length;n++)this.RoutesItemPrefabs[n].active=!1},o.InitBackGround=function(e){e-=1134;var t=0,n=this.GetBGItem(t);for(t++,n.getComponent(b).spriteFrame=this.BGItemSpriteEnd,n.setScale(1.26,1.26,1);e>0;)n=this.GetBGItem(t),t++,n.getComponent(b).spriteFrame=this.BGItemSpriteLoop,n.setScale(1.26,1.26,1),e-=312.48;n=this.GetBGItem(t),t++,n.getComponent(b).spriteFrame=this.BGItemSpriteEnd,n.setScale(-1.26,1.26,1),this.BGMapLoop.width=(1134+312.48*(t-2)-192)/1.26},o.GetBGItem=function(e){var t;return e<this.BGItemPrefabs.length?t=this.BGItemPrefabs[e]:(t=f(this.bgItemPrefab),this.BGItemPrefabs.push(t)),t.active=!0,t.setParent(this.BGItemContent),t.setPosition(0,0,0),t},o.GetLineItem=function(e){var t;return e<this.LinePrefabs.length?t=this.LinePrefabs[e]:(t=f(this.LinePrefab),this.LinePrefabs.push(t)),t.active=!0,t},o.OnBtnBagClick=function(){P.Instance.ShowBag()},o.OnBtnTutorialClick=function(){this.uITutorial.Show(0)},o.PrivateEndRoute=function(e){var t=this;d.GetTravelBagInfo((function(n){0!=JSON.parse(n).status?t.cacheTravelBag=null:t.cacheTravelBag=n;d.END_ROUTE(e,(function(e){}))}),(function(e){t.cacheTravelBag=null}),!0)},o.OnBtnBackClick=function(){var e=this;this.PrivateEndRoute((function(t){var n=JSON.parse(t);1118!=n.status?null!=d.CheckStatus(n)&&(null==e.cacheTravelBag?G.Instance.LoadScene("0.Farm"):P.Instance.ShowGatherEndPopup(n)):G.Instance.LoadScene("0.Farm")}))},o.OnBtnSettingClick=function(){G.Instance.ShowSetting(!1)},o.OnBtnMiniGameClick=function(e,t){var n=this;switch(e){case 0:case 1:case 2:d.StartMiniGame(t.toString(),(function(t){n.onRequestStartMiniGameSuccess(t,e)}),(function(){}));break;case 3:d.StartMystery(t.toString(),(function(e){n.onRequestStartMysterySuccess(e,t)}),(function(){}))}},o.onRequestStartMysterySuccess=function(e,t){var n=this,i=JSON.parse(e);0==i.status?P.Instance.ShowMysteryPopup(i,(function(){n.UpdateStaminaLabel()}),(function(e,i){1==e?(v.curWorldMapData.passedMiniGameIndex.push(t),n.Show()):0==e&&d.StartMiniGame(t.toString(),(function(e){n.onRequestStartMiniGameSuccess(e,i)}),(function(){}))})):G.Instance.ShowToast("Error",g.Instance.GetErrorMessage(i.status),0)},o.onRequestStartMiniGameSuccess=function(e,t){var n=JSON.parse(e);if(0==n.status)switch(v.curWorldMapData=n.data,t){case 0:G.Instance.LoadScene("2.Chopping");break;case 1:G.Instance.LoadScene("4.Mining");break;case 2:G.Instance.LoadScene("3.Fishing")}else G.Instance.ShowToast("Error",g.Instance.GetErrorMessage(n.status),0),1111==n.status&&this.OnBtnBackClick()},t}(I)).prototype,"NoteIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(K.prototype,"NoteIconActive",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(K.prototype,"BaseRound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(K.prototype,"BaseRectangle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(K.prototype,"RoutesItemPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(K.prototype,"RouteItemContent",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(K.prototype,"bgItemPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(K.prototype,"BGItemContent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(K.prototype,"BGItemSpriteEnd",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(K.prototype,"BGItemSpriteLoop",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(K.prototype,"LinePrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(K.prototype,"LineActive",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(K.prototype,"LineInActive",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(K.prototype,"LineActiveContent",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(K.prototype,"LineInActiveContent",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(K.prototype,"ScrollContent",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(K.prototype,"BGMapLoop",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=t(K.prototype,"StaminaLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=t(K.prototype,"CurrentNodeCheck",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=t(K.prototype,"canvasUITransform",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=t(K.prototype,"uITutorial",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=K))||H));o._RF.pop()}}}));

System.register("chunks:///_virtual/UndeadAssetItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./Utility.ts","./SpriteRatioHelper.ts"],(function(e){"use strict";var t,i,a,r,n,l,o,s,u,c,p,b,f,d,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.defineProperty},function(e){l=e.cclegacy,o=e._decorator,s=e.Label,u=e.Sprite,c=e.SpriteFrame,p=e.color,b=e.Component},function(e){f=e.ResourcesManager},function(e){d=e.Utility},function(e){v=e.SpriteRatioHelper}],execute:function(){var m,h,L,y,g,F,S,B,_,w,I,z,x,A,C,U,k,R,D,H,T,M,P;l._RF.push({},"c08dafaH91Hrb9ZZfQeAQeX","UndeadAssetItem",void 0);var G=o.ccclass,Q=o.property;e("UndeadAssetItem",(m=G("UndeadAssetItem"),h=Q(s),L=Q(s),y=Q(s),g=Q(s),F=Q(v),S=Q(u),B=Q(c),_=Q(s),w=Q(u),I=Q(c),m((A=t((x=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,a(r(t),"duration",A,r(t)),a(r(t),"status_inBarn",C,r(t)),a(r(t),"status_maxLevel",U,r(t)),a(r(t),"idLabel",k,r(t)),a(r(t),"Icon",R,r(t)),a(r(t),"Base",D,r(t)),a(r(t),"baseSpriteFrame",H,r(t)),a(r(t),"level",T,r(t)),a(r(t),"BaseLevel",M,r(t)),a(r(t),"LevelBaseSpriteFrame",P,r(t)),n(r(t),"LevelColor",[p("#53FF83"),p("#53CBFF"),p("#E659FF")]),n(r(t),"callback",void 0),n(r(t),"data",void 0),t}i(t,e);var l=t.prototype;return l.Init=function(e){this.node.active=!0;var t=e.rarity;this.BaseLevel.spriteFrame=this.LevelBaseSpriteFrame[t-1],this.level.string=e.affectionLevel.toString(),this.level.color=this.LevelColor[t-1],this.Base.spriteFrame=this.baseSpriteFrame[t-1],this.idLabel.string="#"+e.tokenId,f.Instance.GetUndead(e.code.toLowerCase(),e.affectionLevel,function(e){this.Icon.spriteFrame=e}.bind(this)),null!=this.status_inBarn&&(this.status_inBarn.node.active=null!=e.currentCage),null!=this.status_maxLevel&&(this.status_maxLevel.node.active=e.maxAffectionLevel<=e.affectionLevel);var i=(Date.parse(e.expiryDate.toString())-d.GetTimeNow())/1e3;this.duration.string="Life - "+d.ConvertSecondsToTimeShort(i)},l.InitOnSelect=function(e,t){this.data=e,this.callback=t,this.Init(e)},l.select=function(){this.callback&&this.callback(this.data._id)},t}(b)).prototype,"duration",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(x.prototype,"status_inBarn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(x.prototype,"status_maxLevel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(x.prototype,"idLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(x.prototype,"Icon",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(x.prototype,"Base",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(x.prototype,"baseSpriteFrame",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(x.prototype,"level",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(x.prototype,"BaseLevel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(x.prototype,"LevelBaseSpriteFrame",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=x))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/ExpeditionHelper.ts",["cc","./ResourcesManager.ts","./ConfigApi.ts","./Utility.ts","./ExpeditionItem.ts","./UIPopupManager.ts"],(function(e){"use strict";var t,n,r,i,a,o;return{setters:[function(e){t=e.cclegacy,n=e._decorator},function(e){r=e.ResourcesManager},null,function(e){i=e.Utility},function(e){a=e.ExpeditionCageState},function(e){o=e.UIPopupManager}],execute:function(){var u;t._RF.push({},"c355eIERe9HxI668MCr+B6N","ExpeditionHelper",void 0);var s=n.ccclass;n.property,e("ExpeditionHelper",s("ExpeditionHelper")(u=function(){function e(){}return e.CheckStatus=function(e){var t=JSON.parse(e);return 0==t.status?t:(o.Instance.ShowToast("Error",r.Instance.GetErrorMessage(t.status),0),null)},e.GetTotalSecTimeLeft=function(e){var t=e.estEndTime,n=Date.parse(t),r=i.GetTimeNow();return Math.floor((n-r)/1e3)},e.GetCurUndeadFatigue=function(e){var t=i.GetTimeNow();if(e.status==a.OnExpedition)return e.currentFatigue;var n=Date.parse(e.lastTimeRegenFatigue),r=Math.floor((t-n)/1e3),o=Math.max(r/3600,0);return Math.min(e.currentFatigue+o*e.fatigueCostPerExpeditionHour,e.maxFatigue)},e}())||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/GatheringMiniGameUI.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./Utility.ts","./SoundController.ts","./PrefabController.ts","./UIPopupManager.ts","./GatheringLevelTop.ts","./GatheringManager.ts"],(function(t){"use strict";var e,i,n,a,r,s,o,l,p,u,c,g,h,m,b,f,_,I,k,y,S,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.defineProperty,s=t.createClass},function(t){o=t.cclegacy,l=t._decorator,p=t.Label,u=t.Sprite,c=t.SpriteFrame,g=t.Node,h=t.Component},function(t){m=t.UserModel},function(t){b=t.Utility},function(t){f=t.SoundController,_=t.EnumSound},function(t){I=t.PrefabController,k=t.PrefabEnum},function(t){y=t.UIPopupManager},function(t){S=t.GatheringLevelTop},function(t){B=t.GatheringManager}],execute:function(){var v,C,G,d,L,w,P,U,z,M,x,F,T,D,O,A,E,N,R,V,j,H,Q;o._RF.push({},"c65baZYLgNM/rmntzLW2FQb","GatheringMiniGameUI",void 0);var W=l.ccclass,Y=l.property;t("GatheringMiniGameUI",(v=W("GatheringMiniGameUI"),C=Y(S),G=Y(p),d=Y(p),L=Y(u),w=Y(c),P=Y(c),U=Y(p),z=Y(g),M=Y(g),x=Y(g),v((D=e((T=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,n(a(e),"gatheringLevelTop",D,a(e)),n(a(e),"staminaLabel",O,a(e)),n(a(e),"totalItem",A,a(e)),r(a(e),"_curItem",0),r(a(e),"_maxItem",0),n(a(e),"BagSprite",E,a(e)),n(a(e),"BagOpenSprite",N,a(e)),n(a(e),"BagCloseSprite",R,a(e)),r(a(e),"bagCurrent",0),r(a(e),"_skipGameBtnstate",0),n(a(e),"skip_amount",V,a(e)),n(a(e),"skip_staminaIcon",j,a(e)),n(a(e),"skip_keyIcon",H,a(e)),n(a(e),"skip_nextmap",Q,a(e)),r(a(e),"onSkip",(function(){})),r(a(e),"type",0),e}i(e,t);var o=e.prototype;return o.Init=function(t,e,i){void 0===i&&(i=function(){}),this.type=t,this.onSkip=i,this._skipGameBtnstate=0,this._maxItem=e,this.curItem=e,this.gatheringLevelTop.UpdateView(t),this.skipGameBtnstate=0,this.bagCurrent=0,this.CloseBag(!1,!1)},o.OpenBag=function(){this.BagSprite.spriteFrame=this.BagOpenSprite,this.bagCurrent++},o.CloseBag=function(t,e){var i=this;if(void 0===e&&(e=!0),t){var n=I.Instance.GetPrefab(k.Bag_effect);n.setParent(this.BagSprite.node),n.setPosition(25,0,0),b.PlayParticle(n),b.AsyncDelay(300).then((function(){i.bagCurrent--,i.bagCurrent<0&&(i.bagCurrent=0),0==i.bagCurrent&&(e&&f.Instance.PlaySound(_.UI_Close_Bag,1),i.BagSprite.spriteFrame=i.BagCloseSprite)}))}else this.bagCurrent--,this.bagCurrent<0&&(this.bagCurrent=0),0==this.bagCurrent&&(e&&f.Instance.PlaySound(_.UI_Close_Bag,1),this.BagSprite.spriteFrame=this.BagCloseSprite)},o.onBtnBag=function(){B.Instance.ShowBag()},o.onBtnSkip=function(){this.onSkip()},o.onBtnSetting=function(){y.Instance.ShowSetting(!1)},o.onBtnLevel=function(){var t=this;B.Instance.ShowLevel((function(){t.gatheringLevelTop.UpdateView(t.type)}))},o.UpdateStaminaLabel=function(){this.staminaLabel.string=m.userGatherData.currentStamina+"/"+m.userGatherData.maxStamina},s(e,[{key:"curItem",get:function(){return this._curItem},set:function(t){this._curItem=t,this.totalItem.string=this._curItem+"/"+this._maxItem}},{key:"skipGameBtnstate",get:function(){return this._skipGameBtnstate},set:function(t){this._skipGameBtnstate=t,0==t?(this.skip_nextmap.active=!1,this.skip_staminaIcon.parent.active=!0,this.skip_staminaIcon.active=!0,this.skip_keyIcon.active=!1,this.skip_amount.string="50"):1==t?(this.skip_nextmap.active=!1,this.skip_staminaIcon.parent.active=!0,this.skip_staminaIcon.active=!1,this.skip_keyIcon.active=!0,this.skip_amount.string="1"):2==t&&(this.skip_nextmap.active=!0,this.skip_staminaIcon.parent.active=!1)}}]),e}(h)).prototype,"gatheringLevelTop",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(T.prototype,"staminaLabel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(T.prototype,"totalItem",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(T.prototype,"BagSprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(T.prototype,"BagOpenSprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(T.prototype,"BagCloseSprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(T.prototype,"skip_amount",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(T.prototype,"skip_staminaIcon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(T.prototype,"skip_keyIcon",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(T.prototype,"skip_nextmap",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=T))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/MysteryPopup.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./PopUpBase.ts"],(function(i){"use strict";var e,t,a,r,n,s,l,o,c,p,u,h,g;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,a=i.initializerDefineProperty,r=i.assertThisInitialized,n=i.defineProperty},function(i){s=i.cclegacy,l=i._decorator,o=i.Node,c=i.Label,p=i.Sprite,u=i.SpriteFrame},function(i){h=i.UserModel},function(i){g=i.PopUpBase}],execute:function(){var b,y,F,B,m,M,_,E,U,S,f,L,R,P,T,A,d,v,k,w,I;i("MYSTERY_RESULT_TYPE",void 0),s._RF.push({},"cad2dJjT+9PnpFZyLtPnygO","MysteryPopup",void 0);var G,D=l.ccclass,z=l.property;!function(i){i[i.BUFF_BLESSING=0]="BUFF_BLESSING",i[i.BUFF_WING=1]="BUFF_WING",i[i.BUFF_PERSONAL_BUTLER=2]="BUFF_PERSONAL_BUTLER",i[i.BUFF_WEALTH=3]="BUFF_WEALTH",i[i.DEBUFF_ROBBERY=4]="DEBUFF_ROBBERY",i[i.DEBUFF_SWARM=5]="DEBUFF_SWARM",i[i.MEDIUM_MAP=6]="MEDIUM_MAP",i[i.SMALL_MAP=7]="SMALL_MAP",i[i.CART=8]="CART"}(G||(G=i("MYSTERY_RESULT_TYPE",{})));i("MysteryPopup",(b=D("MysteryPopup"),y=z(o),F=z(c),B=z(c),m=z(o),M=z(c),_=z(p),E=z(u),U=z(u),S=z(u),b((R=e((L=function(i){function e(){for(var e,t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return e=i.call.apply(i,[this].concat(s))||this,a(r(e),"Box0",R,r(e)),a(r(e),"title0",P,r(e)),a(r(e),"result0",T,r(e)),a(r(e),"Box1",A,r(e)),a(r(e),"title1",d,r(e)),a(r(e),"MiniGameIcon",v,r(e)),a(r(e),"chopping",k,r(e)),a(r(e),"fishing",w,r(e)),a(r(e),"mining",I,r(e)),n(r(e),"callback",void 0),n(r(e),"callbackType",void 0),n(r(e),"gametype",void 0),e}t(e,i);var s=e.prototype;return s.Show=function(e,t,a){switch(this.callback=a,this.Box0.active=!0,this.title0.string="Blessing",this.callbackType=1,this.gametype=-1,e.data.mysteryResult){case G.SMALL_MAP:case G.MEDIUM_MAP:this.ShowMiniGamePopUp(e);break;case G.BUFF_BLESSING:this.result0.string="The next 3 actions will not cost Stamina (3 actions in any minigame)";break;case G.BUFF_PERSONAL_BUTLER:this.result0.string="Increase 5 slots in travel bag";break;case G.BUFF_WEALTH:this.result0.string="+500 LE";break;case G.DEBUFF_ROBBERY:this.title0.string="Curse",this.result0.string="Lost 3 random items in Travel Bag";break;case G.DEBUFF_SWARM:this.title0.string="Curse",this.result0.string="Lost 100 Stamina",h.userGatherData.currentStamina-=100,t();break;case G.CART:this.result0.string="All items in travel bag moved to Inventory"}this.Box1.active=!this.Box0.active,i.prototype.OnShow.call(this)},s.OnOk=function(){this.callback(this.callbackType,this.gametype),i.prototype.OnHide.call(this)},s.ShowMiniGamePopUp=function(i){this.Box0.active=!1,this.callbackType=0;var e=i.data.data.miniGame;switch(this.gametype=e.nodeType,this.gametype){case 0:this.title1.string="Foraging Map",this.MiniGameIcon.spriteFrame=this.chopping;break;case 1:this.title1.string="Mining Map",this.MiniGameIcon.spriteFrame=this.mining;break;case 2:this.title1.string="Fishing Map",this.MiniGameIcon.spriteFrame=this.fishing}},e}(g)).prototype,"Box0",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(L.prototype,"title0",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(L.prototype,"result0",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(L.prototype,"Box1",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(L.prototype,"title1",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(L.prototype,"MiniGameIcon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(L.prototype,"chopping",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(L.prototype,"fishing",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(L.prototype,"mining",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=L))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/GatheringLevelTop.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UserModel.ts"],(function(e){"use strict";var t,r,l,i,n,a,o,s,p,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,l=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,o=e.Label,s=e.Sprite,p=e.Component},function(e){c=e.ResourcesManager},function(e){u=e.UserModel}],execute:function(){var h,v,g,f,G,I,_;n._RF.push({},"cc470erlhVC044FlNND1m2v","GatheringLevelTop",void 0);var y=a.ccclass,D=a.property;e("GatheringLevelTop",(h=y("GatheringLevelTop"),v=D(o),g=D(s),h((I=t((G=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,l(i(t),"level",I,i(t)),l(i(t),"spriteFill",_,i(t)),t}return r(t,e),t.prototype.UpdateView=function(e){var t=-1,r=0,l=0,i=c.Instance.GatheringLevelConfig.json.data;0==e?(l=u.userGatherData.CHOPPING_level.level,r=u.userGatherData.CHOPPING_level.exp,l+1<i.chopping.length&&(t=i.chopping[l+1].exp)):1==e?(l=u.userGatherData.MINING_level.level,r=u.userGatherData.MINING_level.exp,l+1<i.mining.length&&(t=i.mining[l+1].exp)):2==e&&(l=u.userGatherData.FISHING_level.level,r=u.userGatherData.FISHING_level.exp,l+1<i.fishing.length&&(t=i.fishing[l+1].exp)),this.level.string="Lv."+l;var n=r/t*.5;n>.5&&(n=.5),this.spriteFill.fillRange=-1==t?.5:n},t}(p)).prototype,"level",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(G.prototype,"spriteFill",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=G))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIBugReport.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./ConfigApi.ts","./Utility.ts","./GatheringServicesApi.ts","./DropDown.ts","./PopUpBase.ts","./UIPopupManager.ts"],(function(t){"use strict";var e,i,r,n,s,o,a,u,c,p,l,h,g,m,f,d,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.defineProperty},function(t){o=t.cclegacy,a=t._decorator,u=t.EditBox,c=t.Label,p=t.sys},function(t){l=t.ResourcesManager},function(t){h=t.ConfigApi},function(t){g=t.Utility},function(t){m=t.GatheringServicesApi},function(t){f=t.DropDown},function(t){d=t.PopUpBase},function(t){w=t.UIPopupManager}],execute:function(){var I,T,y,S,v,x,R,b,D,E,U;o._RF.push({},"cd70bLMm+JEab+p1iKvIgcu","UIBugReport",void 0);var C=a.ccclass,M=a.property;t("UIBugReport",(I=C("UIBugReport"),T=M(u),y=M(u),S=M(f),v=M(c),I((b=e((R=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(n(e),"email",b,n(e)),r(n(e),"des",D,n(e)),r(n(e),"IssueDropDown",E,n(e)),r(n(e),"waitText",U,n(e)),s(n(e),"IssueType",{"Fishing Game":"FISHING","Mining Game":"MINING","Chopping Game":"CHOPPING",Farming:"FARMING",Market:"MARKET","Convert LE > PVU or PVU > LE":"CONVERT_PVU",Other:"OTHER","Select an issue":"SELECT"}),s(n(e),"Key","report_bug_next"),s(n(e),"nextRequest",void 0),s(n(e),"timeUpdateTimeOut",0),e}i(e,t);var o=e.prototype;return o.Show=function(){t.prototype.OnShow.call(this),this.nextRequest=Number(p.localStorage.getItem(this.Key)),this.StartCoundDown()},o.Hide=function(){clearTimeout(this.timeUpdateTimeOut),t.prototype.OnHide.call(this)},o.OnBtnSumit=function(){var t=this;if(this.validInput()){var e={topic:this.IssueType[this.IssueDropDown.CurrentItem.string],message:this.des.string,gameVersion:h.VERSION,platform:p.os};p.isBrowser?(e.osSystem=p.browserType,e.osVersion=p.browserVersion):p.isMobile&&(e.osSystem=p.os,e.osVersion=p.osVersion);var i=this.email.string.trim();""!=i&&(e.email=i),m.ReportBug(e,(function(e){var i=JSON.parse(e);0==i.status?(t.nextRequest=i.data.nextRequest,p.localStorage.setItem(t.Key,t.nextRequest.toString()),clearTimeout(t.timeUpdateTimeOut),t.StartCoundDown(),t.des.string="",w.Instance.ShowUIThanks()):w.Instance.ShowToast("Error",l.Instance.GetErrorMessage(i.status),0)}),(function(t){}))}},o.validInput=function(){return this.waitText.node.active=!0,this.getNextReportBug()>0?(w.Instance.ShowToast("Error","Please wait for a moment to retry.",0),!1):0==this.IsValidEmail(this.email.string)?(this.waitText.string="Incorrect Email",!1):"SELECT"==this.IssueType[this.IssueDropDown.CurrentItem.string]?(this.waitText.string="Select issue type",!1):this.des.string.length<50?(this.waitText.string="Description must be at least 50 characters",!1):(this.waitText.node.active=!1,!0)},o.getNextReportBug=function(){return this.nextRequest-g.GetTimeNow()},o.IsValidEmail=function(t){var e=t.trim();if(""==e)return!0;if(e.endsWith("."))return!1;try{return!!e.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}catch(t){return!1}},o.StartCoundDown=function(){var t=this,e=Math.floor((this.nextRequest-g.GetTimeNow())/1e3);e<=0?this.waitText.node.active=!1:(this.waitText.node.active=!0,this.timeUpdateTimeOut=setTimeout((function(){t.StartCoundDown()}),1e3),this.waitText.node.active=!0,this.waitText.string="Next report in: "+g.ConvertSecondsToTimeSecond(e))},e}(d)).prototype,"email",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(R.prototype,"des",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(R.prototype,"IssueDropDown",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(R.prototype,"waitText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=R))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/UINotifyExpedition.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UINotifyExpeditionItem.ts"],(function(t){"use strict";var i,e,o,n,r,a,f,l,u,c,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.defineProperty},function(t){a=t.cclegacy,f=t._decorator,l=t.Node,u=t.instantiate,c=t.Component},function(t){s=t.UINotifyExpeditionItem}],execute:function(){var p,y,d,h,I,N,m;a._RF.push({},"ceb15auYdNMOp+o1+XdKd1a","UINotifyExpedition",void 0);var v=f.ccclass,g=f.property;t("UINotifyExpedition",(p=v("UINotifyExpedition"),y=g(l),d=g(l),p((N=i((I=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),f=0;f<e;f++)a[f]=arguments[f];return i=t.call.apply(t,[this].concat(a))||this,o(n(i),"contentNotify",N,n(i)),o(n(i),"itemNotify",m,n(i)),r(n(i),"poolItem",[]),i}e(i,t);var a=i.prototype;return a.start=function(){},a.showNotify=function(){this.getItemNotify().onShow()},a.hideNotify=function(){var t=this.poolItem.filter((function(t){return 0==t.available}));(t=t.sort((function(t,i){return t.getIndex()>i.getIndex()?1:t.getIndex()<i.getIndex()?-1:0})))[0].onHide()},a.showMultiNotify=function(t){void 0===t&&(t=0);for(var i=0;i<t;i++){var e=t-i;this.getItemNotify().onShow(e)}},a.getItemNotify=function(){var t=this.poolItem.find((function(t){return 1==t.available}));if(null==t||null==t){var i=u(this.itemNotify),e=i.getComponent(s);i.active=!0,this.contentNotify.addChild(i),e&&(e.initItem(),this.poolItem.push(e),t=e)}return t},i}(c)).prototype,"contentNotify",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=i(I.prototype,"itemNotify",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=I))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIScreenWeather.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UserModel.ts","./Utility.ts","./PopUpBase.ts","./UImanager.ts"],(function(e){"use strict";var t,i,a,r,n,o,l,s,p,u,c,m,b,f,h,T,d,g,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.defineProperty},function(e){o=e.cclegacy,l=e._decorator,s=e.Label,p=e.Sprite,u=e.UITransform,c=e.Widget,m=e.UIOpacity,b=e.tween,f=e.Component},function(e){h=e.ResourcesManager},function(e){T=e.UserModel},function(e){d=e.Utility},function(e){g=e.PopUpBase},function(e){y=e.UImanager}],execute:function(){var U,w,I,L,B,x,v,C,S,z,A,O,R,W,D,F,M,P,G,_,H,Z,N,k,q,Y,j,E,J,V,K,Q,X,$,ee,te,ie;o._RF.push({},"cf9f9oqHgxJvoSzOqO4zYVu","UIScreenWeather",void 0);var ae=l.ccclass,re=l.property;e("UIScreenWeather",(U=ae("UIScreenWeather"),w=re({type:s}),I=re({type:s}),L=re({type:s}),B=re(p),x=re({type:p}),v=re({type:p}),C=re({type:s}),S=re({type:s}),z=re({type:s}),A=re({type:s}),O=re({type:s}),R=re({type:s}),W=re(p),D=re(u),F=re(c),M=re(m),P=re(g),U((H=t((_=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,a(r(t),"TitleLable",H,r(t)),a(r(t),"TitleLable1",Z,r(t)),a(r(t),"DesLable",N,r(t)),a(r(t),"spriteAllowArray",k,r(t)),a(r(t),"ssColor",q,r(t)),a(r(t),"ssGrey",Y,r(t)),a(r(t),"TimeRemain",j,r(t)),a(r(t),"ssLabel",E,r(t)),a(r(t),"dayLabel",J,r(t)),a(r(t),"timeLabel",V,r(t)),a(r(t),"BoxInfoTitleLable",K,r(t)),a(r(t),"BoxInfoLable",Q,r(t)),a(r(t),"weather",X,r(t)),a(r(t),"BoxUITransform",$,r(t)),a(r(t),"BoxWidget",ee,r(t)),a(r(t),"BoxUIOpacity",te,r(t)),a(r(t),"BoxInfo",ie,r(t)),n(r(t),"updateTimelAtTimmer",void 0),n(r(t),"isUpdateTimelAt",void 0),t}i(t,e);var o=t.prototype;return o.Show=function(){var e=this;this.node.active=!0,this.BoxWidget.right=-this.BoxUITransform.width,this.BoxUIOpacity.opacity=0;var t=T.SeasonData;this.TitleLable.string=t.name.toUpperCase(),this.TitleLable1.string=t.name.toUpperCase(),this.DesLable.string=t.description.toUpperCase(),this.BoxInfoTitleLable.node.parent.active=!1,this.ssLabel.string=t.season.toUpperCase(),this.BoxInfoTitleLable.string=t.name.toUpperCase(),this.BoxInfoLable.string=t.eventFunction.toUpperCase();h.Instance.LoadSeason(t.season,(function(t){e.ssColor.spriteFrame=t}));h.Instance.LoadSeason(t.season+"_gray",(function(t){e.ssGrey.spriteFrame=t}));h.Instance.LoadWeather(t.name.toLowerCase(),(function(t){e.weather.spriteFrame=t,b(e.BoxUIOpacity).to(.2,{opacity:255}).start(),b(e.BoxWidget).to(.25,{right:0},{easing:"circOut"}).start()}));for(var i=0;i<this.spriteAllowArray.length;i++)i<t.allowedPlants.length?function(){e.spriteAllowArray[i].node.active=!0;var a=i;h.Instance.Loadtype(t.allowedPlants[i],(function(t){e.spriteAllowArray[a].spriteFrame=t}))}():this.spriteAllowArray[i].node.active=!1;this.StopUpdateTime(),this.CorouUpdateTime()},o.Hide=function(){var e=this;b(this.BoxUIOpacity).to(.2,{opacity:0}).start(),b(this.BoxWidget).to(.3,{right:-this.BoxUITransform.width},{easing:"circOut"}).call((function(){e.node.active=!1})).start()},o.StopUpdateTime=function(){clearTimeout(this.updateTimelAtTimmer),this.isUpdateTimelAt=!1},o.CorouUpdateTime=function(){var e=this;this.UpdateTimeCurrent(),this.UpdateTimeRemain();this.isUpdateTimelAt=!0,this.updateTimelAtTimmer=setTimeout((function t(){e.UpdateTimeCurrent(),e.UpdateTimeRemain(),e.isUpdateTimelAt&&(e.updateTimelAtTimmer=setTimeout(t,1e4))}),1e4)},o.UpdateTimeCurrent=function(){var e=new Date(d.GetTimeNow()),t=e.getUTCMonth()+1,i=e.getUTCDate();this.dayLabel.string=this.addZeroToTime(i.toString())+"/"+this.addZeroToTime(t.toString())+"/"+e.getUTCFullYear().toString(),this.timeLabel.string=this.addZeroToTime(e.getUTCHours().toString())+" : "+this.addZeroToTime(e.getUTCMinutes().toString())+" (UTC)"},o.addZeroToTime=function(e){return 1==e.length&&(e="0"+e),e},o.UpdateTimeRemain=function(){var e=T.seasonEndTimeNum,t=e-T.seasonStartTimeNum,i=e-d.GetTimeNow();i<=0?(i=0,this.ssGrey.fillRange=1,this.TimeRemain.string="Preparing to start a new season"):(this.ssGrey.fillRange=1-i/t,this.TimeRemain.string=d.ConvertSecondsToTimeSecondSeason(Math.floor(i/1e3)))},o.onDisable=function(){this.StopUpdateTime()},o.OnBtnCloseClick=function(){y.Instance.ShowWeather()},o.OnBtnWeatherClick=function(){this.BoxInfoTitleLable.node.parent.active?this.BoxInfo.OnHide():this.BoxInfo.OnShow()},t}(f)).prototype,"TitleLable",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(_.prototype,"TitleLable1",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(_.prototype,"DesLable",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(_.prototype,"spriteAllowArray",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(_.prototype,"ssColor",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(_.prototype,"ssGrey",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(_.prototype,"TimeRemain",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(_.prototype,"ssLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(_.prototype,"dayLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(_.prototype,"timeLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(_.prototype,"BoxInfoTitleLable",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(_.prototype,"BoxInfoLable",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(_.prototype,"weather",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(_.prototype,"BoxUITransform",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(_.prototype,"BoxWidget",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(_.prototype,"BoxUIOpacity",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(_.prototype,"BoxInfo",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=_))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIScreenGathering.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UImanager.ts"],(function(n){"use strict";var e,t,o,i,r,c,a,s,u,l,p;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,c=n._decorator,a=n.Widget,s=n.tween,u=n.v3,l=n.Component},function(n){p=n.UImanager}],execute:function(){var g,h,S,f,m;r._RF.push({},"d1440mj1/pAqpgud4zTiyGp","UIScreenGathering",void 0);var d=c.ccclass,y=c.property;n("UIScreenGathering",(g=d("UIScreenGathering"),h=y(a),g((m=e((f=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return e=n.call.apply(n,[this].concat(r))||this,o(i(e),"ComingSoon",m,i(e)),e}t(e,n);var r=e.prototype;return r.Show=function(){this.node.active=!0},r.onEnable=function(){this.ComingSoon.top=-600,this.ComingSoon.node.setScale(0,0,0),s(this.ComingSoon).to(.3,{top:0},{easing:"circOut"}).start(),s(this.ComingSoon.node).to(.3,{scale:u(1,1,1)},{easing:"circOut"}).start()},r.onBtnBackClick=function(){p.Instance.ShowScreenFarm()},e}(l)).prototype,"ComingSoon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=f))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIExpeditionFoodItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts"],(function(e){"use strict";var t,i,n,r,o,a,s,c,l,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.defineProperty,r=e.assertThisInitialized,o=e.initializerDefineProperty},function(e){a=e.cclegacy,s=e._decorator,c=e.Sprite,l=e.Label,u=e.Component},function(e){p=e.ResourcesManager}],execute:function(){var d,m,f,h,I,y,v;a._RF.push({},"d2109A+405OXahyVlyN+cYa","UIExpeditionFoodItem",void 0);var g=s.ccclass,b=s.property;e("UIExpeditionFoodItem",(d=g("UIExpeditionFoodItem"),m=b(c),f=b(l),d((y=t((I=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(r(t),"_UIScreenExpedition",null),n(r(t),"materialName",void 0),o(r(t),"view",y,r(t)),o(r(t),"amount",v,r(t)),t}i(t,e);var a=t.prototype;return a.Init=function(e,t,i){this.materialName=i,this._UIScreenExpedition=e,this.amount.string=t.toString(),p.Instance.LoadMaterialSprite(i,function(e){this.view.spriteFrame=e}.bind(this))},a.onFeed=function(){this._UIScreenExpedition.feedToUndead(this.materialName,this.node)},t}(u)).prototype,"view",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(I.prototype,"amount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=I))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIScreenShopTools.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ConfigApi.ts","./Utility.ts","./ItemShopTool.ts","./ShopToolsPurchase.ts","./UImanager.ts","./UIPopupManager.ts","./ResHttp.ts"],(function(e){"use strict";var t,o,i,n,r,a,s,l,u,c,h,p,T,f,g,S,b,m,d,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.defineProperty},function(e){a=e.cclegacy,s=e._decorator,l=e.Label,u=e.Toggle,c=e.UITransform,h=e.Node,p=e.tween,T=e.Component},function(e){f=e.ConfigApi},function(e){g=e.Utility},function(e){S=e.ItemShopTool},function(e){b=e.ShopToolsPurchase},function(e){m=e.UImanager},function(e){d=e.UIPopupManager},function(e){L=e.ResHttp}],execute:function(){var v,I,w,y,C,U,E,A,P,F,O,k,_,z,R,B,q;a._RF.push({},"d77d1FAR2FHhrujvrHLLc/q","UIScreenShopTools",void 0);var N=s.ccclass,H=s.property;e("UIScreenShopTools",(v=N("UIScreenShopTools"),I=H(l),w=H(u),y=H(c),C=H(h),U=H(S),E=H(S),A=H(b),v((O=t((F=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(n(t),"LE_Label",O,n(t)),i(n(t),"Toggles",k,n(t)),i(n(t),"TogglesCheckUITransform",_,n(t)),r(n(t),"isFirstToggles",!0),r(n(t),"CurrentTab",0),i(n(t),"Tab",z,n(t)),i(n(t),"itemShopTool",R,n(t)),i(n(t),"itemShopSunflower",B,n(t)),i(n(t),"shopToolsPurchase",q,n(t)),r(n(t),"currentLE",void 0),r(n(t),"LoadAvailableToolSuccess",(function(e){for(var o=JSON.parse(e),i=0;i<t.itemShopTool.length;i++)t.itemShopTool[i].node.active=!1;if(0==o.status)for(var n=0;n<o.data.length;n++){var r=o.data[n],a=-1;"POT"==r.type?a=0:"WATER"==r.type?a=1:"SCARECROW"==r.type&&(a=2),a>=0&&(t.itemShopTool[a].node.active=!0,t.itemShopTool[a].Init(r,t.OnBuyItem))}})),r(n(t),"LoadAvailableToolFail",(function(e){})),r(n(t),"LoadSunflowersSuccess",(function(e){for(var o=JSON.parse(e),i=0;i<t.itemShopSunflower.length;i++)t.itemShopSunflower[i].node.active=!1;if(0==o.status)for(var n=0;n<o.data.length;n++){var r=o.data[n],a=-1;"MAMA"==r.type?a=0:"SAPLING"==r.type&&(a=1),a>=0&&(t.itemShopSunflower[a].node.active=!0,t.itemShopSunflower[a].Init(r,t.OnBuyItem))}})),r(n(t),"LoadSunflowersFail",(function(e){})),r(n(t),"OnBuyItem",(function(e,o,i){t.shopToolsPurchase.Show(e,o,i,t.currentLE)})),r(n(t),"tweenLE",void 0),t}o(t,e);var a=t.prototype;return a.Show=function(e){this.UpdateLE(e),this.isFirstToggles=!0,this.Toggles[0].isChecked=!0,this.TogglesCheckUITransform.node.setPosition(this.Toggles[0].node.position),this.TogglesCheckUITransform.setContentSize(240,96),this.isFirstToggles=!1,this.CurrentTab=0,this.activeTab(this.CurrentTab),this.shopToolsPurchase.node.active=!1,L.GetRequest(f.LINK_API+f.AVAILABLE_TOOL,null,this.LoadAvailableToolSuccess,this.LoadAvailableToolFail)},a.RequestLoadFarmsStats=function(e){this.UpdateLE(this.currentLE-e)},a.ChangeTap=function(e){if(!this.isFirstToggles){var t=parseInt(e.name);t!=this.CurrentTab&&(this.CurrentTab=t,this.activeTab(this.CurrentTab),p(this.TogglesCheckUITransform.node).to(.2,{position:e.node.position},{easing:"quadOut"}).start(),1==this.CurrentTab?p(this.TogglesCheckUITransform).to(.2,{width:290},{easing:"quadOut"}).start():p(this.TogglesCheckUITransform).to(.2,{width:240},{easing:"quadOut"}).start())}this.isFirstToggles=!1},a.activeTab=function(e){this.CurrentTab=e;for(var t=0;t<this.Tab.length;t++)this.Tab[t].active=e==t},a.UpdateLE=function(e){var t=this;this.currentLE=e,null!=this.tweenLE&&this.tweenLE.stop();var o=parseInt(this.LE_Label.string.replace(/,/g,"")),i=e;this.tweenLE=g.tweenNumber(o,i,1,(function(e){t.LE_Label.string=g.numberWithCommas(e)}))},a.OnBtnBackClick=function(){m.Instance.ShowScreenFarm()},a.OnBtnSettingClick=function(){d.Instance.ShowSetting(!0)},t}(T)).prototype,"LE_Label",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(F.prototype,"Toggles",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(F.prototype,"TogglesCheckUITransform",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(F.prototype,"Tab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(F.prototype,"itemShopTool",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(F.prototype,"itemShopSunflower",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(F.prototype,"shopToolsPurchase",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=F))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/MiningStartPannel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(t){"use strict";var n,e,i,a,r,o,l,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,l=t.Label},function(t){c=t.PopUpBase}],execute:function(){var s,p,u,h,y;r._RF.push({},"d93b7ObayRD0b2Wzo7JBH2I","MiningStartPannel",void 0);var f=o.ccclass,b=o.property;t("MiningStartPannel",(s=f("MiningStartPannel"),p=b(l),s((y=n((h=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n=t.call.apply(t,[this].concat(r))||this,i(a(n),"StaminaLabel",y,a(n)),n}e(n,t);var r=n.prototype;return r.Show=function(n){t.prototype.OnShow.call(this),this.StaminaLabel.string='Each shot costs "'+n+'" Stamina'},r.OnBtnPlay=function(){t.prototype.OnHide.call(this)},n}(c)).prototype,"StaminaLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=h))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIGarderingLevel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UserModel.ts","./GatheringServicesApi.ts","./PopUpBase.ts","./UIGarderingLevelFX.ts"],(function(e){"use strict";var i,t,n,l,r,a,o,p,v,I,u,s,c,h,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized,r=e.defineProperty},function(e){a=e.cclegacy,o=e._decorator,p=e.Label,v=e.UITransform,I=e.Node},function(e){u=e.ResourcesManager},function(e){s=e.UserModel},function(e){c=e.GatheringServicesApi},function(e){h=e.PopUpBase},function(e){g=e.UIGarderingLevelFX}],execute:function(){var G,N,L,b,f,F,S,d,B,A,M,H,C,y,E,x,w,_,P,m,U,z,X,D,O,R,T,V,k,J,j,W,q,K,Q;a._RF.push({},"d97b4xw/MBFvLuddTW67SOA","UIGarderingLevel",void 0);var Y=o.ccclass,Z=o.property;e("UIGarderingLevel",(G=Y("UIGarderingLevel"),N=Z(p),L=Z(p),b=Z(v),f=Z(I),F=Z(I),S=Z(p),d=Z(p),B=Z(v),A=Z(I),M=Z(I),H=Z(p),C=Z(p),y=Z(v),E=Z(I),x=Z(I),w=Z(g),G((m=i((P=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,n(l(i),"ChoppingLv",m,l(i)),n(l(i),"ChoppingExp",U,l(i)),n(l(i),"ChoppingFill",z,l(i)),n(l(i),"ChoppingBtnLvActive",X,l(i)),n(l(i),"ChoppingBtnLvInActive",D,l(i)),n(l(i),"FISHINGLv",O,l(i)),n(l(i),"FISHINGExp",R,l(i)),n(l(i),"FISHINGFill",T,l(i)),n(l(i),"FISHINGBtnLvActive",V,l(i)),n(l(i),"FISHINGBtnLvInActive",k,l(i)),n(l(i),"MININGLv",J,l(i)),n(l(i),"MININGExp",j,l(i)),n(l(i),"MININGFill",W,l(i)),n(l(i),"MININGBtnLvActive",q,l(i)),n(l(i),"MININGBtnLvInActive",K,l(i)),n(l(i),"uIGarderingLevelFX",Q,l(i)),r(l(i),"onLvUp",(function(){})),i}t(i,e);var a=i.prototype;return a.Show=function(i){void 0===i&&(i=function(){}),e.prototype.OnShow.call(this),this.Init(),this.onLvUp=i,this.uIGarderingLevelFX.node.active=!1},a.Init=function(){var e=-1,i=0,t=0,n=u.Instance.GatheringLevelConfig.json.data;t=s.userGatherData.CHOPPING_level.level,i=s.userGatherData.CHOPPING_level.exp,t+1<n.chopping.length?(e=n.chopping[t+1].exp,this.ChoppingExp.string="EXP: "+i+"/"+e,this.ChoppingBtnLvActive.active=i>=e):(this.ChoppingExp.string="EXP: "+i+"/MAX",this.ChoppingBtnLvActive.active=!1),this.ChoppingLv.string="LV. "+t,this.ChoppingBtnLvInActive.active=!this.ChoppingBtnLvActive.active,this.SetFillBar(this.ChoppingFill,i,e),e=-1,t=s.userGatherData.MINING_level.level,i=s.userGatherData.MINING_level.exp,t+1<n.mining.length?(e=n.mining[t+1].exp,this.MININGExp.string="EXP: "+i+"/"+e,this.MININGBtnLvActive.active=i>=e):(this.MININGExp.string="EXP: "+i+"/MAX",this.MININGBtnLvActive.active=!1),this.MININGLv.string="LV. "+t,this.MININGBtnLvInActive.active=!this.MININGBtnLvActive.active,this.SetFillBar(this.MININGFill,i,e),e=-1,t=s.userGatherData.FISHING_level.level,i=s.userGatherData.FISHING_level.exp,t+1<n.fishing.length?(e=n.fishing[t+1].exp,this.FISHINGExp.string="EXP: "+i+"/"+e,this.FISHINGBtnLvActive.active=i>=e):(this.FISHINGExp.string="EXP: "+i+"/MAX",this.FISHINGBtnLvActive.active=!1),this.FISHINGLv.string="LV. "+t,this.FISHINGBtnLvInActive.active=!this.FISHINGBtnLvActive.active,this.SetFillBar(this.FISHINGFill,i,e)},a.SetFillBar=function(e,i,t){var n=i/t*410;n<10&&0!=n&&(n=10),n>410&&(n=410),e.width=n},a.OnBtnClose=function(){e.prototype.OnHide.call(this)},a.OnBtnLvChopping=function(){var e=this;c.LEVEL_UP_GATHER("Chopping",(function(i){var t=c.CheckStatus(JSON.parse(i));null!=t&&e.uIGarderingLevelFX.Show(0,function(){s.userGatherData.CHOPPING_level.level=t.data.level,s.userGatherData.CHOPPING_level.exp=t.data.exp,this.onLvUp(),this.Init()}.bind(e))}),(function(){}))},a.OnBtnLvFishing=function(){var e=this;c.LEVEL_UP_GATHER("Fishing",(function(i){var t=c.CheckStatus(JSON.parse(i));null!=t&&e.uIGarderingLevelFX.Show(2,function(){s.userGatherData.FISHING_level.level=t.data.level,s.userGatherData.FISHING_level.exp=t.data.exp,this.onLvUp(),this.Init()}.bind(e))}),(function(){}))},a.OnBtnLvMining=function(){var e=this;c.LEVEL_UP_GATHER("Mining",(function(i){var t=c.CheckStatus(JSON.parse(i));null!=t&&e.uIGarderingLevelFX.Show(1,function(){s.userGatherData.MINING_level.level=t.data.level,s.userGatherData.MINING_level.exp=t.data.exp,this.onLvUp(),this.Init()}.bind(e))}),(function(){}))},i}(h)).prototype,"ChoppingLv",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(P.prototype,"ChoppingExp",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(P.prototype,"ChoppingFill",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(P.prototype,"ChoppingBtnLvActive",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(P.prototype,"ChoppingBtnLvInActive",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(P.prototype,"FISHINGLv",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(P.prototype,"FISHINGExp",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(P.prototype,"FISHINGFill",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(P.prototype,"FISHINGBtnLvActive",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(P.prototype,"FISHINGBtnLvInActive",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(P.prototype,"MININGLv",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(P.prototype,"MININGExp",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(P.prototype,"MININGFill",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(P.prototype,"MININGBtnLvActive",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=i(P.prototype,"MININGBtnLvInActive",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(P.prototype,"uIGarderingLevelFX",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=P))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/FishShadow.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(i){"use strict";var t,e,s,n,h,a,o,l,c,r,p,u,F,w,d;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,s=i.initializerDefineProperty,n=i.assertThisInitialized,h=i.defineProperty},function(i){a=i.cclegacy,o=i._decorator,l=i.sp,c=i.Node,r=i.randomRangeInt,p=i.Vec3,u=i.Color,F=i.tween,w=i.Component},function(i){d=i.Utility}],execute:function(){var f,m,v,y,b,g,D,O,P;a._RF.push({},"db7d6VuTwRJ5q55c8SzJB05","FishShadow",void 0);var A=o.ccclass,j=o.property;i("FishShadow",(f=A("FishShadow"),m=j([l.SkeletonData]),v=j(l.Skeleton),y=j(c),f((D=t((g=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return t=i.call.apply(i,[this].concat(a))||this,s(n(t),"listAnimFish",D,n(t)),s(n(t),"spineFish",O,n(t)),s(n(t),"objectFish",P,n(t)),h(n(t),"tweenFish",void 0),h(n(t),"tweenOpacity",void 0),h(n(t),"indexPath",0),h(n(t),"pathData",[]),h(n(t),"isHide",!0),t}e(t,i);var a=t.prototype;return a.start=function(){},a.randomFish=function(){if(!(null==this.listAnimFish||this.listAnimFish.length<=0)){var i=r(0,this.listAnimFish.length-1);this.setAnimFish(i)}},a.appearFish=function(){var i=this;this.objectFish.scale=new p(.25,.25,.25),null!=this.tweenOpacity&&this.tweenOpacity.stop(),this.tweenOpacity=d.tweenNumber(0,255,.5,(function(t){i.spineFish.color=new u(255,255,255,t)}))},a.hideFish=function(){var i=this;this.isHide=!0,null!=this.tweenOpacity&&this.tweenOpacity.stop(),this.tweenOpacity=d.tweenNumber(255,0,.5,(function(t){i.spineFish.color=new u(255,255,255,t)})),this.tweenFish=F(this.objectFish).to(.5,{scale:new p(.25,.25,.25)}).call((function(){i.unscheduleAllCallbacks()})),this.tweenFish.start()},a.setAnimFish=function(i){null==this.listAnimFish||this.listAnimFish.length<=0||(this.spineFish.skeletonData=this.listAnimFish[i])},a.moveFish=function(i,t,e,s,n){var h=this;void 0===s&&(s=""),void 0===n&&(n=0),null!=this.tweenFish&&this.tweenFish.stop();var a=.1,o=s;""!=o?(a=.5,this.spineFish.loop=!1,this.spineFish.animation=s):(this.spineFish.loop=!0,this.spineFish.animation=i),this.tweenFish=F(this.objectFish).delay(a).call((function(){""!=o&&(h.spineFish.loop=!0,h.spineFish.animation=i)})).to(e,{position:t,angle:n}).call((function(){h.isHide||h.scheduleOnce(h.moveToPath,r(1,3))})),this.tweenFish.start()},a.setPath=function(i){var t=this;if(this.pathData=i,!(null==this.pathData||this.pathData.length<1)){var e=this.pathData[0].direction,s=this.pathData[0].positionTarget;this.objectFish.scale=new p(.25,.25,.25),null!=this.tweenFish&&this.tweenFish.stop(),this.spineFish.animation=e,this.spineFish.loop=!0,this.objectFish.position=s,this.indexPath=1,this.isHide=!1,null!=this.tweenOpacity&&this.tweenOpacity.stop(),this.tweenOpacity=d.tweenNumber(0,255,.5,(function(i){t.spineFish.color=new u(255,255,255,i)})),this.tweenFish=F(this.objectFish).to(.5,{scale:p.ONE}).call((function(){t.scheduleOnce(t.moveToPath,r(0,2))})),this.tweenFish.start()}},a.moveToPath=function(){this.indexPath>=this.pathData.length&&(this.indexPath=1);var i=this.pathData[this.indexPath],t=i.direction,e=i.positionTarget,s=i.directionTurn,n=i.timeMove;this.moveFish(t,e,n,s),this.indexPath++},t}(w)).prototype,"listAnimFish",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(g.prototype,"spineFish",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(g.prototype,"objectFish",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIFitWidthHelper.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(t){"use strict";var i,e,r,n,a,o,s,l,u,c,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.defineProperty},function(t){o=t.cclegacy,s=t._decorator,l=t.UITransform,u=t.CCFloat,c=t.Component},function(t){h=t.Utility}],execute:function(){var p,f,d,y,m,b,g,v,z;o._RF.push({},"dee8cysVPNH9bwuhCz8NzbB","UIFitWidthHelper",void 0);var T=s.ccclass,B=s.property;t("UIFitWidthHelper",(p=T("UIFitWidthHelper"),f=B(l),d=B(u),y=B(u),p((g=i((b=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,r(n(i),"canvasToFit",g,n(i)),r(n(i),"BaseHeight",v,n(i)),r(n(i),"BaseWidth",z,n(i)),a(n(i),"uiTransform",null),i}e(i,t);var o=i.prototype;return o.start=function(){h.addResizeCallBack(this.node,function(){this.UpdateSize()}.bind(this)),this.UpdateSize()},o.UpdateSize=function(){if(null==this.uiTransform&&(this.uiTransform=this.getComponent(l)),null!=this.uiTransform){var t=this.BaseHeight/this.BaseWidth;this.uiTransform.width=this.canvasToFit.width,this.uiTransform.height=this.uiTransform.width*t}},o.onDestroy=function(){h.removeResizeCallBack(this.node)},i}(c)).prototype,"canvasToFit",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(b.prototype,"BaseHeight",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=i(b.prototype,"BaseWidth",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=b))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIExpeditionFood.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var t,e,n,i;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,i=o.Component}],execute:function(){var r;e._RF.push({},"e133d8QoGhFtLbMTkgZuPaC","UIExpeditionFood",void 0);var c=n.ccclass;n.property,o("UIExpeditionFood",c("UIExpeditionFood")(r=function(o){function e(){return o.apply(this,arguments)||this}return t(e,o),e.prototype.start=function(){},e}(i))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/UserModel.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,o,p;return{setters:[function(e){t=e.defineProperty},function(e){i=e.cclegacy,o=e.randomRangeInt,p=e.sys}],execute:function(){i._RF.push({},"e48c9TptIdAr6xS8ya3acrW","UserModel",void 0);var n=e("UserSeason",(function(){t(this,"allowedPlants",void 0),t(this,"season",void 0),t(this,"name",void 0),t(this,"description",void 0),t(this,"startTime",void 0),t(this,"endTime",void 0),t(this,"seasonStartTime",void 0),t(this,"seasonEndTime",void 0),t(this,"eventFunction",void 0),t(this,"timezone",void 0),this.allowedPlants=[],this.season="",this.name="",this.description="",this.startTime="",this.endTime="",this.seasonStartTime="",this.seasonEndTime="",this.eventFunction="",this.timezone=""})),s=e("UserGatherLevel",(function(e,i){t(this,"exp",void 0),t(this,"level",void 0),this.exp=e,this.level=i})),l=(e("UserGatherData",(function(e){t(this,"maxStamina",void 0),t(this,"currentStamina",void 0),t(this,"CHOPPING_level",void 0),t(this,"FISHING_level",void 0),t(this,"MINING_level",void 0),this.maxStamina=e.maxStamina,this.currentStamina=e.currentStamina;for(var i=0;i<e.levels.length;i++)"CHOPPING"==e.levels[i].type?this.CHOPPING_level=new s(e.levels[i].exp,e.levels[i].level):"FISHING"==e.levels[i].type?this.FISHING_level=new s(e.levels[i].exp,e.levels[i].level):"MINING"==e.levels[i].type&&(this.MINING_level=new s(e.levels[i].exp,e.levels[i].level))})),e("UserFishing",(function(){t(this,"getMap",void 0),t(this,"getDrop",void 0),t(this,"getBeginPull",void 0)})),e("UserModel",function(){function e(){}return e.getUndeadSeasonBg=function(e){var t=this.userLocalData[e.toString()],i=new Date,p=!1;if((null==t||i.getTime()>Date.parse(t.time_renew_bg))&&(p=!0),p){var n=["spring","autumn","summer","winter"];(t={}).time_renew_bg=new Date(i.getTime()+12e4),t.season_bg=n[o(0,n.length)],this.userLocalData[e.toString()]=t,this.SaveUserLocalData()}return t.season_bg},e.LoadUserLocalData=function(){var e=p.localStorage.getItem("userLocalData");"undefined"!==e&&""!=e&&null!=e&&(this.userLocalData=JSON.parse(e))},e.SaveUserLocalData=function(){p.localStorage.setItem("userLocalData",JSON.stringify(this.userLocalData))},e.GetRefresh_Token=function(){var e;return"undefined"!==(e=p.localStorage.getItem("Refresh_Token"))&&""!=e&&null!=e?e:null},e.SetRefresh_Token=function(e){p.localStorage.setItem("Refresh_Token",e)},e.GetToken=function(){var e;return"undefined"!==(e=p.localStorage.getItem("token"))&&""!=e&&null!=e?(this.Token=e,e):null},e.SetToken=function(e){this.Token=e,p.localStorage.setItem("token",e)},e}()));t(l,"AddressWallet",""),t(l,"Token",""),t(l,"TypePlantFilter",""),t(l,"RarityPlantFilter",""),t(l,"IdPlantFilter",""),t(l,"NeedWaterFilter",!1),t(l,"NeedPotFilter",!1),t(l,"HasCrowFilter",!1),t(l,"SeasonPlantFilter_Inventory",""),t(l,"IdPlantFilter_Inventory",""),t(l,"TypePlantFilter_Inventory",""),t(l,"RarityPlantFilter_Inventory",""),t(l,"corXFilter_ChoseLand",""),t(l,"corYFilter_ChoseLand",""),t(l,"isLandHasPotFilter_ChoseLand",!1),t(l,"SeasonData",new n),t(l,"seasonStartTimeNum",void 0),t(l,"seasonEndTimeNum",void 0),t(l,"serverTime",void 0),t(l,"isShowPopupSeasonFirstTime",!1),t(l,"userGatherData",null),t(l,"userLocalData",{musicOn:!0,soundOn:!0,change_log_version:"",undeadCacheData:{}}),t(l,"curWorldMapData",void 0),t(l,"userFishing",void 0),t(l,"FishingDropID",void 0),t(l,"fakeChoppingdata",['{"status":0,"data":{"ownerId":"0xc6686f77b1886cb736ba6f9f533398b1ee99788f","hasKey":false,"size":0,"objects":[{"type":"LARGE_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false}],"miniGameId":"54d4b258-9c2e-4bb7-8350-ad68e4e7d28b","freeActions":0,"expData":{"type":"CHOPPING","exp":3,"level":0,"nextLevelExp":200}}}','{"status":0,"data":{"ownerId":"0xc6686f77b1886cb736ba6f9f533398b1ee99788f","hasKey":false,"size":1,"objects":[{"type":"LARGE_TREE","choppingCount":0,"isExploited":false},{"type":"LARGE_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false}],"miniGameId":"bac7f5bd-8878-4858-b147-c430f758b741","freeActions":0,"expData":{"type":"CHOPPING","exp":265,"level":0,"nextLevelExp":200}}}','{"status":0,"data":{"ownerId":"0xc6686f77b1886cb736ba6f9f533398b1ee99788f","hasKey":false,"size":5,"objects":[{"type":"LARGE_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"LARGE_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"LARGE_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false},{"type":"SMALL_TREE","choppingCount":0,"isExploited":false}],"miniGameId":"ad82c87d-83bb-43c4-960b-3fd0a1071e9e","freeActions":0,"expData":{"type":"CHOPPING","exp":265,"level":0,"nextLevelExp":200}}}']),t(l,"fakeChoppingMapIndex",2),t(l,"userStanimaInfo",null),i._RF.pop()}}}));

System.register("chunks:///_virtual/Utility.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ConfigApi.ts","./UserModel.ts"],(function(e){"use strict";var t,n,r,o,a,i,u,s,c,l;return{setters:[function(e){t=e.defineProperty,n=e.asyncToGenerator},function(e){r=e.cclegacy,o=e.view,a=e.Vec2,i=e.tween,u=e.ParticleSystem,s=e.UITransform},function(e){c=e.ConfigApi},function(e){l=e.UserModel}],execute:function(){r._RF.push({},"e73f879pn1EOpwpVVSeMUdM","Utility",void 0);var f=e("Utility",function(){function e(){}return e.addResizeCallBack=function(t,n){e.isSetCallBack||o.setResizeCallback((function(){null!=e.ResizeCallback&&clearTimeout(e.ResizeCallback),e.ResizeCallback=setTimeout((function(){e.ResizeCbMap.forEach((function(e,t){e()}),e)}),200)})),e.ResizeCbMap.set(t,n)},e.RarityToText=function(t){return t<e.rarityText.length?e.rarityText[t]:"Unknown"},e.SunflowerSvNameToResourceName=function(e){var t=e.toLocaleLowerCase().split("_");return"autum"==t[0]&&(t[0]="autumn"),t[1]+"_"+t[0]},e.getRewardNameFromType=function(e,t,n){var r="";return"KEY"==e?r="KEY":"SAPLING"==e?r="sapling_"+t:"MAMA"==e?r="mama_"+t:e.includes("MATERIAL")||"UNDEAD_EGG"==e?r=n:"EPIC_CHEST_KEY"==e||"CHEST_KEY"==e?r="EPIC_CHEST_KEY":"HIDDEN_TREASURE"==e?r="HIDDEN_TREASURE":e.includes("FRAGMENT")?r=t.toUpperCase()+"_FRAGMENT":e.includes("TOKEN")?r=t.toUpperCase()+"_TOKEN":"SKILL_BOOK"==e&&(r="SKILL_BOOK"),r},e.getDistance=function(e,t){var n=new a(e.x-t.x,e.y-t.y);return Math.sqrt(n.x*n.x+n.y*n.y)},e.removeResizeCallBack=function(t){e.ResizeCbMap.has(t)&&e.ResizeCbMap.delete(t)},e.tweenNumber=function(e,t,n,r){var o=new p(e),a=i(o).to(n,{n:t},{progress:function(e,t,n,o){var a=Math.floor(e+(t-e)*o);return r(a),a}}).call((function(){r(t)}));return a.start(),a},e.tweenSpriteColor=function(e,t,n){var r={r:e.r,g:e.g,b:e.b,a:e.a};return i(t).to(n,{color:r})},e.MaterialSvNameToDisplayName=function(t){var n=t;return n=n.replace(/_/g," "),n=e.UpperCaseFirstCharOfWord(n)},e.UpperCaseFirstCharOfWord=function(e){return e.toLowerCase().replace(/(^\w{1})|(\s{1}\w{1})/g,(function(e){return e.toUpperCase()}))},e.PlayParticle=function(e){e.active=!0;var t=e.getComponent(u);null!=t&&(t.isPlaying&&t.stop(),t.play());for(var n=e.getComponentsInChildren(u),r=0;r<n.length;r++)n[r].isPlaying&&n[r].stop(),n[r].play()},e.StopParticle=function(e){var t=e.getComponent(u);null!=t&&t.isPlaying&&t.stop();for(var n=e.getComponentsInChildren(u),r=0;r<n.length;r++)n[r].isPlaying&&n[r].stop();e.active=!1},e.AsyncDelay=function(){var e=n(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.SetNativeSizeOfSprite=function(e,t){e.getComponent(s).setContentSize(t.originalSize.width,t.originalSize.height)},e.numberWithCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},e.ConvertSecondsToTime=function(e,t){if(void 0===t&&(t=!1),e<=0)return"00:00";var n="",r=Math.floor(e/3600);e-=3600*r;var o=Math.floor(e/60);return e-=60*o,t&&r>24&&(n=Math.floor(r/24)+"D ",r%=24),n+=r>=10?r+":":"0"+r+":",n+=o>=10?o:"0"+(o>1?o:e>0?1:0)},e.ConvertSecondsToTimeSecond=function(e){var t="",n=Math.floor(e/2592e3);e-=2592e3*n;var r=Math.floor(e/86400);e-=86400*r;var o=Math.floor(e/3600);e-=3600*o;var a=Math.floor(e/60);return n>0&&(t+=1==n?"a month,":n+" months,"),n<=0&&r>0&&(t+=1==r?"a day,":r+" days,"),o>=10?t+=o+":":o>0&&(t+="0"+o+":"),t+=a>=10?a+":":"0"+a+":",t+=(e-=60*a)>=10?e:"0"+e},e.ConvertSecondsToTimeShort=function(e){var t="",n=Math.floor(e/86400);e-=86400*n;var r=Math.floor(e/3600);e-=3600*r;var o=Math.floor(e/60);return e-=60*o,n>0&&(t+=n+"d:"),r>=10?t+=r+"h:":r>0&&(t+="0"+r+"h:"),t+=o>=10?o+"m":"0"+o+"m"},e.GetTimeNow=function(){return l.serverTime},e.GetSeasonByTypePlant=function(e){return"electro"==e||"water"==e||"ice"==e?0:"fire"==e||"light"==e||"parasite"==e?1:"dark"==e||"metal"==e||"wind"==e?2:0},e.ConvertSecondsToTimeSecondSeason=function(e){var t="",n=Math.floor(e/86400);e-=86400*n;var r=Math.floor(e/3600);e-=3600*r;var o=Math.floor(e/60);return e-=60*o,n>=0&&(t+=n+"D : "),r>=0&&(t+=r+"H : "),o>=0&&(t+=o+"M"),t},e.CheckUpgradeVersion=function(e){var t=e.split("."),n=c.VERSION.split(".");return!(parseInt(n[0])>parseInt(t[0]))&&(parseInt(n[0])<parseInt(t[0])||!(parseInt(n[1])>parseInt(t[1]))&&(parseInt(n[1])<parseInt(t[1])||!(parseInt(n[2])>parseInt(t[2]))&&parseInt(n[2])<parseInt(t[2])))},e}());t(f,"ResizeCallback",0),t(f,"ResizeCbMap",new Map),t(f,"isSetCallBack",!1),t(f,"rarityText",["Common","Rare","Epic","Legendary","Mythic"]);var p=e("NumberToTween",(function(e){t(this,"n",void 0),this.n=e}));e("GuidEncrypt",function(){function e(){}return e.encrypt=function(t){for(var n=[],r=t.split("-"),o=r.length,a=0;a<o;a++)n.push(e.handleString(r[a]));return n.join("-")},e.handleString=function(e){for(var t=e.length,n="",r=0;r<e.length;r++){var o=e.charCodeAt(r),a=o+t;o>57?(a=o+t%26)>122&&(a-=26):(a=o+t%10)>57&&(a-=10),n+=String.fromCharCode(a)}return n},e}()),e("GuidDecrypt",function(){function e(){}return e.decrypt=function(t){for(var n=[],r=t.split("-"),o=r.length,a=0;a<o;a++)n.push(e.handleString(r[a]));return n.join("-")},e.handleString=function(e){for(var t=e.length,n="",r=0;r<e.length;r++){var o=e.charCodeAt(r),a=0;o>57?(a=o-t%26)<97&&(a+=26):(a=o-t%10)<48&&(a+=10),n+=String.fromCharCode(a)}return n},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/PlantISunflowertem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UImanager.ts"],(function(t){"use strict";var e,a,n,i,s,r,l,o,c,u,p,h,d,f,b,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.defineProperty},function(t){r=t.cclegacy,l=t._decorator,o=t.RichText,c=t.Sprite,u=t.Label,p=t.Node,h=t.Component,d=t.tween,f=t.v3},function(t){b=t.ResourcesManager},function(t){y=t.UImanager}],execute:function(){var v,g,m,_,S,J,P,w,I,L,T,z,R,F,A,B,C;r._RF.push({},"e73fbcvfFtJRZy1v+C1GZOk","PlantISunflowertem",void 0);var O=l.ccclass,U=l.property;t("PlantISunflowertem",(v=O("PlantISunflowertem"),g=U({type:o}),m=U({type:c}),_=U({type:u}),S=U({type:p}),J=U({type:p}),P=U({type:u}),w=U({type:c}),v((T=e((L=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(i(e),"info_Amount",T,i(e)),n(i(e),"Plant",z,i(e)),n(i(e),"info_harvestLabelLE",R,i(e)),n(i(e),"btn_select",F,i(e)),n(i(e),"btn_convert",A,i(e)),n(i(e),"status",B,i(e)),n(i(e),"season",C,i(e)),s(i(e),"Jdata",void 0),s(i(e),"onSelect",void 0),e}a(e,t);var r=e.prototype;return r.Init=function(t,e){var a=this;if(this.node.active=!0,this.Jdata=null,this.onSelect=e,this.Jdata=t,null!=this.Jdata){var n=function(t){a.Plant.spriteFrame=t,d(a.Plant.node).to(.3,{scale:f(1.3,1.3,1.3)},{easing:"backOut"}).start()};this.Plant.node.setScale(0,0,0),null!=this.Jdata.seasonType?(1==this.Jdata.plantType?b.Instance.LoadPlant("sapling_"+this.Jdata.seasonType,n):b.Instance.LoadPlant("mama_"+this.Jdata.seasonType,n),this.season.spriteFrame=b.Instance.GetSeasonTextSpriteByName(this.Jdata.seasonType)):1==this.Jdata.plantType?b.Instance.LoadPlant("sapling_spring",n):b.Instance.LoadPlant("mama_spring",n),this.info_Amount.string=this.Jdata.usages.toString(),this.info_harvestLabelLE.string=this.Jdata.rate.le+"/"+this.Jdata.rate.hours+" Hour",this.UpdateStatus()}},r.UpdateStatus=function(){null!=this.onSelect?(this.btn_select.active=!0,this.status.node.parent.active=!1,this.btn_convert.active=!1):(this.btn_select.active=!1,this.status.node.parent.active=!1,this.btn_convert.active=!1)},r.OnBtnConvert=function(){y.Instance.ShowPopupConvertSapling(this.Jdata.sunflowerId,this.Jdata.usages,this.Jdata.plantType,this.Jdata.seasonType)},r.OnBtnSelect=function(){null!=this.onSelect&&this.onSelect(this.Jdata)},e}(h)).prototype,"info_Amount",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(L.prototype,"Plant",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(L.prototype,"info_harvestLabelLE",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(L.prototype,"btn_select",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(L.prototype,"btn_convert",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(L.prototype,"status",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(L.prototype,"season",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=L))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/GarderingBagItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts"],(function(e){"use strict";var t,i,n,r,a,o,l,s,c,g,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.defineProperty},function(e){o=e.cclegacy,l=e._decorator,s=e.Sprite,c=e.Label,g=e.Toggle,u=e.Component},function(e){d=e.ResourcesManager}],execute:function(){var p,h,f,m,b,v,y,I,B;o._RF.push({},"f409faujjNNZr+xYCnxhd/d","GarderingBagItem",void 0);var _=l.ccclass,x=l.property;e("GarderingBagItem",(p=_("GarderingBagItem"),h=x(s),f=x(c),m=x(g),p((y=t((v=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(r(t),"icon",y,r(t)),n(r(t),"amount",I,r(t)),n(r(t),"toggle",B,r(t)),a(r(t),"index",void 0),a(r(t),"_UIGarderingBag",void 0),a(r(t),"json",void 0),t}i(t,e);var o=t.prototype;return o.Init=function(e,t,i){var n=this;if(this.index=e,this._UIGarderingBag=t,this.json=i,null==i)this.icon.node.active=!1,this.toggle.interactable=!1;else{i.name.includes("TREASURE")?this.icon.node.setScale(.55,.55,1):this.icon.node.setScale(.65,.65,1),this.toggle.interactable=!0,this.amount.string="x"+i.amount.toString();d.Instance.LoadMaterialSprite(i.name,(function(e){n.icon.node.active=!0,n.icon.spriteFrame=e}))}},o.OnToggle=function(){this.toggle.interactable&&this._UIGarderingBag.OnToggle(this.toggle.isChecked,this.index)},t}(u)).prototype,"icon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(v.prototype,"amount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(v.prototype,"toggle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/PrefabController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utility.ts","./SoundController.ts"],(function(e){"use strict";var t,n,i,r,s,a,o,c,l,p,u,f,h,P,b,g,y,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.defineProperty,i=e.inheritsLoose,r=e.assertThisInitialized,s=e.initializerDefineProperty},function(e){a=e.cclegacy,o=e._decorator,c=e.Prefab,l=e.CCInteger,p=e.Node,u=e.game,f=e.systemEvent,h=e.SystemEvent,P=e.Component,b=e.instantiate},function(e){g=e.Utility},function(e){y=e.SoundController,C=e.EnumSound}],execute:function(){var v,d,_,U,E,T,m,I,R,z,L,A,D,S,w,F;e("PrefabEnum",void 0),a._RF.push({},"f747eE1kDNBwZY0E3vvQZGI","PrefabController",void 0);var G,M=o.ccclass,H=o.property,x=e("zPrefabAsset",(v=M("zPrefabAsset"),d=H(c),_=H(l),v((T=t((E=function(){function e(){s(this,"prefab",T,this),s(this,"maxIntances",m,this),n(this,"intances",[]),n(this,"intancesFree",[]),n(this,"intancesUse",[])}var t=e.prototype;return t.GetPrefab=function(e){if(this.intancesFree.length>0){var t=this.intancesFree[0];return this.intancesFree.splice(0,1),this.intancesUse.push(t),t}if(this.intances.length<this.maxIntances)return(t=b(this.prefab)).active=!1,t.setParent(e),this.intancesUse.push(t),this.intances.push(t),t;if(this.intancesUse.length>0){t=this.intancesUse[0];return this.intancesUse.splice(0,1),this.intancesUse.push(t),t}return null},t.ReturnPrefab=function(e,t){e.active=!1,e.setParent(t),this.intancesFree.push(e);var n=this.intancesUse.indexOf(e);n>-1&&this.intancesUse.splice(n,1)},t.ReturnAll=function(e){for(;this.intancesUse.length>0;){var t=this.intancesUse[0];t.active=!1,t.setParent(e),this.intancesFree.push(t),this.intancesUse.splice(0,1)}},e}()).prototype,"prefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(E.prototype,"maxIntances",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),U=E))||U));!function(e){e[e.ChaseCrow=0]="ChaseCrow",e[e.Water=1]="Water",e[e.Fertilizer=2]="Fertilizer",e[e.Tapping=3]="Tapping",e[e.LEHarvest=4]="LEHarvest",e[e.LEProjectile=5]="LEProjectile",e[e.LEReceive=6]="LEReceive",e[e.MaterialDrop=7]="MaterialDrop",e[e.Chopping_Blue=8]="Chopping_Blue",e[e.Chopping_Green=9]="Chopping_Green",e[e.Chopping_Pink=10]="Chopping_Pink",e[e.Chopping_Red=11]="Chopping_Red",e[e.Chopping_Root=12]="Chopping_Root",e[e.Bag_effect=13]="Bag_effect",e[e.MaterialDropMining=14]="MaterialDropMining",e[e.Chopping_HpLabel=15]="Chopping_HpLabel"}(G||(G=e("PrefabEnum",{})));e("PrefabController",(I=M("PrefabController"),R=H(p),z=H(x),I((F=w=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(r(t),"isPlayTabEffect",!0),n(r(t),"isPlayTabSound",!0),s(r(t),"PrefabContent",D,r(t)),s(r(t),"zPrefabAssets",S,r(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){null==t.Instance?(t.Instance=this,u.addPersistRootNode(this.node)):this.destroy(),f.on(h.EventType.MOUSE_DOWN,this.onMouseEvent,this)},a.onMouseEvent=function(e){if(this.isPlayTabEffect){var n=t.Instance.GetPrefab(G.Tapping),i=e.getUILocation();n.setPosition(i.x,i.y,0),g.PlayParticle(n),this.isPlayTabSound&&y.Instance.PlaySound(C.GameUI_openpopup,.3)}},a.onTOUCHDown=function(e,n){if(this.isPlayTabEffect){var i=t.Instance.GetPrefab(G.Tapping),r=n.getUILocation();i.setPosition(r.x,r.y,0),g.PlayParticle(i),this.isPlayTabSound&&y.Instance.PlaySound(C.GameUI_openpopup,.3)}},a.onDestroy=function(){f.off(h.EventType.TOUCH_START,this.onTOUCHDown,this)},a.GetPrefab=function(e){return this.zPrefabAssets[e].GetPrefab(this.PrefabContent)},a.ReturnPrefab=function(e,t){this.zPrefabAssets[e].ReturnPrefab(t,this.PrefabContent)},a.ReturnAllPrefab=function(e){this.zPrefabAssets[e].ReturnAll(this.PrefabContent)},t}(P),n(w,"Instance",void 0),D=t((A=F).prototype,"PrefabContent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(A.prototype,"zPrefabAssets",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=A))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/ChoppingManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UserModel.ts","./Utility.ts","./GatheringServicesApi.ts","./SoundController.ts","./PrefabController.ts","./UITutorial.ts","./UIPopupManager.ts","./GatheringManager.ts","./GatheringMiniGameUI.ts","./ChoppingMiniGame.ts","./TreePrefab.ts"],(function(e){"use strict";var t,i,n,a,o,r,s,h,l,u,c,p,m,d,g,f,S,M,T,v,I,x,b,y,C,D,G,P,w,_,E,U,O,R,L,Z,B,A,k,N,H,j;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.defineProperty},function(e){r=e.cclegacy,s=e._decorator,h=e.Camera,l=e.Node,u=e.UITransform,c=e.Prefab,p=e.SpriteFrame,m=e.v3,d=e.systemEvent,g=e.SystemEvent,f=e.Vec3,S=e.math,M=e.Vec2,T=e.v2,v=e.resources,I=e.TextAsset,x=e.instantiate,b=e.randomRangeInt,y=e.randomRange,C=e.tween,D=e.Component,G=e.Sprite,P=e.Layers},function(e){w=e.ResourcesManager},function(e){_=e.UserModel},function(e){E=e.Utility},function(e){U=e.GatheringServicesApi},function(e){O=e.SoundController,R=e.EnumSound},function(e){L=e.PrefabController,Z=e.PrefabEnum},function(e){B=e.UITutorial},function(e){A=e.UIPopupManager},function(e){k=e.GatheringManager},function(e){N=e.GatheringMiniGameUI},function(e){H=e.ChoppingMiniGame},function(e){j=e.TreePrefab}],execute:function(){var z,F,W,V,J,K,Y,X,q,Q,$,ee,te,ie,ne,ae,oe,re,se,he,le,ue,ce,pe,me,de,ge,fe,Se,Me,Te,ve,Ie,xe,be,ye,Ce,De,Ge,Pe,we,_e,Ee;r._RF.push({},"f7db5VDaI1IIpgAgkCxF5Y3","ChoppingManager",void 0);var Ue=s.ccclass,Oe=s.property;e("ChoppingManager",(z=Ue("ChoppingManager"),F=Oe(h),W=Oe(h),V=Oe(l),J=Oe(l),K=Oe(u),Y=Oe(u),X=Oe(u),q=Oe(c),Q=Oe(l),$=Oe(c),ee=Oe(l),te=Oe(l),ie=Oe(N),ne=Oe(p),ae=Oe(p),oe=Oe(p),re=Oe(p),se=Oe(H),he=Oe(B),le=Oe(l),z((pe=t((ce=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(a(t),"Camera",pe,a(t)),n(a(t),"UICamera",me,a(t)),n(a(t),"Zoom",de,a(t)),n(a(t),"Temp",ge,a(t)),n(a(t),"gameCanvas",fe,a(t)),n(a(t),"MapBGClouds",Se,a(t)),n(a(t),"MapBG",Me,a(t)),n(a(t),"ChoppingGroundTile",Te,a(t)),n(a(t),"MapParent",ve,a(t)),n(a(t),"TreePrefab",Ie,a(t)),n(a(t),"TreeParent",xe,a(t)),n(a(t),"MaterialParent",be,a(t)),n(a(t),"gatheringMiniGameUI",ye,a(t)),o(a(t),"TreeObjArray",void 0),o(a(t),"treeSlotCode",["cg1","cg2","xg1","hg1","hg2","tg1","tg2","dg1","dg2"]),o(a(t),"waterSlotCode",["cw","xw","hw1","hw2","tw","dr5","dr6"]),o(a(t),"groundObj",void 0),o(a(t),"treeSlotIndex",void 0),o(a(t),"bigTreeSlotIndex",void 0),o(a(t),"freeSlotIndex",void 0),o(a(t),"MaxZoom",2.5),o(a(t),"MinZoom",void 0),o(a(t),"MaxMinZoom",.2),o(a(t),"MinMinZoom",1),o(a(t),"DefaultZoom",1.5),o(a(t),"TargetZoom",1.5),o(a(t),"ZoomSpeed",.5),o(a(t),"ismouseDown0",!1),o(a(t),"ismouseDown1",!1),o(a(t),"mouseDownPos0",void 0),o(a(t),"mouseDownPos1",void 0),o(a(t),"mouscePosDistance",0),o(a(t),"maxx",void 0),o(a(t),"minx",void 0),o(a(t),"maxy",void 0),o(a(t),"miny",void 0),o(a(t),"cameraTargetpos",m(0,0,100)),o(a(t),"MapData",""),n(a(t),"TileGround",Ce,a(t)),n(a(t),"Tree_Big",De,a(t)),n(a(t),"Tree_small",Ge,a(t)),o(a(t),"Root",void 0),o(a(t),"totalResource",-1),o(a(t),"currentResource",0),o(a(t),"tileName",{spring:["xhr2","xg1","xr2","cg1","cr2","xhr1","xr1","xw","cw"],summer:["cr2","hg1","hg2","cr1","hw2","hw1","cw","xhr2","xhr1"],autumn:["tg1","tg2","cr2","tr1","tr2","tw","cw","cr1"],winter:["dr6","dg2","dr1","dr2","dg1","dr5","dr4","dr3"]}),n(a(t),"Decor",Pe,a(t)),o(a(t),"season",void 0),o(a(t),"svTreeJson",void 0),o(a(t),"isInit",!1),o(a(t),"isDoneLoadSvData",!1),o(a(t),"isLoadSvDataSus",!1),o(a(t),"isDoneInit",!1),o(a(t),"MaterialDrops",[]),n(a(t),"choppingMiniGame",we,a(t)),o(a(t),"isMiniGameStart",!1),o(a(t),"currentTreeChopping",null),n(a(t),"uITutorial",_e,a(t)),n(a(t),"FXSelect",Ee,a(t)),o(a(t),"isCheat",!1),t}i(t,e);var r=t.prototype;return r.start=function(){O.Instance.SetBgMusic(R.BG_Chopping),d.on(g.EventType.MOUSE_WHEEL,this.onMOUSE_WHEEL,this),d.on(g.EventType.TOUCH_START,this.onMOUSE_DOWN,this),d.on(g.EventType.TOUCH_END,this.onMOUSE_UP,this),d.on(g.EventType.TOUCH_CANCEL,this.onMOUSE_UP,this),d.on(g.EventType.TOUCH_MOVE,this.onMOUSE_MOVE,this),E.addResizeCallBack(this.node,function(){this.CaculateZoomAndBound()}.bind(this)),this.AsyncLoadResource(this.isCheat),this.GetMap(this.isCheat),this.choppingMiniGame.node.active=!1,this.isCheat?this.isLoadSvDataSus=!0:this.gatheringMiniGameUI.UpdateStaminaLabel()},r.update=function(e){if(this.isDoneInit){var t=new f(0,0,0);f.lerp(t,this.Camera.node.getPosition(),this.cameraTargetpos,15*e),this.Camera.node.setPosition(t);var i=S.lerp(this.Zoom.scale.x,this.TargetZoom,15*e);this.Zoom.setScale(i,i,1)}!this.isInit&&this.isDoneLoadSvData&&this.totalResource==this.currentResource&&(this.isInit=!0,this.isLoadSvDataSus?this.GenerateMap():this.BackToSceneGathering())},r.onMOUSE_DOWN=function(e,t){var i=t.getID();this.isMiniGameStart||(0==i&&(this.ismouseDown0=!0,this.mouseDownPos0=t.getUILocation()),1==i&&(this.ismouseDown1=!0,this.mouseDownPos1=t.getUILocation()),this.ismouseDown1&&this.ismouseDown0&&(this.mouscePosDistance=M.distance(this.mouseDownPos0,this.mouseDownPos1)))},r.onMOUSE_UP=function(e,t){var i=t.getID();this.isMiniGameStart||(0==i&&(this.ismouseDown0=!1,this.SetCamPos(T(this.cameraTargetpos.x,this.cameraTargetpos.y))),1==i&&(this.ismouseDown1=!1,this.SetCamPos(T(this.cameraTargetpos.x,this.cameraTargetpos.y))))},r.onMOUSE_MOVE=function(e,t){if(this.ismouseDown0)if(this.ismouseDown1){var i=t.getID();0==i&&(this.mouseDownPos0=t.getUILocation()),1==i&&(this.mouseDownPos1=t.getUILocation());var n=M.distance(this.mouseDownPos0,this.mouseDownPos1),a=n-this.mouscePosDistance,o=this.TargetZoom+.01*a;o<this.MinZoom&&(o=this.MinZoom),o>this.MaxZoom&&(o=this.MaxZoom);var r=o/this.TargetZoom;this.TargetZoom=o,this.SetCamPos(T(this.cameraTargetpos.x*r,this.cameraTargetpos.y*r)),this.mouscePosDistance=n}else{var s=t.getUILocation(),h=new M(this.cameraTargetpos.x,this.cameraTargetpos.y);M.subtract(s,s,this.mouseDownPos0);M.multiplyScalar(s,s,-1),M.add(h,h,s),this.SetCamPos(h),this.mouseDownPos0=t.getUILocation()}},r.onMOUSE_WHEEL=function(e){if(!this.isMiniGameStart){var t=e.getScrollY(),i=this.TargetZoom-(t<0?this.ZoomSpeed:-this.ZoomSpeed);i<this.MinZoom&&(i=this.MinZoom),i>this.MaxZoom&&(i=this.MaxZoom);var n=i/this.TargetZoom;this.TargetZoom=i,this.SetCamPos(T(this.cameraTargetpos.x*n,this.cameraTargetpos.y*n))}},r.SetCamPos=function(e){var t=this.maxx-this.minx,i=this.maxy-this.miny,n=this.TargetZoom-this.MinZoom;i*=n,t*=n,i+=this.ismouseDown0||this.ismouseDown1?300:100,t+=this.ismouseDown0||this.ismouseDown1?300:100,e.x>t&&(e.x=t),e.x<-t&&(e.x=-t),e.y>i&&(e.y=i),e.y<-i&&(e.y=-i),this.cameraTargetpos=new f(e.x,e.y,1e3)},r.GetMap=function(e){var t=this;if(e){this.svTreeJson=JSON.parse(_.fakeChoppingdata[_.fakeChoppingMapIndex%3]).data;var i="chopping/mapdata/"+this.season+"_map_"+(_.fakeChoppingMapIndex%3).toString();return v.load(i,I,(function(e,i){var n;n=i,t.MapData=n.text,t.isDoneLoadSvData=!0})),void _.fakeChoppingMapIndex++}U.CHOPPING_GET_MAP(_.curWorldMapData.playingMiniGameId,function(e){var i=JSON.parse(e);if(0==i.status){t.svTreeJson=i.data;var n=0;switch(t.svTreeJson.size){case 0:break;case 1:case 4:n++;break;default:n+=2}var a="chopping/mapdata/"+t.season+"_map_"+n.toString();v.load(a,I,(function(e,i){var n;n=i,t.MapData=n.text,t.isLoadSvDataSus=!0,t.isDoneLoadSvData=!0}))}else A.Instance.ShowToast("Error",w.Instance.GetErrorMessage(i.status),0,!1),t.isLoadSvDataSus=!1,t.isDoneLoadSvData=!0}.bind(this),function(e){t.isLoadSvDataSus=!1,t.isDoneLoadSvData=!0}.bind(this))},r.AsyncLoadResource=function(e){var t=this;if(e)switch(_.fakeChoppingMapIndex){case 0:case 1:case 2:_.SeasonData.season="spring";break;case 3:case 4:case 5:_.SeasonData.season="summer";break;case 6:case 7:case 8:_.SeasonData.season="autumn";break;default:_.SeasonData.season="winter"}this.season=_.SeasonData.season,this.totalResource=0,this.currentResource=0;var i="",n=2,a=this.season;"summer"==a&&(a="spring");for(var o=function(e){t.Tree_Big.push(e),t.currentResource++},r=0;r<n;r++)this.totalResource++,i="chopping/map/tree/LARGE_TREE_"+a+"_"+r.toString()+"/spriteFrame",v.load(i,p,(function(e,t){o(t)}));n=3,"summer"!=(a=this.season)&&"spring"!=a||(n=4);for(var s=function(e){t.Tree_small.push(e),t.currentResource++},h=0;h<n;h++)this.totalResource++,i="chopping/map/tree/SMALL_TREE_"+a+"_"+h.toString()+"/spriteFrame",v.load(i,p,(function(e,t){s(t)}));for(var l=this.tileName[this.season],u=function(e){t.TileGround.push(e),t.currentResource++},c=0;c<l.length;c++)this.totalResource++,i="chopping/map/ground/"+l[c]+"/spriteFrame",v.load(i,p,(function(e,t){u(t)}));a="winter"==this.season?"1":"0";this.totalResource++,i="chopping/map/root/SMALL_TREE_"+a+"/spriteFrame",v.load(i,p,(function(e,i){!function(e){t.Root=e,t.currentResource++}(i)}))},r.GenerateMap=function(){var e=this,t=this.MapData.split("\n");this.groundObj=[],this.treeSlotIndex=[],this.bigTreeSlotIndex=[],this.freeSlotIndex=[];for(var i=[],n=0;n<t.length;n++){this.groundObj[n]=[];for(var a=t[n].split(","),o=function(t){var o=a[t].trim().split("_");if(""!=o[0]){var r=x(e.ChoppingGroundTile);e.groundObj[n][t]=r,r.setParent(e.Temp);var s=e.TileGround.findIndex((function(e){return e.name==o[0]}));-1==s&&(-1==(s=i.findIndex((function(e){return e==o[0]})))&&i.push(o[0]),s=0),r.getComponent(G).spriteFrame=e.TileGround[s],r.setPosition(75*(t-n),-37.5*(n+t),0),(e.maxx<r.position.x||null==e.maxx)&&(e.maxx=r.position.x),(e.minx>r.position.x||null==e.minx)&&(e.minx=r.position.x),(e.maxy<r.position.y||null==e.maxy)&&(e.maxy=r.position.y),(e.miny>r.position.y||null==e.miny)&&(e.miny=r.position.y),(s=e.treeSlotCode.findIndex((function(e){return e==o[0]})))>-1?(e.treeSlotIndex.push(T(n,t)),o.length>1&&"b"==o[1]&&e.bigTreeSlotIndex.push(T(n,t))):(s=e.waterSlotCode.findIndex((function(e){return e==o[0]})))<=-1&&e.freeSlotIndex.push(T(n,t))}},r=16;r<a.length;r++)o(r)}i.length>0&&console.error("Can not find image of tile name: ",i),this.AddTreeAndDecor(),this.StartCloudMove(),this.MoveMapToZero(),this.CaculateZoomAndBound(),this.isDoneInit=!0},r.CaculateZoomAndBound=function(){var e=this.gameCanvas.width/(this.maxx-this.minx),t=this.gameCanvas.height/(this.maxy-this.miny);this.MinZoom=e<t?e:t,this.MinZoom*=.9,this.MinZoom<this.MaxMinZoom&&(this.MinZoom=this.MaxMinZoom),this.MinZoom>this.MinMinZoom&&(this.MinZoom=this.MinMinZoom)},r.MoveMapToZero=function(){var e=m((this.maxx+this.minx)/2,(this.maxy+this.miny)/2,0);this.MapParent.setPosition(e),this.TreeParent.setPosition(e);for(var t=0;t<this.TreeObjArray.length;t++)this.TreeObjArray[t].setParent(this.TreeParent,!0);this.TreeParent.setPosition(0,0,0);for(var i=0;i<this.groundObj.length;i++)for(var n=0;n<this.groundObj[i].length;n++)null!=this.groundObj[i][n]&&this.groundObj[i][n].setParent(this.MapParent,!0);this.MapParent.setPosition(0,0,0),this.TargetZoom=this.DefaultZoom,this.Zoom.setScale(this.DefaultZoom,this.DefaultZoom,1)},r.AddTreeAndDecor=function(){var e=this,t=[],i=this.svTreeJson,n=i.objects.length;this.isCheat||this.gatheringMiniGameUI.Init(0,n,(function(){e.OnBtnSkip()})),this.bigTreeSlotIndex.sort((function(){return Math.random()>.5?1:-1}));for(var a=0,o=0;o<n;o++)if("LARGE_TREE"==i.objects[o].type)if(a<this.bigTreeSlotIndex.length){var r=new M(this.bigTreeSlotIndex[a]),s={index:r,json:i.objects[o],svIndex:o};t.push(s),a++,this.removeTreeSlotUsedByBigTree(r.x,r.y)}else console.error("out of tree slot");a=0,this.treeSlotIndex.sort((function(){return Math.random()>.5?1:-1}));for(var h=0;h<n;h++)if("LARGE_TREE"!=i.objects[h].type)if(a<this.treeSlotIndex.length){var l={index:new M(this.treeSlotIndex[a]),json:i.objects[h],svIndex:h};t.push(l),a++}else console.error("out of tree slot");this.freeSlotIndex.sort((function(){return Math.random()>.5?1:-1})),n=Math.floor(this.freeSlotIndex.length/3);for(var u=0;u<n;u++)if(u<this.freeSlotIndex.length){var c={index:new M(this.freeSlotIndex[u]),json:null,svIndex:-1};t.push(c)}t.sort((function(t,i){return e.SortObjToSpawns(t,i)})),this.TreeObjArray=[];for(var p=0;p<t.length;p++)this.SpawnTree(t[p].json,t[p].index,t[p].svIndex)},r.removeTreeSlotUsedByBigTree=function(e,t){var i=this.treeSlotIndex.findIndex((function(i){return i.x==e&&i.y==t}));this.treeSlotIndex.splice(i,1),i=this.treeSlotIndex.findIndex((function(i){return i.x==e+1&&i.y==t})),this.treeSlotIndex.splice(i,1),i=this.treeSlotIndex.findIndex((function(i){return i.x==e&&i.y==t+1})),this.treeSlotIndex.splice(i,1),i=this.treeSlotIndex.findIndex((function(i){return i.x==e+1&&i.y==t+1})),this.treeSlotIndex.splice(i,1)},r.SortObjToSpawns=function(e,t){return e.index.x<t.index.x?-1:e.index.x>t.index.x?1:e.index.y<t.index.y?-1:(e.index.y,t.index.y,1)},r.SpawnTree=function(e,t,i){var n=x(this.TreePrefab);n.setParent(this.Temp),n.setPosition(this.groundObj[t.x][t.y].getPosition());var a=n.getComponent(j),o=null,r=null;null!=e?(o="SMALL_TREE"==e.type?this.Tree_small[b(0,this.Tree_small.length)]:this.Tree_Big[b(0,this.Tree_Big.length)],r=this.Root):o=this.Decor[b(0,this.Decor.length)],a.Init(o,r,e,i,this),this.TreeObjArray.push(n)},r.TreeChop=function(e,t){var i=this;this.currentTreeChopping.OnChop();U.CHOPPING_TREE_V2(e.svIndex.toString(),t,(function(t){var n=U.CheckStatus(JSON.parse(t));if(null!=n){if(1010==n.status)return void A.Instance.ShowUINotifyConfirm("Insufficient Stamina",w.Instance.GetErrorMessage(1010),function(){this.BackToSceneGathering()}.bind(i),!1,!1,0,!0);_.userGatherData.currentStamina=n.data.stamina,i.gatheringMiniGameUI.UpdateStaminaLabel();for(var a=!0,o=n.data.rewards.length,r=function(t){var o=n.data.rewards[t],r=o.rewardType,s=o.token,h=o.data;if((h.includes("SAPLING")||h.includes("MAMA"))&&(h=E.SunflowerSvNameToResourceName(h)),"NOTHING"!=h){a=!1;var l=k.Instance.SwapMaterial();l.node.setParent(i.MaterialParent),l.node.setScale(.4,.4,1),l.Init(60,10,r,s,h,P.Enum.UI_3D,(function(e){i.ReleaseMaterialDrop(e)}),(function(){i.OnGetKey()}),(function(){var e=i.Camera.node.getWorldPosition(),t=i.UICamera.node.getWorldPosition(),n=new f(e.x-t.x,e.y-t.y,0);l.ChangeLayer(P.Enum.UI_2D);var a=l.node.getWorldPosition().subtract(n);l.node.setWorldPosition(a),i.gatheringMiniGameUI.OpenBag(),O.Instance.PlaySound(R.UI_Item_Slide_to_Bag),l.TweenToBag(i.gatheringMiniGameUI.BagSprite.node.worldPosition,(function(){i.gatheringMiniGameUI.CloseBag(!0)}))}),(function(){var t=new f(e.node.position);t.y+=60,l.node.setPosition(t),t.x+=y(0,1)>.5?y(-180,-30):y(30,180),t.y+=y(-20,100),C(l.node).to(.2,{scale:m(1,1,1)}).start(),C(l.node).to(.3,{position:t}).call((function(){"KEY"==h&&(l.Key.active=!0,E.PlayParticle(l.Key))})).start()})),i.MaterialDrops.push(l)}},s=0;s<o;s++)r(s);var h="MISSED";if(a&&o>0)h="NOTHING";else{var l=n.data.power;l>0&&(h="-"+l+" HP")}i.currentTreeChopping.spawnHpFx(h),o>0&&!a&&O.Instance.PlaySound(R.UI_Item_Appear),_.userGatherData.CHOPPING_level.exp=n.data.expData.exp,_.userGatherData.CHOPPING_level.level=n.data.expData.level,i.gatheringMiniGameUI.gatheringLevelTop.UpdateView(0),n.data.tree.isExploited?(i.OnCloseMiniGame(),e.OnDead(),e.OnTreeStumpDead(),i.gatheringMiniGameUI.curItem=i.gatheringMiniGameUI.curItem-1):(e.heath>0&&"SMALL_STUMP"==n.data.tree.type&&e.OnDead(),i.choppingMiniGame.InitMiniGame(n.data.tree.type),i.currentTreeChopping.Select())}else i.choppingMiniGame.InitMiniGame("")}),(function(e){i.choppingMiniGame.InitMiniGame("")}))},r.OnGetKey=function(){this.gatheringMiniGameUI.skipGameBtnstate=1},r.StartCloudMove=function(){for(var e=0;e<this.MapBGClouds.length;e++)this.CloudTween(this.MapBGClouds[e],!0)},r.CloudTween=function(e,t){var i=this,n=this.MapBG.width/2,a=this.MapBG.height/2,o=-n-e.width,r=y(-a,a),s=t?y(o,n):n,h=y(100,400),l=Math.abs(o-s)/h;e.node.setPosition(s,r,0),C(e.node).to(l,{position:m(o,r,0)}).call((function(){i.CloudTween(e,!1)})).start()},r.OnBtnSkip=function(){0==this.gatheringMiniGameUI.skipGameBtnstate?k.Instance.ShowMaterialWarning(50,"Next mini game fee:",this.ValidateSkipGameServer.bind(this)):2==this.gatheringMiniGameUI.skipGameBtnstate?this.ValidateFinishGameServer():k.Instance.ShowMaterialWarning(-1,"Skip This Mini Game",this.ValidateFinishGameServer.bind(this))},r.ValidateFinishGameServer=function(){var e=this;U.CHOPPING_FINISH(function(t){var i=U.CheckStatus(JSON.parse(t));null!=i&&(_.curWorldMapData=i.data.route,e.BackToSceneGathering())}.bind(this),function(e){}.bind(this))},r.ValidateSkipGameServer=function(){var e=this;U.CHOPPING_SKIP(function(t){var i=U.CheckStatus(JSON.parse(t));null!=i&&(_.curWorldMapData=i.data.route,_.userGatherData.currentStamina=i.data.stamina,e.BackToSceneGathering())}.bind(this),function(e){}.bind(this))},r.BackToSceneGathering=function(){for(E.removeResizeCallBack(this.node),O.Instance.SetBgMusic(R.BG_Farm),null!=this.currentTreeChopping&&this.currentTreeChopping.DeSelect();this.MaterialDrops.length>0;)this.MaterialDrops[0].Release();L.Instance.ReturnAllPrefab(Z.Chopping_HpLabel),L.Instance.ReturnAllPrefab(Z.Chopping_Blue),L.Instance.ReturnAllPrefab(Z.Chopping_Green),L.Instance.ReturnAllPrefab(Z.Chopping_Pink),L.Instance.ReturnAllPrefab(Z.Chopping_Red),L.Instance.ReturnAllPrefab(Z.Chopping_Root),L.Instance.ReturnAllPrefab(Z.Bag_effect),A.Instance.HideToast(),L.Instance.isPlayTabSound=!0,d.off(g.EventType.MOUSE_WHEEL,this.onMOUSE_WHEEL,this),d.off(g.EventType.TOUCH_START,this.onMOUSE_DOWN,this),d.off(g.EventType.TOUCH_END,this.onMOUSE_UP,this),d.off(g.EventType.TOUCH_CANCEL,this.onMOUSE_UP,this),d.off(g.EventType.TOUCH_MOVE,this.onMOUSE_MOVE,this),A.Instance.LoadScene("1.Gathering")},r.ReleaseMaterialDrop=function(e){var t=this.MaterialDrops.findIndex((function(t){return t.rewardToken==e.rewardToken}));t>-1&&this.MaterialDrops.splice(t,1)},r.OnBtnUITutorial=function(){this.uITutorial.Show(1)},r.OnTreeClick=function(e){if(this.isMiniGameStart)this.ChopTree();else{this.currentTreeChopping=e,this.isMiniGameStart=!0,L.Instance.isPlayTabSound=!1,this.ismouseDown0=!1,this.ismouseDown1=!1,this.choppingMiniGame.Show();var t=e.json.type;"SMALL_TREE"==t&&e.heath<=0&&(t="SMALL_STUMP"),this.choppingMiniGame.InitMiniGame(t),this.currentTreeChopping.Select()}},r.OnCloseMiniGame=function(){this.choppingMiniGame.Hide(),this.isMiniGameStart=!1,L.Instance.isPlayTabSound=!0,this.currentTreeChopping.DeSelect(),this.currentTreeChopping=null},r.ChopTree=function(){if(this.isMiniGameStart&&this.choppingMiniGame.isInit){var e=this.choppingMiniGame.ChopTree();this.TreeChop(this.currentTreeChopping,e)}},t}(D)).prototype,"Camera",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=t(ce.prototype,"UICamera",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=t(ce.prototype,"Zoom",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=t(ce.prototype,"Temp",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=t(ce.prototype,"gameCanvas",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=t(ce.prototype,"MapBGClouds",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Me=t(ce.prototype,"MapBG",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=t(ce.prototype,"ChoppingGroundTile",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=t(ce.prototype,"MapParent",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=t(ce.prototype,"TreePrefab",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=t(ce.prototype,"TreeParent",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=t(ce.prototype,"MaterialParent",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=t(ce.prototype,"gatheringMiniGameUI",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=t(ce.prototype,"TileGround",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),De=t(ce.prototype,"Tree_Big",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ge=t(ce.prototype,"Tree_small",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pe=t(ce.prototype,"Decor",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),we=t(ce.prototype,"choppingMiniGame",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=t(ce.prototype,"uITutorial",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=t(ce.prototype,"FXSelect",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=ce))||ue));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./ResourcesManager.ts","./UIEggItem.ts","./EggItem.ts","./ConfigApi.ts","./UserModel.ts","./FarmingServicesApi.ts","./Utility.ts","./GatheringServicesApi.ts","./DropDown.ts","./SoundController.ts","./PopUpBase.ts","./UIBugReport.ts","./UIItemInfo.ts","./UINotifyConfirm.ts","./OneToMultiListener.ts","./EventManager.ts","./SimplePool.ts","./SpriteRatioHelper.ts","./UndeadAssetItem.ts","./UIScreenChooseExpedition.ts","./PopupConvertSapling.ts","./UIPopupBuyStamina.ts","./LoginManager.ts","./UIPopupNewSeason.ts","./TreasureAssetsItem.ts","./TreasureAssetsOpen.ts","./TreasureOpenItem.ts","./TreasureAssetsOpenFX.ts","./Filter.ts","./FarmPage.ts","./LandItem.ts","./PlantISunflowertem.ts","./PlantItem.ts","./UIItemMaterial.ts","./UIScreenAssets.ts","./ChoseLandItem.ts","./UIScreenChoseLand.ts","./UIScreenChosePlant.ts","./ExpeditionHelper.ts","./ExpeditionItem.ts","./UIExpeditionFoodItem.ts","./UINotifyExpeditionItem.ts","./UINotifyExpedition.ts","./UIScreenExpedition.ts","./PrefabController.ts","./FramItem.ts","./FramTool.ts","./UIPopupChangeLog.ts","./TutorialSkillLevel.ts","./UITutorial.ts","./UIScreenFram.ts","./ItemShopTool.ts","./ShopToolsPurchase.ts","./UIScreenShopTools.ts","./UIScreenWeather.ts","./UImanager.ts","./UIPopupSetting.ts","./UIThanks.ts","./UIToast.ts","./UIExRewardItem.ts","./UIFinishExpeditionPopup.ts","./UIPopupNurtureUndead.ts","./UIPopupOpenEgg.ts","./UIPopupUndeadInfo.ts","./UIPopupManager.ts","./ResHttp.ts","./ExpeditionServiceApi.ts","./ExpeditionConfig.ts","./UIExpeditionPopup.ts","./HeaderShowAnim.ts","./CloudTween.ts","./MaterialDropMining.ts","./FishObjectShadow.ts","./UIUndeadItem.ts","./GatherEndPopup.ts","./MaterialDrop.ts","./MysteryPopup.ts","./GarderingBagItem.ts","./UIGarderingBag.ts","./GatheringLevelTop.ts","./UIGarderingLevelFX.ts","./UIGarderingLevel.ts","./UIPopupMaterialWarning.ts","./GatheringManager.ts","./GatheringMiniGameUI.ts","./UIPopupPullFishing.ts","./FishingManager.ts","./FishShadow.ts","./FishingMap.ts","./ShopMarket.ts","./MiningRock.ts","./ChoppingHpLabel.ts","./PlayAnim.ts","./RoutesItem.ts","./ParticlePlayHelper.ts","./ChoppingMiniGame.ts","./ChoppingData.ts","./btnGathering.ts","./ButtonAnim.ts","./ZoomInOut.ts","./Interface.ts","./MoveUVParticle.ts","./TreePrefab.ts","./MiningStartPannel.ts","./MiningManager.ts","./TreeClick.ts","./Timer.ts","./GatheringRoutesMap.ts","./UIScreenGathering.ts","./UIFitWidthHelper.ts","./UIExpeditionFood.ts","./ChoppingManager.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});